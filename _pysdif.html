<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">

body { font-family: courier; font-size: 12; }

.code  { font-size: 9; color: #444444; display: none; margin-left: 20px; }
.py_api  { color: red; }
.pyx_api  { color: #FF3000; }
.py_macro_api  { color: #FF8000; }
.error_goto  { color: #FF8000; }

.tag  {  }

.coerce  { color: #008000; border: 1px dotted #008000 }

.py_attr { color: #FF0000; font-weight: bold; }
.c_attr  { color: #0000FF; }

.py_call { color: #FF0000; font-weight: bold; }
.c_call  { color: #0000FF; }

.line { margin: 0em }

</style>
<script>
function toggleDiv(id) {
    theDiv = document.getElementById(id);
    if (theDiv.style.display == 'none') theDiv.style.display = 'block';
    else theDiv.style.display = 'none';
}
</script>
</head>
        <body>
<p>Generated by Cython 0.11.3 on Thu Dec 10 22:21:17 2009
<p>Raw output: <a href="_pysdif.c">_pysdif.c</a>
<pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1")'> 1: #cython: embedsignature=True</pre>
<pre id='line1' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line2")'> 2: </pre>
<pre id='line2' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line3")'> 3: from stdio cimport *</pre>
<pre id='line3' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line4")'> 4: from stdlib cimport *</pre>
<pre id='line4' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line5")'> 5: </pre>
<pre id='line5' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line6")'> 6: cdef extern from "string.h":</pre>
<pre id='line6' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line7")'> 7:     ctypedef void* const_void_ptr "const void *"</pre>
<pre id='line7' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line8")'> 8:     void *memcpy(void *s1, const_void_ptr s2, size_t n)</pre>
<pre id='line8' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line9")'> 9:     void import_array()</pre>
<pre id='line9' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line10")'> 10: </pre>
<pre id='line10' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF6e' onclick='toggleDiv("line11")'> 11: import os.path</pre>
<pre id='line11' class='code' style='background-color: #FFFF6e'>
    __pyx_1 = <span class='pyx_api'>__Pyx_Import</span>(__pyx_kp_38, 0);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  if (<span class='py_api'>PyObject_SetAttr</span>(__pyx_m, __pyx_kp_os, __pyx_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFF6e' onclick='toggleDiv("line12")'> 12: import numpy</pre>
<pre id='line12' class='code' style='background-color: #FFFF6e'>
    __pyx_1 = <span class='pyx_api'>__Pyx_Import</span>(__pyx_kp_numpy, 0);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 12; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  if (<span class='py_api'>PyObject_SetAttr</span>(__pyx_m, __pyx_kp_numpy, __pyx_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 12; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line13")'> 13: cimport numpy as c_numpy</pre>
<pre id='line13' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line14")'> 14: from numpy cimport ndarray, npy_intp</pre>
<pre id='line14' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line15")'> 15: from python_string cimport PyString_FromStringAndSize</pre>
<pre id='line15' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line16")'> 16: </pre>
<pre id='line16' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line17")'> 17: cdef extern from "numpy/arrayobject.h":</pre>
<pre id='line17' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line18")'> 18:     PyArray_SimpleNew(int nd, npy_intp *dims, int type_num)</pre>
<pre id='line18' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line19")'> 19:     PyArray_SimpleNewFromData(int nd, npy_intp *dims, int type_num, void *data)</pre>
<pre id='line19' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line20")'> 20: </pre>
<pre id='line20' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line21")'> 21: from pysdif cimport *</pre>
<pre id='line21' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line22")'> 22: </pre>
<pre id='line22' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line23")'> 23: DEF _SdifNVTStreamID = 0xfffffffd</pre>
<pre id='line23' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line24")'> 24: </pre>
<pre id='line24' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line25")'> 25: # ----------------------------------------------------------------------------------</pre>
<pre id='line25' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line26")'> 26: </pre>
<pre id='line26' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line27")'> 27: cdef int SDIF_CLOSED = 2</pre>
<pre id='line27' class='code' style='background-color: #FFFFff'>
    __pyx_v_6pysdif_7_pysdif_SDIF_CLOSED = 2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line28")'> 28: cdef int _g_sdif_initiated = 0</pre>
<pre id='line28' class='code' style='background-color: #FFFFff'>
    __pyx_v_6pysdif_7_pysdif__g_sdif_initiated = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line29")'> 29: </pre>
<pre id='line29' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line30")'> 30: cdef dict _SDIF_FILEMODE = {</pre>
<pre id='line30' class='code' style='background-color: #FFFF8d'>
    __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line31")'> 31:     'r' : eReadFile,</pre>
<pre id='line31' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(eReadFile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_39, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line32")'> 32:     'w' : eWriteFile,</pre>
<pre id='line32' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(eWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_40, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line33")'> 33:     'rw': eReadWriteFile,</pre>
<pre id='line33' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(eReadWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 33; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_41, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line34")'> 34:     'wr': eReadWriteFile</pre>
<pre id='line34' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF48' onclick='toggleDiv("line35")'> 35: }</pre>
<pre id='line35' class='code' style='background-color: #FFFF48'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(eReadWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 35; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_42, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_FILEMODE));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_FILEMODE));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_1));
  __pyx_v_6pysdif_7_pysdif__SDIF_FILEMODE = __pyx_1;
  __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line36")'> 36: </pre>
<pre id='line36' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line37")'> 37: cdef dict _SDIF_DATATYPES = {</pre>
<pre id='line37' class='code' style='background-color: #FFFF8d'>
    __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line38")'> 38:     0x0301:"char",</pre>
<pre id='line38' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0301, __pyx_kp_43) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line39")'> 39:     0x0004:"float32",</pre>
<pre id='line39' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0004, __pyx_kp_44) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line40")'> 40:     0x0008:"float64",</pre>
<pre id='line40' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0008, __pyx_kp_45) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line41")'> 41:     0x0101:"int8",</pre>
<pre id='line41' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0101, __pyx_kp_46) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line42")'> 42:     0x0102:"int16",</pre>
<pre id='line42' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0102, __pyx_kp_47) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line43")'> 43:     0x0104:"int32",</pre>
<pre id='line43' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0104, __pyx_kp_48) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line44")'> 44:     0x0108:"int64",</pre>
<pre id='line44' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0108, __pyx_kp_49) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line45")'> 45:     0x0201:"uint8",</pre>
<pre id='line45' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0201, __pyx_kp_50) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line46")'> 46:     0x0202:"uint16",</pre>
<pre id='line46' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0202, __pyx_kp_51) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line47")'> 47:     0x0204:"uint32",</pre>
<pre id='line47' class='code' style='background-color: #FFFFaa'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0204, __pyx_kp_52) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line48")'> 48:     0x0208:"uint64",</pre>
<pre id='line48' class='code' style='background-color: #FFFF6a'>
    if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0208, __pyx_kp_53) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 37; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_DATATYPES));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_DATATYPES));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_1));
  __pyx_v_6pysdif_7_pysdif__SDIF_DATATYPES = __pyx_1;
  __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line49")'> 49:     }</pre>
<pre id='line49' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line50")'> 50: </pre>
<pre id='line50' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line51")'> 51: cdef dict _SDIF_TO_NUMPY_TYPENUM = {</pre>
<pre id='line51' class='code' style='background-color: #FFFF8d'>
    __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line52")'> 52:     0x0301:c_numpy.NPY_BYTE,</pre>
<pre id='line52' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_BYTE);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 52; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0301, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line53")'> 53:     0x0004:c_numpy.NPY_FLOAT,</pre>
<pre id='line53' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_FLOAT);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0004, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line54")'> 54:     0x0008:c_numpy.NPY_DOUBLE,</pre>
<pre id='line54' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_DOUBLE);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 54; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0008, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line55")'> 55:     0x0101:c_numpy.NPY_BYTE,</pre>
<pre id='line55' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_BYTE);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 55; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0101, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line56")'> 56:     0x0102:c_numpy.NPY_SHORT,</pre>
<pre id='line56' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_SHORT);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 56; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0102, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line57")'> 57:     0x0104:c_numpy.NPY_INT,</pre>
<pre id='line57' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_INT);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 57; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0104, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line58")'> 58:     0x0108:c_numpy.NPY_LONG,</pre>
<pre id='line58' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_LONG);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 58; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0108, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line59")'> 59:     0x0201:c_numpy.NPY_UBYTE,</pre>
<pre id='line59' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_UBYTE);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 59; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0201, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line60")'> 60:     0x0202:c_numpy.NPY_USHORT,</pre>
<pre id='line60' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_USHORT);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 60; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0202, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line61")'> 61:     0x0204:c_numpy.NPY_UINT,</pre>
<pre id='line61' class='code' style='background-color: #FFFF62'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_UINT);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 61; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0204, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF48' onclick='toggleDiv("line62")'> 62:     0x0208:c_numpy.NPY_ULONG</pre>
<pre id='line62' class='code' style='background-color: #FFFF48'>
    __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(NPY_ULONG);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 62; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_int_0x0208, __pyx_t_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_TO_NUMPY_TYPENUM));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_TO_NUMPY_TYPENUM));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_1));
  __pyx_v_6pysdif_7_pysdif__SDIF_TO_NUMPY_TYPENUM = __pyx_1;
  __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line63")'> 63:     }</pre>
<pre id='line63' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line64")'> 64: </pre>
<pre id='line64' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line65")'> 65: cdef inline int dtype_sdif2numpy(int typenum):</pre>
<pre id='line65' class='code' style='background-color: #FFFFd4'>
static INLINE int __pyx_f_6pysdif_7_pysdif_dtype_sdif2numpy(int __pyx_v_typenum) {
  int __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("dtype_sdif2numpy");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line66")'> 66:     if   typenum == 0x0004: typenum = c_numpy.NPY_FLOAT</pre>
<pre id='line66' class='code' style='background-color: #FFFFff'>
    switch (__pyx_v_typenum) {
    case 0x0004:
    __pyx_v_typenum = NPY_FLOAT;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line67")'> 67:     elif typenum == 0x0301: typenum = c_numpy.NPY_BYTE</pre>
<pre id='line67' class='code' style='background-color: #FFFFff'>
        case 0x0301:
    __pyx_v_typenum = NPY_BYTE;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line68")'> 68:     elif typenum == 0x0008: typenum = c_numpy.NPY_DOUBLE</pre>
<pre id='line68' class='code' style='background-color: #FFFFff'>
        case 0x0008:
    __pyx_v_typenum = NPY_DOUBLE;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line69")'> 69:     elif typenum == 0x0104: typenum = c_numpy.NPY_INT</pre>
<pre id='line69' class='code' style='background-color: #FFFFff'>
        case 0x0104:
    __pyx_v_typenum = NPY_INT;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line70")'> 70:     elif typenum == 0x0101: typenum = c_numpy.NPY_BYTE</pre>
<pre id='line70' class='code' style='background-color: #FFFFff'>
        case 0x0101:
    __pyx_v_typenum = NPY_BYTE;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line71")'> 71:     elif typenum == 0x0102: typenum = c_numpy.NPY_SHORT</pre>
<pre id='line71' class='code' style='background-color: #FFFFff'>
        case 0x0102:
    __pyx_v_typenum = NPY_SHORT;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line72")'> 72:     elif typenum == 0x0108: typenum = c_numpy.NPY_LONG</pre>
<pre id='line72' class='code' style='background-color: #FFFFff'>
        case 0x0108:
    __pyx_v_typenum = NPY_LONG;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line73")'> 73:     elif typenum == 0x0201: typenum = c_numpy.NPY_UBYTE</pre>
<pre id='line73' class='code' style='background-color: #FFFFff'>
        case 0x0201:
    __pyx_v_typenum = NPY_UBYTE;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line74")'> 74:     elif typenum == 0x0202: typenum = c_numpy.NPY_USHORT</pre>
<pre id='line74' class='code' style='background-color: #FFFFff'>
        case 0x0202:
    __pyx_v_typenum = NPY_USHORT;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line75")'> 75:     elif typenum == 0x0204: typenum = c_numpy.NPY_UINT</pre>
<pre id='line75' class='code' style='background-color: #FFFFff'>
        case 0x0204:
    __pyx_v_typenum = NPY_UINT;
    break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line76")'> 76:     elif typenum == 0x0208: typenum = c_numpy.NPY_ULONG</pre>
<pre id='line76' class='code' style='background-color: #FFFFff'>
        case 0x0208:
    __pyx_v_typenum = NPY_ULONG;
    break;
  }
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line77")'> 77:     return typenum</pre>
<pre id='line77' class='code' style='background-color: #FFFFd4'>
    __pyx_r = __pyx_v_typenum;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line78")'> 78: </pre>
<pre id='line78' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line79")'> 79: cdef inline int dtype_numpy2sdif(int dtype):</pre>
<pre id='line79' class='code' style='background-color: #FFFFd4'>
static INLINE int __pyx_f_6pysdif_7_pysdif_dtype_numpy2sdif(int __pyx_v_dtype) {
  int __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("dtype_numpy2sdif");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line80")'> 80:     if   dtype == c_numpy.NPY_FLOAT : dtype = 0x0004</pre>
<pre id='line80' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_FLOAT);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0004;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line81")'> 81:     elif dtype == c_numpy.NPY_BYTE  : dtype = 0x0301</pre>
<pre id='line81' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_BYTE);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0301;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line82")'> 82:     elif dtype == c_numpy.NPY_DOUBLE: dtype = 0x0008</pre>
<pre id='line82' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_DOUBLE);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0008;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line83")'> 83:     elif dtype == c_numpy.NPY_INT   : dtype = 0x0104</pre>
<pre id='line83' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_INT);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0104;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line84")'> 84:     elif dtype == c_numpy.NPY_BYTE  : dtype = 0x0101</pre>
<pre id='line84' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_BYTE);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0101;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line85")'> 85:     elif dtype == c_numpy.NPY_SHORT : dtype = 0x0102</pre>
<pre id='line85' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_SHORT);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0102;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line86")'> 86:     elif dtype == c_numpy.NPY_LONG  : dtype = 0x0108</pre>
<pre id='line86' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_LONG);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0108;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line87")'> 87:     elif dtype == c_numpy.NPY_UBYTE : dtype = 0x0201</pre>
<pre id='line87' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_UBYTE);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0201;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line88")'> 88:     elif dtype == c_numpy.NPY_USHORT: dtype = 0x0202</pre>
<pre id='line88' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_USHORT);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0202;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line89")'> 89:     elif dtype == c_numpy.NPY_UINT  : dtype = 0x0204</pre>
<pre id='line89' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_dtype == NPY_UINT);
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0204;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line90")'> 90:     elif dtype == c_numpy.NPY_ULONg : dtype = 0x0208</pre>
<pre id='line90' class='code' style='background-color: #FFFF2c'>
    __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(__pyx_v_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_c_numpy);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_1, __pyx_kp_NPY_ULONg);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
  __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_t_3, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_1) {
    __pyx_v_dtype = 0x0208;
    goto __pyx_L3;
  }
  __pyx_L3:;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line91")'> 91:     return dtype</pre>
<pre id='line91' class='code' style='background-color: #FFFF62'>
    __pyx_r = __pyx_v_dtype;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_WriteUnraisable</span>("pysdif._pysdif.dtype_numpy2sdif");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line92")'> 92: </pre>
<pre id='line92' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line93")'> 93: cdef inline unsigned int _str2sig (char *sig):</pre>
<pre id='line93' class='code' style='background-color: #FFFFd4'>
static INLINE unsigned int __pyx_f_6pysdif_7_pysdif__str2sig(char *__pyx_v_sig) {
  unsigned int __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("_str2sig");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line94")'> 94:    return ((((&lt;unsigned int&gt;(sig[0])) &amp; 0xff) &lt;&lt; 24) |</pre>
<pre id='line94' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line95")'> 95:        (((&lt;unsigned int&gt;(sig[1])) &amp; 0xff) &lt;&lt; 16) |</pre>
<pre id='line95' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line96")'> 96:        (((&lt;unsigned int&gt;(sig[2])) &amp; 0xff) &lt;&lt; 8) |</pre>
<pre id='line96' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line97")'> 97:        ((&lt;unsigned int&gt;(sig[3])) &amp; 0xff))</pre>
<pre id='line97' class='code' style='background-color: #FFFFd4'>
    __pyx_r = (((((((unsigned int)(__pyx_v_sig[0])) & 0xff) << 24) | ((((unsigned int)(__pyx_v_sig[1])) & 0xff) << 16)) | ((((unsigned int)(__pyx_v_sig[2])) & 0xff) << 8)) | (((unsigned int)(__pyx_v_sig[3])) & 0xff));
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line98")'> 98: </pre>
<pre id='line98' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line99")'> 99: def signature2str(SdifSignature signature):</pre>
<pre id='line99' class='code' style='background-color: #FFFF62'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_signature2str(PyObject *__pyx_self, PyObject *__pyx_arg_signature); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_signature2str[] = "signature2str(pysdif.pysdif.SdifSignature signature)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_signature2str(PyObject *__pyx_self, PyObject *__pyx_arg_signature) {
  SdifSignature __pyx_v_signature;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("signature2str");
  __pyx_self = __pyx_self;
  assert(__pyx_arg_signature); {
    __pyx_v_signature = <span class='pyx_api'>__Pyx_PyInt_from_py_SdifSignature</span>(__pyx_arg_signature);<span class='error_goto'> if (unlikely((__pyx_v_signature == (SdifSignature)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 99; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.signature2str");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
</pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line100")'> 100:     return PyString_FromStringAndSize(SdifSignatureToString(signature), 4)</pre>
<pre id='line100' class='code' style='background-color: #FFFF41'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyString_FromStringAndSize</span>(SdifSignatureToString(__pyx_v_signature), 4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 100; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.signature2str");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line101")'> 101: </pre>
<pre id='line101' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line102")'> 102: cdef inline sig2str(SdifSignature signature):</pre>
<pre id='line102' class='code' style='background-color: #FFFF73'>
static INLINE PyObject *__pyx_f_6pysdif_7_pysdif_sig2str(SdifSignature __pyx_v_signature) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("sig2str");
</pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line103")'> 103:     return PyString_FromStringAndSize(SdifSignatureToString(signature), 4)</pre>
<pre id='line103' class='code' style='background-color: #FFFF41'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyString_FromStringAndSize</span>(SdifSignatureToString(__pyx_v_signature), 4);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.sig2str");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line104")'> 104: </pre>
<pre id='line104' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line105")'> 105: def str2signature(s):</pre>
<pre id='line105' class='code' style='background-color: #FFFF96'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_str2signature(PyObject *__pyx_self, PyObject *__pyx_v_s); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_str2signature[] = "str2signature(s)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_str2signature(PyObject *__pyx_self, PyObject *__pyx_v_s) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("str2signature");
  __pyx_self = __pyx_self;
</pre><pre class='line' style='background-color: #FFFF39' onclick='toggleDiv("line106")'> 106:     return _str2sig(s)</pre>
<pre id='line106' class='code' style='background-color: #FFFF39'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_s);<span class='error_goto'> if (unlikely((!__pyx_t_1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_t_2 = <span class='py_api'>PyLong_FromUnsignedLong</span>(__pyx_f_6pysdif_7_pysdif__str2sig(__pyx_t_1));<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.str2signature");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line107")'> 107: </pre>
<pre id='line107' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line108")'> 108: cdef inline ndarray _array_from_matrix_data_no_copy(SdifMatrixDataT *matrix): # , int copy=0):</pre>
<pre id='line108' class='code' style='background-color: #FFFFd4'>
static INLINE PyArrayObject *__pyx_f_6pysdif_7_pysdif__array_from_matrix_data_no_copy(SdifMatrixDataT *__pyx_v_matrix) {
  SdifMatrixHeaderT *__pyx_v_header;
  npy_intp __pyx_v_dims[2];
  PyArrayObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("_array_from_matrix_data_no_copy");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line109")'> 109:     cdef SdifMatrixHeaderT *header = matrix.Header</pre>
<pre id='line109' class='code' style='background-color: #FFFFff'>
    __pyx_v_header = __pyx_v_matrix->Header;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line110")'> 110:     cdef npy_intp dims[2]</pre>
<pre id='line110' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line111")'> 111:     dims[0] = &lt;npy_intp&gt;header.NbRow</pre>
<pre id='line111' class='code' style='background-color: #FFFFaa'>
    (__pyx_v_dims[0]) = ((npy_intp)__pyx_v_header->NbRow);
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line112")'> 112:     dims[1] = &lt;npy_intp&gt;header.NbCol</pre>
<pre id='line112' class='code' style='background-color: #FFFFaa'>
    (__pyx_v_dims[1]) = ((npy_intp)__pyx_v_header->NbCol);
</pre><pre class='line' style='background-color: #FFFF3e' onclick='toggleDiv("line113")'> 113:     return PyArray_SimpleNewFromData(2, dims, dtype_sdif2numpy(header.DataType), matrix.Data.Void)</pre>
<pre id='line113' class='code' style='background-color: #FFFF3e'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(((PyObject *)__pyx_r));
  __pyx_t_1 = <span class='py_api'>PyArray_SimpleNewFromData</span>(2, __pyx_v_dims, __pyx_f_6pysdif_7_pysdif_dtype_sdif2numpy(__pyx_v_header->DataType), __pyx_v_matrix->Data.Void);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_1, __pyx_ptype_5numpy_ndarray)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_r = ((PyArrayObject *)__pyx_t_1);
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = ((PyArrayObject *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif._array_from_matrix_data_no_copy");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>((PyObject *)__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line114")'> 114: </pre>
<pre id='line114' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line115")'> 115: </pre>
<pre id='line115' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line116")'> 116: cdef inline ndarray _array_from_matrix_data_copy(SdifMatrixDataT *matrix):</pre>
<pre id='line116' class='code' style='background-color: #FFFFaa'>
static INLINE PyArrayObject *__pyx_f_6pysdif_7_pysdif__array_from_matrix_data_copy(SdifMatrixDataT *__pyx_v_matrix) {
  PyArrayObject *__pyx_v_out;
  SdifMatrixHeaderT *__pyx_v_header;
  npy_intp __pyx_v_dims[2];
  PyArrayObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("_array_from_matrix_data_copy");
  __pyx_v_out = ((PyArrayObject *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line117")'> 117:     cdef ndarray out</pre>
<pre id='line117' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line118")'> 118:     cdef SdifMatrixHeaderT *header = matrix.Header</pre>
<pre id='line118' class='code' style='background-color: #FFFFff'>
    __pyx_v_header = __pyx_v_matrix->Header;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line119")'> 119:     cdef npy_intp dims[2]</pre>
<pre id='line119' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line120")'> 120:     dims[0] = &lt;npy_intp&gt;header.NbRow</pre>
<pre id='line120' class='code' style='background-color: #FFFFaa'>
    (__pyx_v_dims[0]) = ((npy_intp)__pyx_v_header->NbRow);
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line121")'> 121:     dims[1] = &lt;npy_intp&gt;header.NbCol</pre>
<pre id='line121' class='code' style='background-color: #FFFF9f'>
    (__pyx_v_dims[1]) = ((npy_intp)__pyx_v_header->NbCol);
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line122")'> 122:     out = PyArray_SimpleNew(2, dims, dtype_sdif2numpy(header.DataType))</pre>
<pre id='line122' class='code' style='background-color: #FFFF57'>
    __pyx_t_1 = <span class='py_api'>PyArray_SimpleNew</span>(2, __pyx_v_dims, __pyx_f_6pysdif_7_pysdif_dtype_sdif2numpy(__pyx_v_header->DataType));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_1, __pyx_ptype_5numpy_ndarray)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 122; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_out));
  __pyx_v_out = ((PyArrayObject *)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line123")'> 123:     memcpy(&lt;void *&gt;out.data, matrix.Data.Void, c_numpy.PyArray_ITEMSIZE(out) * dims[0] * dims[1])</pre>
<pre id='line123' class='code' style='background-color: #FFFF96'>
    memcpy(((void *)__pyx_v_out->data), __pyx_v_matrix->Data.Void, ((<span class='py_macro_api'>PyArray_ITEMSIZE</span>(__pyx_v_out) * (__pyx_v_dims[0])) * (__pyx_v_dims[1])));
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line124")'> 124:     return out</pre>
<pre id='line124' class='code' style='background-color: #FFFF43'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(((PyObject *)__pyx_r));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_out));
  __pyx_r = __pyx_v_out;
  goto __pyx_L0;

  __pyx_r = ((PyArrayObject *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif._array_from_matrix_data_copy");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>((PyObject *)__pyx_v_out);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>((PyObject *)__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line125")'> 125: </pre>
<pre id='line125' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line126")'> 126: cdef inline SdifSignature as_signature(sig):</pre>
<pre id='line126' class='code' style='background-color: #FFFFd4'>
static INLINE SdifSignature __pyx_f_6pysdif_7_pysdif_as_signature(PyObject *__pyx_v_sig) {
  SdifSignature __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("as_signature");
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line127")'> 127:     if isinstance(sig, str):</pre>
<pre id='line127' class='code' style='background-color: #FFFF7f'>
    __pyx_t_1 = <span class='py_api'>PyObject_TypeCheck</span>(__pyx_v_sig, ((PyTypeObject *)((PyObject*)&<span class='py_api'>PyString_Type</span>))); 
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line128")'> 128:         return _str2sig(sig)</pre>
<pre id='line128' class='code' style='background-color: #FFFF7f'>
        __pyx_t_2 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_sig);<span class='error_goto'> if (unlikely((!__pyx_t_2) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 128; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    __pyx_r = __pyx_f_6pysdif_7_pysdif__str2sig(__pyx_t_2);
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line129")'> 129:     else:</pre>
<pre id='line129' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line130")'> 130:         return sig</pre>
<pre id='line130' class='code' style='background-color: #FFFF79'>
        __pyx_t_3 = <span class='pyx_api'>__Pyx_PyInt_from_py_SdifSignature</span>(__pyx_v_sig);<span class='error_goto'> if (unlikely((__pyx_t_3 == (SdifSignature)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    __pyx_r = __pyx_t_3;
    goto __pyx_L0;
  }
  __pyx_L3:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_WriteUnraisable</span>("pysdif._pysdif.as_signature");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line131")'> 131: </pre>
<pre id='line131' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line132")'> 132: cdef inline PyString_from_SdifString(SdifStringT *s):</pre>
<pre id='line132' class='code' style='background-color: #FFFF96'>
static INLINE PyObject *__pyx_f_6pysdif_7_pysdif_PyString_from_SdifString(SdifStringT *__pyx_v_s) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("PyString_from_SdifString");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line133")'> 133:     """ convert a SdifStringT to a python string """</pre>
<pre id='line133' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line134")'> 134:     return PyString_FromStringAndSize(s.str, s.SizeW)</pre>
<pre id='line134' class='code' style='background-color: #FFFF41'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyString_FromStringAndSize</span>(__pyx_v_s->str, __pyx_v_s->SizeW);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.PyString_from_SdifString");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line135")'> 135: </pre>
<pre id='line135' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line136")'> 136: cdef inline SdifStringT *SdifString_from_PyString(str s):</pre>
<pre id='line136' class='code' style='background-color: #FFFF96'>
static INLINE SdifStringT *__pyx_f_6pysdif_7_pysdif_SdifString_from_PyString(PyObject *__pyx_v_s) {
  char *__pyx_v_bytes;
  SdifStringT *__pyx_v_sdifstr;
  SdifStringT *__pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("SdifString_from_PyString");
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line137")'> 137:     cdef char *bytes = s</pre>
<pre id='line137' class='code' style='background-color: #FFFF7f'>
    __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(((PyObject *)__pyx_v_s));<span class='error_goto'> if (unlikely((!__pyx_t_1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_v_bytes = __pyx_t_1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line138")'> 138:     cdef SdifStringT *sdifstr = SdifStringNew()</pre>
<pre id='line138' class='code' style='background-color: #FFFFff'>
    __pyx_v_sdifstr = SdifStringNew();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line139")'> 139:     SdifStringAppend(sdifstr, bytes)</pre>
<pre id='line139' class='code' style='background-color: #FFFFff'>
    SdifStringAppend(__pyx_v_sdifstr, __pyx_v_bytes);
</pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line140")'> 140:     return sdifstr</pre>
<pre id='line140' class='code' style='background-color: #FFFFb6'>
    __pyx_r = __pyx_v_sdifstr;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_WriteUnraisable</span>("pysdif._pysdif.SdifString_from_PyString");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line141")'> 141: </pre>
<pre id='line141' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line142")'> 142: cdef inline nvt_to_dict( SdifNameValueTableT *nvt ):</pre>
<pre id='line142' class='code' style='background-color: #FFFF79'>
static INLINE PyObject *__pyx_f_6pysdif_7_pysdif_nvt_to_dict(SdifNameValueTableT *__pyx_v_nvt) {
  int __pyx_v_i;
  SdifHashNT *__pyx_v_pNV;
  SdifHashTableT *__pyx_v_HTable;
  SdifNameValueT *__pyx_v_namevalue;
  PyObject *__pyx_v_table;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_value;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("nvt_to_dict");
  __pyx_v_table = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_name = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_value = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line143")'> 143:     cdef int i</pre>
<pre id='line143' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line144")'> 144:     cdef SdifUInt4      iNV</pre>
<pre id='line144' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line145")'> 145:     cdef SdifHashNT     *pNV</pre>
<pre id='line145' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line146")'> 146:     cdef SdifHashTableT *HTable</pre>
<pre id='line146' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line147")'> 147:     cdef SdifNameValueT *namevalue</pre>
<pre id='line147' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line148")'> 148: </pre>
<pre id='line148' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line149")'> 149:     HTable = nvt.NVHT</pre>
<pre id='line149' class='code' style='background-color: #FFFFff'>
    __pyx_v_HTable = __pyx_v_nvt->NVHT;
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line150")'> 150:     table = {}</pre>
<pre id='line150' class='code' style='background-color: #FFFF79'>
    __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_table);
  __pyx_v_table = ((PyObject *)__pyx_1);
  __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line151")'> 151:     for i in range(HTable.HashSize):</pre>
<pre id='line151' class='code' style='background-color: #FFFFff'>
    for (__pyx_t_1 = 0; __pyx_t_1 < __pyx_v_HTable->HashSize; __pyx_t_1+=1) {
    __pyx_v_i = __pyx_t_1;
</pre><pre class='line' style='background-color: #FFFF6e' onclick='toggleDiv("line152")'> 152:         pNV = HTable.Table[i]</pre>
<pre id='line152' class='code' style='background-color: #FFFF6e'>
        __pyx_v_pNV = (__pyx_v_HTable->Table[__pyx_v_i]);

static int __pyx_pf_5numpy_7ndarray___getbuffer__(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
static int __pyx_pf_5numpy_7ndarray___getbuffer__(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags) {
  int __pyx_v_copy_shape;
  int __pyx_v_i;
  int __pyx_v_ndim;
  int __pyx_v_endian_detector;
  int __pyx_v_little_endian;
  int __pyx_v_t;
  char *__pyx_v_f;
  <span class='py_api'>PyArray_Descr</span> *__pyx_v_descr = 0;
  int __pyx_v_offset;
  int __pyx_v_hasfields;
  int __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__getbuffer__");
  if (__pyx_v_info == NULL) return 0;
  __pyx_v_info->obj = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_info->obj);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line153")'> 153:         while pNV:</pre>
<pre id='line153' class='code' style='background-color: #FFFFff'>
        while (1) {
      __pyx_t_2 = (__pyx_v_pNV != 0);
      if (!__pyx_t_2) break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line154")'> 154:             namevalue = &lt;SdifNameValueT *&gt;(pNV.Data)</pre>
<pre id='line154' class='code' style='background-color: #FFFFff'>
            __pyx_v_namevalue = ((SdifNameValueT *)__pyx_v_pNV->Data);
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line155")'> 155:             name = namevalue.Name</pre>
<pre id='line155' class='code' style='background-color: #FFFF79'>
            __pyx_t_3 = __Pyx_<span class='py_api'>PyBytes_FromString</span>(__pyx_v_namevalue->Name);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_name);
      __pyx_v_name = __pyx_t_3;
      __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line156")'> 156:             value = namevalue.Value</pre>
<pre id='line156' class='code' style='background-color: #FFFF79'>
            __pyx_t_3 = __Pyx_<span class='py_api'>PyBytes_FromString</span>(__pyx_v_namevalue->Value);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_value);
      __pyx_v_value = __pyx_t_3;
      __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line157")'> 157:             table[name] = value</pre>
<pre id='line157' class='code' style='background-color: #FFFFaa'>
            if (<span class='py_api'>PyObject_SetItem</span>(__pyx_v_table, __pyx_v_name, __pyx_v_value) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 157; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line158")'> 158:             pNV = pNV.Next</pre>
<pre id='line158' class='code' style='background-color: #FFFFff'>
            __pyx_v_pNV = __pyx_v_pNV->Next;
    }
  }

    __pyx_v_endian_detector = 1;
</pre><pre class='line' style='background-color: #FFFF3c' onclick='toggleDiv("line159")'> 159:     return table</pre>
<pre id='line159' class='code' style='background-color: #FFFF3c'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_table);
  __pyx_r = __pyx_v_table;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.nvt_to_dict");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_table);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_name);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_value);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

    __pyx_v_little_endian = ((((char *)(&__pyx_v_endian_detector))[0]) != 0);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line160")'> 160: </pre>
<pre id='line160' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line161")'> 161: cdef valuetables_to_dicts (SdifNameValuesLT *namevalues):</pre>
<pre id='line161' class='code' style='background-color: #FFFF96'>
static  PyObject *__pyx_f_6pysdif_7_pysdif_valuetables_to_dicts(SdifNameValuesLT *__pyx_v_namevalues) {
  PyObject *__pyx_v_tables;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("valuetables_to_dicts");
  __pyx_v_tables = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);

    __pyx_v_ndim = <span class='py_macro_api'>PyArray_NDIM</span>(((PyArrayObject *)__pyx_v_self));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line162")'> 162:     """ create a list of dicts where each dict represents a value table """</pre>
<pre id='line162' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line163")'> 163:     SdifListInitLoop(namevalues.NVTList)</pre>
<pre id='line163' class='code' style='background-color: #FFFFe7'>
    SdifListInitLoop(__pyx_v_namevalues->NVTList);

    __pyx_t_1 = ((sizeof(npy_intp)) != (sizeof(Py_ssize_t)));
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line164")'> 164:     tables = []</pre>
<pre id='line164' class='code' style='background-color: #FFFF79'>
    __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 164; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_tables);
  __pyx_v_tables = ((PyObject *)__pyx_t_1);
  __pyx_t_1 = 0;

        __pyx_v_copy_shape = 1;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line165")'> 165:     while SdifListIsNext(namevalues.NVTList):</pre>
<pre id='line165' class='code' style='background-color: #FFFFff'>
    while (1) {
    __pyx_t_2 = SdifListIsNext(__pyx_v_namevalues->NVTList);
    if (!__pyx_t_2) break;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line166")'> 166:         namevalues.CurrNVT = &lt;SdifNameValueTableT *&gt;(SdifListGetNext(namevalues.NVTList))</pre>
<pre id='line166' class='code' style='background-color: #FFFFd4'>
        __pyx_v_namevalues->CurrNVT = ((SdifNameValueTableT *)SdifListGetNext(__pyx_v_namevalues->NVTList));

        __pyx_v_copy_shape = 0;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFF5e' onclick='toggleDiv("line167")'> 167:         tables.append(nvt_to_dict(namevalues.CurrNVT))</pre>
<pre id='line167' class='code' style='background-color: #FFFF5e'>
        __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_nvt_to_dict(__pyx_v_namevalues->CurrNVT);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    __pyx_t_3 = __Pyx_<span class='py_api'>PyObject_Append</span>(__pyx_v_tables, __pyx_t_1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  }
</pre><pre class='line' style='background-color: #FFFF3f' onclick='toggleDiv("line168")'> 168:     return tables</pre>
<pre id='line168' class='code' style='background-color: #FFFF3f'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_tables);
  __pyx_r = __pyx_v_tables;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.valuetables_to_dicts");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_tables);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

    if (((__pyx_v_flags & <span class='py_macro_api'>PyBUF_C_CONTIGUOUS</span>) == <span class='py_macro_api'>PyBUF_C_CONTIGUOUS</span>)) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line169")'> 169: </pre>
<pre id='line169' class='code' style='background-color: #FFFF9f'>
        __pyx_t_1 = (!<span class='py_macro_api'>PyArray_CHKFLAGS</span>(((PyArrayObject *)__pyx_v_self), NPY_C_CONTIGUOUS));
  } else {
    __pyx_t_1 = ((__pyx_v_flags & <span class='py_macro_api'>PyBUF_C_CONTIGUOUS</span>) == <span class='py_macro_api'>PyBUF_C_CONTIGUOUS</span>);
  }
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF2f' onclick='toggleDiv("line170")'> 170: cdef streamidtable_to_list(SdifStreamIDTableT *table):</pre>
<pre id='line170' class='code' style='background-color: #FFFF2f'>
static  PyObject *__pyx_f_6pysdif_7_pysdif_streamidtable_to_list(SdifStreamIDTableT *__pyx_v_table) {
  unsigned int __pyx_v_i;
  SdifHashNT *__pyx_v_pID;
  SdifStreamIDT *__pyx_v_streamid;
  PyObject *__pyx_v_streams;
  PyObject *__pyx_v_streamid_w;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("streamidtable_to_list");
  __pyx_v_streams = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_streamid_w = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);

        __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_1);
    __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
    <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
   <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line171")'> 171:     cdef unsigned int i</pre>
<pre id='line171' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line172")'> 172:     cdef SdifHashNT *pID</pre>
<pre id='line172' class='code' style='background-color: #FFFFaa'>
    if (((__pyx_v_flags & <span class='py_macro_api'>PyBUF_F_CONTIGUOUS</span>) == <span class='py_macro_api'>PyBUF_F_CONTIGUOUS</span>)) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line173")'> 173:     cdef SdifStreamIDT *streamid</pre>
<pre id='line173' class='code' style='background-color: #FFFF9f'>
        __pyx_t_1 = (!<span class='py_macro_api'>PyArray_CHKFLAGS</span>(((PyArrayObject *)__pyx_v_self), NPY_F_CONTIGUOUS));
  } else {
    __pyx_t_1 = ((__pyx_v_flags & <span class='py_macro_api'>PyBUF_F_CONTIGUOUS</span>) == <span class='py_macro_api'>PyBUF_F_CONTIGUOUS</span>);
  }
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF2d' onclick='toggleDiv("line174")'> 174:     streams = []</pre>
<pre id='line174' class='code' style='background-color: #FFFF2d'>
    __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_streams);
  __pyx_v_streams = ((PyObject *)__pyx_t_1);
  __pyx_t_1 = 0;

        __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 174; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_2);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_2);
    __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 174; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
    <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
   <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 174; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    goto __pyx_L7;
  }
  __pyx_L7:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line175")'> 175:     for i in range(table.SIDHT.HashSize):</pre>
<pre id='line175' class='code' style='background-color: #FFFFff'>
    for (__pyx_t_2 = 0; __pyx_t_2 < __pyx_v_table->SIDHT->HashSize; __pyx_t_2+=1) {
    __pyx_v_i = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line176")'> 176:         pID = table.SIDHT.Table[i]</pre>
<pre id='line176' class='code' style='background-color: #FFFFd4'>
        __pyx_v_pID = (__pyx_v_table->SIDHT->Table[__pyx_v_i]);

    __pyx_v_info->buf = <span class='py_macro_api'>PyArray_DATA</span>(((PyArrayObject *)__pyx_v_self));
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line177")'> 177:         while pID:</pre>
<pre id='line177' class='code' style='background-color: #FFFFe7'>
        while (1) {
      __pyx_t_3 = (__pyx_v_pID != 0);
      if (!__pyx_t_3) break;

    __pyx_v_info->ndim = __pyx_v_ndim;
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line178")'> 178:             streamid = &lt;SdifStreamIDT *&gt;(pID.Data)</pre>
<pre id='line178' class='code' style='background-color: #FFFFe7'>
            __pyx_v_streamid = ((SdifStreamIDT *)__pyx_v_pID->Data);

    __pyx_t_4 = __pyx_v_copy_shape;
  if (__pyx_t_4) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line179")'> 179:             streamid_w = StreamID_fromSdifStreadIDT(streamid)</pre>
<pre id='line179' class='code' style='background-color: #FFFF9f'>
            __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_StreamID_fromSdifStreadIDT(__pyx_v_streamid);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_streamid_w);
      __pyx_v_streamid_w = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line180")'> 180:             streams.append(streamid_w)</pre>
<pre id='line180' class='code' style='background-color: #FFFF79'>
            __pyx_t_1 = __Pyx_<span class='py_api'>PyObject_Append</span>(__pyx_v_streams, __pyx_v_streamid_w);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 180; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line181")'> 181:             pID = pID.Next</pre>
<pre id='line181' class='code' style='background-color: #FFFFff'>
            __pyx_v_pID = __pyx_v_pID->Next;
    }
  }

        __pyx_v_info->strides = ((Py_ssize_t *)malloc((((sizeof(Py_ssize_t)) * __pyx_v_ndim) * 2)));
</pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line182")'> 182:     return streams</pre>
<pre id='line182' class='code' style='background-color: #FFFF46'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_streams);
  __pyx_r = __pyx_v_streams;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.streamidtable_to_list");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_streams);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_streamid_w);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

        __pyx_v_info->shape = (__pyx_v_info->strides + __pyx_v_ndim);
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line183")'> 183: </pre>
<pre id='line183' class='code' style='background-color: #FFFFd4'>
        for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_v_ndim; __pyx_t_4+=1) {
      __pyx_v_i = __pyx_t_4;
</pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line184")'> 184: cdef class StreamID:</pre>
<pre id='line184' class='code' style='background-color: #FFFFb6'>
            (__pyx_v_info->strides[__pyx_v_i]) = (<span class='py_macro_api'>PyArray_STRIDES</span>(((PyArrayObject *)__pyx_v_self))[__pyx_v_i]);

struct __pyx_obj_6pysdif_7_pysdif_StreamID {
  <span class='py_macro_api'>PyObject_HEAD</span>
  SdifStreamIDT *this;
  int own_this;
};
</pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line185")'> 185:     cdef SdifStreamIDT *this</pre>
<pre id='line185' class='code' style='background-color: #FFFFb6'>
            (__pyx_v_info->shape[__pyx_v_i]) = (<span class='py_macro_api'>PyArray_DIMS</span>(((PyArrayObject *)__pyx_v_self))[__pyx_v_i]);
    }
    goto __pyx_L8;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line186")'> 186:     cdef int own_this</pre>
<pre id='line186' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line187")'> 187:     property numid:</pre>
<pre id='line187' class='code' style='background-color: #FFFFb6'>
        __pyx_v_info->strides = ((Py_ssize_t *)<span class='py_macro_api'>PyArray_STRIDES</span>(((PyArrayObject *)__pyx_v_self)));
</pre><pre class='line' style='background-color: #FFFF48' onclick='toggleDiv("line188")'> 188:         def __get__(self): return self.this.NumID</pre>
<pre id='line188' class='code' style='background-color: #FFFF48'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8StreamID_5numid___get__(PyObject *__pyx_v_self);     __pyx_v_info->shape = ((Py_ssize_t *)<span class='py_macro_api'>PyArray_DIMS</span>(((PyArrayObject *)__pyx_v_self)));
  }
  __pyx_L8:;
</pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line189")'> 189:     property source:</pre>
<pre id='line189' class='code' style='background-color: #FFFFb6'>
    __pyx_v_info->suboffsets = NULL;
</pre><pre class='line' style='background-color: #FFFF3f' onclick='toggleDiv("line190")'> 190:         def __get__(self): return self.this.Source</pre>
<pre id='line190' class='code' style='background-color: #FFFF3f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8StreamID_6source___get__(PyObject *__pyx_v_self);   __pyx_v_info->itemsize = <span class='py_macro_api'>PyArray_ITEMSIZE</span>(((PyArrayObject *)__pyx_v_self));
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line191")'> 191:     property treeway:</pre>
<pre id='line191' class='code' style='background-color: #FFFFc4'>
    __pyx_v_info->readonly = (!<span class='py_macro_api'>PyArray_ISWRITEABLE</span>(((PyArrayObject *)__pyx_v_self)));
</pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line192")'> 192:         def __get__(self): return self.this.TreeWay</pre>
<pre id='line192' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8StreamID_7treeway___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8StreamID_7treeway___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_FromString</span>(((struct __pyx_obj_6pysdif_7_pysdif_StreamID *)__pyx_v_self)->this->TreeWay);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.StreamID.treeway.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF22' onclick='toggleDiv("line193")'> 193:     def __cinit__(self, int numid, source, treeway):</pre>
<pre id='line193' class='code' style='background-color: #FFFF22'>
static int __pyx_pf_6pysdif_7_pysdif_8StreamID___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_8StreamID___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_numid;
  PyObject *__pyx_v_source = 0;
  PyObject *__pyx_v_treeway = 0;
  int __pyx_r;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_numid,&__pyx_kp_source,&__pyx_kp_treeway,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  3: values[2] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_numid);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_source);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__cinit__", 1, 3, 3, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 193; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      case  2:
      values[2] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_treeway);
      if (likely(values[2])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__cinit__", 1, 3, 3, 2);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 193; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "__cinit__") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 193; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_numid = __Pyx_<span class='py_api'>PyInt_AsInt</span>(values[0]);<span class='error_goto'> if (unlikely((__pyx_v_numid == (int)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 193; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_source = values[1];
    __pyx_v_treeway = values[2];
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 3) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_numid = __Pyx_<span class='py_api'>PyInt_AsInt</span>(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));<span class='error_goto'> if (unlikely((__pyx_v_numid == (int)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 193; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_source = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
    __pyx_v_treeway = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__cinit__", 1, 3, 3, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 193; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.StreamID.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line194")'> 194:         if numid == -1:</pre>
<pre id='line194' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_numid == -1);
  if (__pyx_t_1) {

    __pyx_v_f = NULL;
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line195")'> 195:             # we are a wrapper of an existing SdifStreamID</pre>
<pre id='line195' class='code' style='background-color: #FFFFc4'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((PyArrayObject *)__pyx_v_self)->descr));
  __pyx_v_descr = ((PyArrayObject *)__pyx_v_self)->descr;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line196")'> 196:             self.own_this = 0</pre>
<pre id='line196' class='code' style='background-color: #FFFFff'>
        ((struct __pyx_obj_6pysdif_7_pysdif_StreamID *)__pyx_v_self)->own_this = 0;
    goto __pyx_L6;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line197")'> 197:         else:</pre>
<pre id='line197' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF55' onclick='toggleDiv("line198")'> 198:             self.this = SdifCreateStreamID(&lt;SdifUInt4&gt;numid, source, treeway)</pre>
<pre id='line198' class='code' style='background-color: #FFFF55'>
        __pyx_t_2 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_source);<span class='error_goto'> if (unlikely((!__pyx_t_2) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    __pyx_t_3 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_treeway);<span class='error_goto'> if (unlikely((!__pyx_t_3) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    ((struct __pyx_obj_6pysdif_7_pysdif_StreamID *)__pyx_v_self)->this = SdifCreateStreamID(((SdifUInt4)__pyx_v_numid), __pyx_t_2, __pyx_t_3);
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line199")'> 199:             self.own_this = 1</pre>
<pre id='line199' class='code' style='background-color: #FFFF9f'>
        ((struct __pyx_obj_6pysdif_7_pysdif_StreamID *)__pyx_v_self)->own_this = 1;
  }
  __pyx_L6:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.StreamID.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

    __pyx_v_hasfields = <span class='py_macro_api'>PyDataType_HASFIELDS</span>(__pyx_v_descr);
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line200")'> 200:     def __dealloc__(self):</pre>
<pre id='line200' class='code' style='background-color: #FFFFd4'>
static void __pyx_pf_6pysdif_7_pysdif_8StreamID___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_pf_6pysdif_7_pysdif_8StreamID___dealloc__(PyObject *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__dealloc__");
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line201")'> 201:         if self.own_this:</pre>
<pre id='line201' class='code' style='background-color: #FFFFe7'>
    __pyx_t_1 = ((struct __pyx_obj_6pysdif_7_pysdif_StreamID *)__pyx_v_self)->own_this;
  if (__pyx_t_1) {

    if ((!__pyx_v_hasfields)) {
    __pyx_t_1 = (!__pyx_v_copy_shape);
  } else {
    __pyx_t_1 = (!__pyx_v_hasfields);
  }
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line202")'> 202:             SdifKillStreamID(self.this)</pre>
<pre id='line202' class='code' style='background-color: #FFFFd4'>
        SdifKillStreamID(((struct __pyx_obj_6pysdif_7_pysdif_StreamID *)__pyx_v_self)->this);
    goto __pyx_L5;
  }
  __pyx_L5:;

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line203")'> 203:     def __repr__(self):</pre>
<pre id='line203' class='code' style='background-color: #FFFF6a'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8StreamID___repr__(PyObject *__pyx_v_self);     <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_info->obj);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_info->obj);
    __pyx_v_info->obj = Py_None;
    goto __pyx_L11;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line204")'> 204:         return "StreamID(numid=%d, source='%s', treeway='%s')" % (</pre>
<pre id='line204' class='code' style='background-color: #FFFFc4'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line205")'> 205:             self.numid,</pre>
<pre id='line205' class='code' style='background-color: #FFFF8d'>
    __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_numid);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
</pre><pre class='line' style='background-color: #FFFF55' onclick='toggleDiv("line206")'> 206:             self.source,</pre>
<pre id='line206' class='code' style='background-color: #FFFF55'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_source);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 206; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);

        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_self);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_self);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_info->obj);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_info->obj);
    __pyx_v_info->obj = __pyx_v_self;
  }
  __pyx_L11:;
</pre><pre class='line' style='background-color: #FFFF23' onclick='toggleDiv("line207")'> 207:             self.treeway)</pre>
<pre id='line207' class='code' style='background-color: #FFFF23'>
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_treeway);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_64, ((PyObject *)__pyx_t_4));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.StreamID.__repr__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line208")'> 208: </pre>
<pre id='line208' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (!__pyx_v_hasfields);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line209")'> 209: cdef StreamID_fromSdifStreadIDT(SdifStreamIDT *this):</pre>
<pre id='line209' class='code' style='background-color: #FFFFd4'>
static  PyObject *__pyx_f_6pysdif_7_pysdif_StreamID_fromSdifStreadIDT(SdifStreamIDT *__pyx_v_this) {
  struct __pyx_obj_6pysdif_7_pysdif_StreamID *__pyx_v_out = 0;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("StreamID_fromSdifStreadIDT");

        __pyx_v_t = __pyx_v_descr->type_num;
</pre><pre class='line' style='background-color: #FFFF31' onclick='toggleDiv("line210")'> 210:     cdef StreamID out = StreamID(-1, None, None)  # create a wrapper</pre>
<pre id='line210' class='code' style='background-color: #FFFF31'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_int_neg_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_int_neg_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_int_neg_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 2, Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_StreamID)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_2, __pyx_ptype_6pysdif_7_pysdif_StreamID)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_v_out = ((struct __pyx_obj_6pysdif_7_pysdif_StreamID *)__pyx_t_2);
  __pyx_t_2 = 0;

        if ((__pyx_v_descr->byteorder == '>')) {
      __pyx_t_1 = __pyx_v_little_endian;
    } else {
      __pyx_t_1 = (__pyx_v_descr->byteorder == '>');
    }
    if (!__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line211")'> 211:     out.this = this</pre>
<pre id='line211' class='code' style='background-color: #FFFFff'>
    __pyx_v_out->this = __pyx_v_this;

            if ((__pyx_v_descr->byteorder == '<')) {
        __pyx_t_5 = (!__pyx_v_little_endian);
      } else {
        __pyx_t_5 = (__pyx_v_descr->byteorder == '<');
      }
      __pyx_t_6 = __pyx_t_5;
    } else {
      __pyx_t_6 = __pyx_t_1;
    }
    if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFF3e' onclick='toggleDiv("line212")'> 212:     out.own_this = 0</pre>
<pre id='line212' class='code' style='background-color: #FFFF3e'>
    __pyx_v_out->own_this = 0;

            __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 212; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_5);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_5);
      __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 212; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
      <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
     <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 212; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      goto __pyx_L13;
    }
    __pyx_L13:;
</pre><pre class='line' style='background-color: #FFFF48' onclick='toggleDiv("line213")'> 213:     return out</pre>
<pre id='line213' class='code' style='background-color: #FFFF48'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_out));
  __pyx_r = ((PyObject *)__pyx_v_out);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.StreamID_fromSdifStreadIDT");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>((PyObject *)__pyx_v_out);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

        __pyx_t_6 = (__pyx_v_t == NPY_BYTE);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_6;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line214")'> 214: </pre>
<pre id='line214' class='code' style='background-color: #FFFFff'>
        __pyx_t_6 = (__pyx_v_t == NPY_UBYTE);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_7;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line215")'> 215: cdef SdifMatrixTypeT *MatrixType_create(signature, column_names):</pre>
<pre id='line215' class='code' style='background-color: #FFFFaa'>
static  SdifMatrixTypeT *__pyx_f_6pysdif_7_pysdif_MatrixType_create(PyObject *__pyx_v_signature, PyObject *__pyx_v_column_names) {
  SdifSignature __pyx_v_sig;
  SdifMatrixTypeT *__pyx_v_mt;
  PyObject *__pyx_v_column_name;
  SdifMatrixTypeT *__pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("MatrixType_create");
  __pyx_v_column_name = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);

        __pyx_t_6 = (__pyx_v_t == NPY_SHORT);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_8;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line216")'> 216:     cdef SdifSignature sig = _str2sig(signature)</pre>
<pre id='line216' class='code' style='background-color: #FFFF7f'>
    __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_signature);<span class='error_goto'> if (unlikely((!__pyx_t_1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_v_sig = __pyx_f_6pysdif_7_pysdif__str2sig(__pyx_t_1);

        __pyx_t_6 = (__pyx_v_t == NPY_USHORT);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_9;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line217")'> 217:     cdef SdifMatrixTypeT *mt = SdifCreateMatrixType(sig, NULL)</pre>
<pre id='line217' class='code' style='background-color: #FFFFff'>
    __pyx_v_mt = SdifCreateMatrixType(__pyx_v_sig, NULL);

        __pyx_t_6 = (__pyx_v_t == NPY_INT);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_10;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line218")'> 218:     for column_name in column_names:</pre>
<pre id='line218' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_column_names) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_column_names)) {
    __pyx_t_2 = 0; __pyx_t_3 = __pyx_v_column_names; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3);
  } else {
    __pyx_t_2 = -1; __pyx_t_3 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_column_names);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 218; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_3))) {
      if (__pyx_t_2 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_3)) break;
      __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_2); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_4); __pyx_t_2++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_3))) {
      if (__pyx_t_2 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_3)) break;
      __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_2); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_4); __pyx_t_2++;
    } else {
      __pyx_t_4 = <span class='py_api'>PyIter_Next</span>(__pyx_t_3);
      if (!__pyx_t_4) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 218; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_column_name);
    __pyx_v_column_name = __pyx_t_4;
    __pyx_t_4 = 0;

        __pyx_t_6 = (__pyx_v_t == NPY_UINT);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_11;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFF6e' onclick='toggleDiv("line219")'> 219:         SdifMatrixTypeInsertTailColumnDef(mt, column_name)</pre>
<pre id='line219' class='code' style='background-color: #FFFF6e'>
        __pyx_t_5 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_column_name);<span class='error_goto'> if (unlikely((__pyx_t_5 == (const char*)NULL) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 219; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    SdifMatrixTypeInsertTailColumnDef(__pyx_v_mt, __pyx_t_5);
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;

        __pyx_t_6 = (__pyx_v_t == NPY_LONG);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_12;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFF6e' onclick='toggleDiv("line220")'> 220:     return mt</pre>
<pre id='line220' class='code' style='background-color: #FFFF6e'>
    __pyx_r = __pyx_v_mt;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_WriteUnraisable</span>("pysdif._pysdif.MatrixType_create");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_column_name);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

        __pyx_t_6 = (__pyx_v_t == NPY_ULONG);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_13;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line221")'> 221: </pre>
<pre id='line221' class='code' style='background-color: #FFFFff'>
        __pyx_t_6 = (__pyx_v_t == NPY_LONGLONG);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_14;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line222")'> 222: </pre>
<pre id='line222' class='code' style='background-color: #FFFFff'>
        __pyx_t_6 = (__pyx_v_t == NPY_ULONGLONG);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_15;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line223")'> 223: cdef SdifFrameTypeT *FrameType_create(signature, components):</pre>
<pre id='line223' class='code' style='background-color: #FFFFaa'>
static  SdifFrameTypeT *__pyx_f_6pysdif_7_pysdif_FrameType_create(PyObject *__pyx_v_signature, PyObject *__pyx_v_components) {
  SdifSignature __pyx_v_sig;
  SdifFrameTypeT *__pyx_v_ft;
  PyObject *__pyx_v_component;
  SdifFrameTypeT *__pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("FrameType_create");
  __pyx_v_component = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);

        __pyx_t_6 = (__pyx_v_t == NPY_FLOAT);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_16;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFF2f' onclick='toggleDiv("line224")'> 224:     cdef SdifSignature sig = str2signature(signature)</pre>
<pre id='line224' class='code' style='background-color: #FFFF2f'>
    __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_65);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 224; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 224; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_signature);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_signature);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_1, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 224; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_t_3 = <span class='pyx_api'>__Pyx_PyInt_from_py_SdifSignature</span>(__pyx_t_2);<span class='error_goto'> if (unlikely((__pyx_t_3 == (SdifSignature)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 224; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_sig = __pyx_t_3;

        __pyx_t_6 = (__pyx_v_t == NPY_DOUBLE);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_17;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line225")'> 225:     cdef SdifFrameTypeT *ft = SdifCreateFrameType(sig, NULL)</pre>
<pre id='line225' class='code' style='background-color: #FFFFff'>
    __pyx_v_ft = SdifCreateFrameType(__pyx_v_sig, NULL);

        __pyx_t_6 = (__pyx_v_t == NPY_LONGDOUBLE);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_18;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line226")'> 226:     for component in components:</pre>
<pre id='line226' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_components) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_components)) {
    __pyx_t_4 = 0; __pyx_t_2 = __pyx_v_components; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
  } else {
    __pyx_t_4 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_components);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 226; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_4 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_4++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_4 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_4++;
    } else {
      __pyx_t_1 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
      if (!__pyx_t_1) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 226; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
    __pyx_v_component = __pyx_t_1;
    __pyx_t_1 = 0;

        __pyx_t_6 = (__pyx_v_t == NPY_CFLOAT);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_19;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line227")'> 227:         if isinstance(component, Component):</pre>
<pre id='line227' class='code' style='background-color: #FFFFaa'>
        __pyx_t_5 = <span class='py_api'>PyObject_TypeCheck</span>(__pyx_v_component, ((PyTypeObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_Component))); 
    if (__pyx_t_5) {

        __pyx_t_6 = (__pyx_v_t == NPY_CDOUBLE);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_20;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFF1f' onclick='toggleDiv("line228")'> 228:             SdifFrameTypePutComponent(ft, str2signature(component.signature), component.name)</pre>
<pre id='line228' class='code' style='background-color: #FFFF1f'>
            __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_65);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
      __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_component, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_6));
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
      __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_1, ((PyObject *)__pyx_t_6), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_6)); __pyx_t_6 = 0;
      __pyx_t_3 = <span class='pyx_api'>__Pyx_PyInt_from_py_SdifSignature</span>(__pyx_t_1);<span class='error_goto'> if (unlikely((__pyx_t_3 == (SdifSignature)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_component, __pyx_kp_name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      __pyx_t_7 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_t_1);<span class='error_goto'> if (unlikely((!__pyx_t_7) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      SdifFrameTypePutComponent(__pyx_v_ft, __pyx_t_3, __pyx_t_7);
      goto __pyx_L5;
    }
        __pyx_t_6 = (__pyx_v_t == NPY_CLONGDOUBLE);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_21;
      goto __pyx_L14;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line229")'> 229:         else:</pre>
<pre id='line229' class='code' style='background-color: #FFFFff'>
        __pyx_t_6 = (__pyx_v_t == NPY_OBJECT);
    if (__pyx_t_6) {
      __pyx_v_f = __pyx_k_22;
      goto __pyx_L14;
    }
    /*else*/ {
</pre><pre class='line' style='background-color: #FFFF1d' onclick='toggleDiv("line230")'> 230:             SdifFrameTypePutComponent(ft, str2signature(component[0]), component[1])</pre>
<pre id='line230' class='code' style='background-color: #FFFF1d'>
            __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_65);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
      __pyx_2 = <span class='pyx_api'>__Pyx_GetItemInt</span>(__pyx_v_component, 0, sizeof(long), <span class='py_api'>PyInt_FromLong</span>);<span class='error_goto'> if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_2);
      __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_2);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_2);
      __pyx_2 = 0;
      __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_1, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
      __pyx_t_3 = <span class='pyx_api'>__Pyx_PyInt_from_py_SdifSignature</span>(__pyx_t_6);<span class='error_goto'> if (unlikely((__pyx_t_3 == (SdifSignature)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_2 = <span class='pyx_api'>__Pyx_GetItemInt</span>(__pyx_v_component, 1, sizeof(long), <span class='py_api'>PyInt_FromLong</span>);<span class='error_goto'> if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_2);
      __pyx_t_7 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_2);<span class='error_goto'> if (unlikely((!__pyx_t_7) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_2); __pyx_2 = 0;
      SdifFrameTypePutComponent(__pyx_v_ft, __pyx_t_3, __pyx_t_7);
    }
    __pyx_L5:;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF20' onclick='toggleDiv("line231")'> 231:     return ft</pre>
<pre id='line231' class='code' style='background-color: #FFFF20'>
    __pyx_r = __pyx_v_ft;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_WriteUnraisable</span>("pysdif._pysdif.FrameType_create");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

            __pyx_t_3 = <span class='py_api'>PyInt_FromLong</span>(__pyx_v_t);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      __pyx_t_2 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_23, __pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_2);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
      <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_2, 0, 0);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
     <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    }
    __pyx_L14:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line232")'> 232: </pre>
<pre id='line232' class='code' style='background-color: #FFFFff'>
        __pyx_v_info->format = __pyx_v_f;
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line233")'> 233: cdef class MatrixTypeDefinition:</pre>
<pre id='line233' class='code' style='background-color: #FFFFe7'>
        __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L12;
  }
  struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition {
  <span class='py_macro_api'>PyObject_HEAD</span>
  struct __pyx_vtabstruct_6pysdif_7_pysdif_MatrixTypeDefinition *__pyx_vtab;
  PyObject *signature;
  PyObject *column_names;
};

struct __pyx_vtabstruct_6pysdif_7_pysdif_MatrixTypeDefinition {
  SdifMatrixTypeT *(*toSdifMatrixType)(struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *);
};
static struct __pyx_vtabstruct_6pysdif_7_pysdif_MatrixTypeDefinition *__pyx_vtabptr_6pysdif_7_pysdif_MatrixTypeDefinition;

</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line234")'> 234:     cdef public object signature</pre>
<pre id='line234' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF2a' onclick='toggleDiv("line235")'> 235:     cdef public list column_names</pre>
<pre id='line235' class='code' style='background-color: #FFFF2a'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_20MatrixTypeDefinition_12column_names___get__(PyObject *__pyx_v_self);     __pyx_v_info->format = ((char *)malloc(255));
</pre><pre class='line' style='background-color: #FFFF39' onclick='toggleDiv("line236")'> 236:     def __init__(self, signature, column_names):</pre>
<pre id='line236' class='code' style='background-color: #FFFF39'>
static int __pyx_pf_6pysdif_7_pysdif_20MatrixTypeDefinition___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds);     (__pyx_v_info->format[0]) = '^';
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line237")'> 237:         self.signature = signature</pre>
<pre id='line237' class='code' style='background-color: #FFFF73'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->signature);
  ((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->signature = __pyx_v_signature;

        __pyx_v_offset = 0;
</pre><pre class='line' style='background-color: #FFFF3c' onclick='toggleDiv("line238")'> 238:         self.column_names = column_names</pre>
<pre id='line238' class='code' style='background-color: #FFFF3c'>
    if (!(likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_v_column_names)) || (__pyx_v_column_names) == Py_None || (<span class='py_api'>PyErr_Format</span>(<span class='py_api'>PyExc_TypeError</span>, "Expected list, got %s", <span class='py_macro_api'>Py_TYPE</span>(__pyx_v_column_names)->tp_name), 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_column_names);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_column_names);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names));
  ((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names = ((PyObject *)__pyx_v_column_names);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.MatrixTypeDefinition.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line239")'> 239:     def __repr__(self):</pre>
<pre id='line239' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_20MatrixTypeDefinition___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_20MatrixTypeDefinition___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__repr__");
</pre><pre class='line' style='background-color: #FFFF19' onclick='toggleDiv("line240")'> 240:         return "1MTD(signature=%s, column_names=%s)" % (self.signature, ', '.join(self.column_names))</pre>
<pre id='line240' class='code' style='background-color: #FFFF19'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_kp_67, __pyx_kp_join);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names));
  __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->signature);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, ((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->signature);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_66, ((PyObject *)__pyx_t_2));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.MatrixTypeDefinition.__repr__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

        __pyx_t_7 = __pyx_f_5numpy__util_dtypestring(__pyx_v_descr, (__pyx_v_info->format + 1), (__pyx_v_info->format + 255), (&__pyx_v_offset));<span class='error_goto'> if (unlikely(__pyx_t_7 == NULL)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    __pyx_v_f = __pyx_t_7;
</pre><pre class='line' style='background-color: #FFFF44' onclick='toggleDiv("line241")'> 241:     def __iter__(self):</pre>
<pre id='line241' class='code' style='background-color: #FFFF44'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_20MatrixTypeDefinition___iter__(PyObject *__pyx_v_self);     (__pyx_v_f[0]) = 0;
  }
  __pyx_L12:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("numpy.ndarray.__getbuffer__");
  __pyx_r = -1;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_info->obj);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_info->obj); __pyx_v_info->obj = NULL;
  goto __pyx_L2;
  __pyx_L0:;
  if (__pyx_v_info->obj == Py_None) {
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(Py_None);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(Py_None); __pyx_v_info->obj = NULL;
  }
  __pyx_L2:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>((PyObject *)__pyx_v_descr);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line242")'> 242:         return iter(self.column_names)</pre>
<pre id='line242' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyObject_GetIter</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.MatrixTypeDefinition.__iter__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line243")'> 243:     def __len__(self):</pre>
<pre id='line243' class='code' style='background-color: #FFFFaa'>
static Py_ssize_t __pyx_pf_6pysdif_7_pysdif_20MatrixTypeDefinition___len__(PyObject *__pyx_v_self); static void __pyx_pf_5numpy_7ndarray___releasebuffer__(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info); /*proto*/
static void __pyx_pf_5numpy_7ndarray___releasebuffer__(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__releasebuffer__");
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line244")'> 244:         return len(self.column_names)</pre>
<pre id='line244' class='code' style='background-color: #FFFF79'>
    __pyx_t_1 = <span class='py_api'>PyObject_Length</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *)__pyx_v_self)->column_names));<span class='error_goto'> if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_r = __pyx_t_1;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.MatrixTypeDefinition.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

    __pyx_t_1 = <span class='py_macro_api'>PyArray_HASFIELDS</span>(((PyArrayObject *)__pyx_v_self));
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line245")'> 245:     cdef SdifMatrixTypeT *toSdifMatrixType(self):</pre>
<pre id='line245' class='code' style='background-color: #FFFFc4'>
static  SdifMatrixTypeT *__pyx_f_6pysdif_7_pysdif_20MatrixTypeDefinition_toSdifMatrixType(struct __pyx_obj_6pysdif_7_pysdif_MatrixTypeDefinition *__pyx_v_self) {
  SdifMatrixTypeT *__pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("toSdifMatrixType");

        free(__pyx_v_info->format);
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line246")'> 246:         return MatrixType_create(self.signature, self.column_names)</pre>
<pre id='line246' class='code' style='background-color: #FFFFc4'>
    __pyx_r = __pyx_f_6pysdif_7_pysdif_MatrixType_create(__pyx_v_self->signature, ((PyObject *)__pyx_v_self->column_names));
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

    __pyx_t_1 = ((sizeof(npy_intp)) != (sizeof(Py_ssize_t)));
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line247")'> 247: </pre>
<pre id='line247' class='code' style='background-color: #FFFFd4'>
        free(__pyx_v_info->strides);
    goto __pyx_L6;
  }
  __pyx_L6:;

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line248")'> 248: cdef MatrixTypesTable_to_list(SdifHashTableT *t):</pre>
<pre id='line248' class='code' style='background-color: #FFFF79'>
static  PyObject *__pyx_f_6pysdif_7_pysdif_MatrixTypesTable_to_list(SdifHashTableT *__pyx_v_t) {
  unsigned int __pyx_v_i;
  SdifHashNT *__pyx_v_pName;
  SdifMatrixTypeT *__pyx_v_matrix;
  SdifColumnDefT *__pyx_v_column_def;
  PyObject *__pyx_v_out = 0;
  PyObject *__pyx_v_column_names;
  PyObject *__pyx_v_signature;
  PyObject *__pyx_v_row;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("MatrixTypesTable_to_list");
  __pyx_v_column_names = ((PyObject *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_signature = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_row = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line249")'> 249:     cdef unsigned int i</pre>
<pre id='line249' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line250")'> 250:     cdef SdifHashNT *pName</pre>
<pre id='line250' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line251")'> 251:     cdef SdifMatrixTypeT *matrix</pre>
<pre id='line251' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line252")'> 252:     cdef SdifColumnDefT *column_def</pre>
<pre id='line252' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line253")'> 253:     cdef list out = []</pre>
<pre id='line253' class='code' style='background-color: #FFFF8d'>
    __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  __pyx_v_out = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line254")'> 254:     cdef list column_names</pre>
<pre id='line254' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line255")'> 255:     for i in range(t.HashSize):</pre>
<pre id='line255' class='code' style='background-color: #FFFFff'>
    for (__pyx_t_2 = 0; __pyx_t_2 < __pyx_v_t->HashSize; __pyx_t_2+=1) {
    __pyx_v_i = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line256")'> 256:         pName = t.Table[i]</pre>
<pre id='line256' class='code' style='background-color: #FFFFff'>
        __pyx_v_pName = (__pyx_v_t->Table[__pyx_v_i]);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line257")'> 257:         while pName:</pre>
<pre id='line257' class='code' style='background-color: #FFFFff'>
        while (1) {
      __pyx_t_3 = (__pyx_v_pName != 0);
      if (!__pyx_t_3) break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line258")'> 258:             matrix = &lt;SdifMatrixTypeT *&gt;(pName.Data)</pre>
<pre id='line258' class='code' style='background-color: #FFFFff'>
            __pyx_v_matrix = ((SdifMatrixTypeT *)__pyx_v_pName->Data);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line259")'> 259:             if not SdifListIsEmpty(matrix.ColumnUserList):</pre>
<pre id='line259' class='code' style='background-color: #FFFFff'>
            __pyx_t_3 = (!SdifListIsEmpty(__pyx_v_matrix->ColumnUserList));
      if (__pyx_t_3) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line260")'> 260:                 signature = sig2str(matrix.Signature)</pre>
<pre id='line260' class='code' style='background-color: #FFFF9f'>
                __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(__pyx_v_matrix->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 260; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_signature);
        __pyx_v_signature = __pyx_t_1;
        __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line261")'> 261:                 column_def = &lt;SdifColumnDefT *&gt;SdifListGetHead(matrix.ColumnUserList)</pre>
<pre id='line261' class='code' style='background-color: #FFFFff'>
                __pyx_v_column_def = ((SdifColumnDefT *)SdifListGetHead(__pyx_v_matrix->ColumnUserList));
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line262")'> 262:                 column_names = []</pre>
<pre id='line262' class='code' style='background-color: #FFFF79'>
                __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_column_names));
        __pyx_v_column_names = __pyx_t_1;
        __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line263")'> 263:                 column_names.append(column_def.Name)</pre>
<pre id='line263' class='code' style='background-color: #FFFF62'>
                __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_FromString</span>(__pyx_v_column_def->Name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
        __pyx_t_4 = <span class='py_api'>PyList_Append</span>(((PyObject *)__pyx_v_column_names), __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line264")'> 264:                 while SdifListIsNext(matrix.ColumnUserList):</pre>
<pre id='line264' class='code' style='background-color: #FFFFff'>
                while (1) {
          __pyx_t_4 = SdifListIsNext(__pyx_v_matrix->ColumnUserList);
          if (!__pyx_t_4) break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line265")'> 265:                     column_def = &lt;SdifColumnDefT *&gt;(SdifListGetNext(matrix.ColumnUserList))</pre>
<pre id='line265' class='code' style='background-color: #FFFFff'>
                    __pyx_v_column_def = ((SdifColumnDefT *)SdifListGetNext(__pyx_v_matrix->ColumnUserList));
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line266")'> 266:                     column_names.append(column_def.Name)</pre>
<pre id='line266' class='code' style='background-color: #FFFF62'>
                    __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_FromString</span>(__pyx_v_column_def->Name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
          __pyx_t_4 = <span class='py_api'>PyList_Append</span>(((PyObject *)__pyx_v_column_names), __pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
        }
</pre><pre class='line' style='background-color: #FFFF3c' onclick='toggleDiv("line267")'> 267:                 row = MatrixTypeDefinition(signature=signature, column_names=column_names)</pre>
<pre id='line267' class='code' style='background-color: #FFFF3c'>
                __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
        if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_signature, __pyx_v_signature) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_column_names, ((PyObject *)__pyx_v_column_names)) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        __pyx_t_1 = <span class='py_api'>PyEval_CallObjectWithKeywords</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_MatrixTypeDefinition)), ((PyObject *)__pyx_empty_tuple), ((PyObject *)__pyx_1));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_1)); __pyx_1 = 0;
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_row);
        __pyx_v_row = __pyx_t_1;
        __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line268")'> 268:                 out.append(row)</pre>
<pre id='line268' class='code' style='background-color: #FFFFaa'>
                __pyx_t_4 = <span class='py_api'>PyList_Append</span>(((PyObject *)__pyx_v_out), __pyx_v_row);<span class='error_goto'> if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        goto __pyx_L7;
      }
      __pyx_L7:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line269")'> 269:             pName = pName.Next</pre>
<pre id='line269' class='code' style='background-color: #FFFFff'>
            __pyx_v_pName = __pyx_v_pName->Next;
    }
  }
</pre><pre class='line' style='background-color: #FFFF39' onclick='toggleDiv("line270")'> 270:     return out</pre>
<pre id='line270' class='code' style='background-color: #FFFF39'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_out));
  __pyx_r = ((PyObject *)__pyx_v_out);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.MatrixTypesTable_to_list");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_v_out);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_column_names);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_row);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line271")'> 271: </pre>
<pre id='line271' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line272")'> 272: cdef class Component:</pre>
<pre id='line272' class='code' style='background-color: #FFFFe7'>
struct __pyx_obj_6pysdif_7_pysdif_Component {
  <span class='py_macro_api'>PyObject_HEAD</span>
  PyObject *signature;
  PyObject *name;
  unsigned int num;
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line273")'> 273:     cdef readonly str signature</pre>
<pre id='line273' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line274")'> 274:     cdef readonly str name</pre>
<pre id='line274' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line275")'> 275:     cdef readonly unsigned int num</pre>
<pre id='line275' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF2b' onclick='toggleDiv("line276")'> 276:     def __init__(self, str signature, str name):</pre>
<pre id='line276' class='code' style='background-color: #FFFF2b'>
static int __pyx_pf_6pysdif_7_pysdif_9Component___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_9Component___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_signature = 0;
  PyObject *__pyx_v_name = 0;
  int __pyx_r;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_signature,&__pyx_kp_name,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__init__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_signature);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_name);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__init__", 1, 2, 2, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "__init__") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_signature = ((PyObject *)values[0]);
    __pyx_v_name = ((PyObject *)values[1]);
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_signature = ((PyObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));
    __pyx_v_name = ((PyObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1));
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__init__", 1, 2, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Component.__init__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_signature), &<span class='py_api'>PyString_Type</span>, 1, "signature", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_name), &<span class='py_api'>PyString_Type</span>, 1, "name", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line277")'> 277:         self.signature = signature</pre>
<pre id='line277' class='code' style='background-color: #FFFF73'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_signature));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_signature));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->signature));
  ((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->signature = __pyx_v_signature;
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line278")'> 278:         self.name = name</pre>
<pre id='line278' class='code' style='background-color: #FFFF73'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_name));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_name));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->name);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->name));
  ((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->name = __pyx_v_name;
</pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line279")'> 279:         self.num = 0</pre>
<pre id='line279' class='code' style='background-color: #FFFFb6'>
    ((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->num = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Component.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line280")'> 280:     def __repr__(self):</pre>
<pre id='line280' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_9Component___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_9Component___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__repr__");
</pre><pre class='line' style='background-color: #FFFF29' onclick='toggleDiv("line281")'> 281:         return "Component(sig=%s, name=%s)" % (self.signature, self.name)</pre>
<pre id='line281' class='code' style='background-color: #FFFF29'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->signature));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->signature));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->signature));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->name));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->name));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_v_self)->name));
  __pyx_t_2 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_68, ((PyObject *)__pyx_t_1));<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Component.__repr__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line282")'> 282: </pre>
<pre id='line282' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line283")'> 283: cdef Component Component_from_SdifComponent(SdifComponentT *c):</pre>
<pre id='line283' class='code' style='background-color: #FFFFd4'>
static  struct __pyx_obj_6pysdif_7_pysdif_Component *__pyx_f_6pysdif_7_pysdif_Component_from_SdifComponent(SdifComponentT *__pyx_v_c) {
  struct __pyx_obj_6pysdif_7_pysdif_Component *__pyx_v_out = 0;
  struct __pyx_obj_6pysdif_7_pysdif_Component *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("Component_from_SdifComponent");
</pre><pre class='line' style='background-color: #FFFF33' onclick='toggleDiv("line284")'> 284:     cdef Component out = Component(sig2str(c.MtrxS), c.Name)</pre>
<pre id='line284' class='code' style='background-color: #FFFF33'>
    __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(__pyx_v_c->MtrxS);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = __Pyx_<span class='py_api'>PyBytes_FromString</span>(__pyx_v_c->Name);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_Component)), ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_2, __pyx_ptype_6pysdif_7_pysdif_Component)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_v_out = ((struct __pyx_obj_6pysdif_7_pysdif_Component *)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line285")'> 285:     out.num = c.Num</pre>
<pre id='line285' class='code' style='background-color: #FFFFff'>
    __pyx_v_out->num = __pyx_v_c->Num;
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line286")'> 286:     return out</pre>
<pre id='line286' class='code' style='background-color: #FFFF43'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(((PyObject *)__pyx_r));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_out));
  __pyx_r = __pyx_v_out;
  goto __pyx_L0;

  __pyx_r = ((struct __pyx_obj_6pysdif_7_pysdif_Component *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Component_from_SdifComponent");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>((PyObject *)__pyx_v_out);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>((PyObject *)__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line287")'> 287: </pre>
<pre id='line287' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line288")'> 288: cdef FrameTypesTable_to_list(SdifHashTableT *t):</pre>
<pre id='line288' class='code' style='background-color: #FFFF6a'>
static  PyObject *__pyx_f_6pysdif_7_pysdif_FrameTypesTable_to_list(SdifHashTableT *__pyx_v_t) {
  unsigned int __pyx_v_i;
  SdifHashNT *__pyx_v_pName;
  SdifFrameTypeT *__pyx_v_frame;
  PyObject *__pyx_v_out = 0;
  PyObject *__pyx_v_components;
  PyObject *__pyx_v_signature;
  PyObject *__pyx_v_j;
  PyObject *__pyx_v_component;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("FrameTypesTable_to_list");
  __pyx_v_components = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_signature = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_j = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_component = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line289")'> 289:     cdef unsigned int i</pre>
<pre id='line289' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line290")'> 290:     cdef SdifHashNT *pName</pre>
<pre id='line290' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line291")'> 291:     cdef SdifFrameTypeT *frame</pre>
<pre id='line291' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line292")'> 292:     cdef list out = []</pre>
<pre id='line292' class='code' style='background-color: #FFFF8d'>
    __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  __pyx_v_out = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line293")'> 293: </pre>
<pre id='line293' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line294")'> 294:     for i in range(t.HashSize):</pre>
<pre id='line294' class='code' style='background-color: #FFFFff'>
    for (__pyx_t_2 = 0; __pyx_t_2 < __pyx_v_t->HashSize; __pyx_t_2+=1) {
    __pyx_v_i = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line295")'> 295:         pName = t.Table[i]</pre>
<pre id='line295' class='code' style='background-color: #FFFFff'>
        __pyx_v_pName = (__pyx_v_t->Table[__pyx_v_i]);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line296")'> 296:         while pName:</pre>
<pre id='line296' class='code' style='background-color: #FFFFff'>
        while (1) {
      __pyx_t_3 = (__pyx_v_pName != 0);
      if (!__pyx_t_3) break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line297")'> 297:             frame = &lt;SdifFrameTypeT *&gt;(pName.Data)</pre>
<pre id='line297' class='code' style='background-color: #FFFFff'>
            __pyx_v_frame = ((SdifFrameTypeT *)__pyx_v_pName->Data);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line298")'> 298:             if frame.NbComponentUse &gt; 0:</pre>
<pre id='line298' class='code' style='background-color: #FFFFff'>
            __pyx_t_3 = (__pyx_v_frame->NbComponentUse > 0);
      if (__pyx_t_3) {
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line299")'> 299:                 components = []</pre>
<pre id='line299' class='code' style='background-color: #FFFF79'>
                __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 299; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_components);
        __pyx_v_components = ((PyObject *)__pyx_t_1);
        __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line300")'> 300:                 signature = sig2str(frame.Signature)</pre>
<pre id='line300' class='code' style='background-color: #FFFF9f'>
                __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(__pyx_v_frame->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 300; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_signature);
        __pyx_v_signature = __pyx_t_1;
        __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF16' onclick='toggleDiv("line301")'> 301:                 for j in range(frame.NbComponent - frame.NbComponentUse + 1, frame.NbComponent + 1):</pre>
<pre id='line301' class='code' style='background-color: #FFFF16'>
                __pyx_t_1 = <span class='py_api'>PyLong_FromUnsignedLong</span>(((__pyx_v_frame->NbComponent - __pyx_v_frame->NbComponentUse) + 1));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
        __pyx_t_5 = <span class='py_api'>PyLong_FromUnsignedLong</span>((__pyx_v_frame->NbComponent + 1));<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
        __pyx_t_6 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_6));
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_1);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_t_5);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_5);
        __pyx_t_1 = 0;
        __pyx_t_5 = 0;
        __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_range, ((PyObject *)__pyx_t_6), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_6)); __pyx_t_6 = 0;
        if (<span class='py_api'>PyList_CheckExact</span>(__pyx_t_5) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_5)) {
          __pyx_t_4 = 0; __pyx_t_6 = __pyx_t_5; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_6);
        } else {
          __pyx_t_4 = -1; __pyx_t_6 = <span class='py_api'>PyObject_GetIter</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
        for (;;) {
          if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_6))) {
            if (__pyx_t_4 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_6)) break;
            __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_6, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_4++;
          } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_6))) {
            if (__pyx_t_4 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_6)) break;
            __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_6, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_4++;
          } else {
            __pyx_t_5 = <span class='py_api'>PyIter_Next</span>(__pyx_t_6);
            if (!__pyx_t_5) {
              if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
              break;
            }
            <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
          }
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_j);
          __pyx_v_j = __pyx_t_5;
          __pyx_t_5 = 0;
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line302")'> 302:                     component = Component_from_SdifComponent(SdifFrameTypeGetNthComponent(frame, j))</pre>
<pre id='line302' class='code' style='background-color: #FFFF79'>
                    __pyx_t_7 = __Pyx_PyInt_from_py_SdifUInt4(__pyx_v_j);<span class='error_goto'> if (unlikely((__pyx_t_7 == (SdifUInt4)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          __pyx_t_5 = ((PyObject *)__pyx_f_6pysdif_7_pysdif_Component_from_SdifComponent(SdifFrameTypeGetNthComponent(__pyx_v_frame, __pyx_t_7)));<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
          __pyx_v_component = __pyx_t_5;
          __pyx_t_5 = 0;
</pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line303")'> 303:                     components.append(component)</pre>
<pre id='line303' class='code' style='background-color: #FFFF6a'>
                    __pyx_t_5 = __Pyx_<span class='py_api'>PyObject_Append</span>(__pyx_v_components, __pyx_v_component);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class='line' style='background-color: #FFFF32' onclick='toggleDiv("line304")'> 304:                 out.append(FrameTypeDefinition(signature, components))</pre>
<pre id='line304' class='code' style='background-color: #FFFF32'>
                __pyx_t_6 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_6));
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_signature);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_v_signature);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_signature);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_components);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_v_components);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_components);
        __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_FrameTypeDefinition)), ((PyObject *)__pyx_t_6), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_6)); __pyx_t_6 = 0;
        __pyx_t_8 = <span class='py_api'>PyList_Append</span>(((PyObject *)__pyx_v_out), __pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
        goto __pyx_L7;
      }
      __pyx_L7:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line305")'> 305:             pName = pName.Next</pre>
<pre id='line305' class='code' style='background-color: #FFFFff'>
            __pyx_v_pName = __pyx_v_pName->Next;
    }
  }
</pre><pre class='line' style='background-color: #FFFF33' onclick='toggleDiv("line306")'> 306:     return out</pre>
<pre id='line306' class='code' style='background-color: #FFFF33'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_out));
  __pyx_r = ((PyObject *)__pyx_v_out);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypesTable_to_list");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_v_out);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_components);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_j);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line307")'> 307: </pre>
<pre id='line307' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line308")'> 308: cdef class FrameTypeDefinition:</pre>
<pre id='line308' class='code' style='background-color: #FFFFe7'>
struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition {
  <span class='py_macro_api'>PyObject_HEAD</span>
  PyObject *signature;
  PyObject *components;
};
</pre><pre class='line' style='background-color: #FFFF2a' onclick='toggleDiv("line309")'> 309:     cdef public str signature</pre>
<pre id='line309' class='code' style='background-color: #FFFF2a'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_9signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_9signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature));
  __pyx_r = ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

static int __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_9signature___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_9signature___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__set__");
  if (!(likely(<span class='py_api'>PyString_CheckExact</span>(__pyx_v_value)) || (__pyx_v_value) == Py_None || (<span class='py_api'>PyErr_Format</span>(<span class='py_api'>PyExc_TypeError</span>, "Expected str, got %s", <span class='py_macro_api'>Py_TYPE</span>(__pyx_v_value)->tp_name), 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_value);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_value);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature));
  ((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature = ((PyObject *)__pyx_v_value);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypeDefinition.signature.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF2a' onclick='toggleDiv("line310")'> 310:     cdef public list components</pre>
<pre id='line310' class='code' style='background-color: #FFFF2a'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_10components___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_10components___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components));
  __pyx_r = ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

static int __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_10components___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition_10components___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__set__");
  if (!(likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_v_value)) || (__pyx_v_value) == Py_None || (<span class='py_api'>PyErr_Format</span>(<span class='py_api'>PyExc_TypeError</span>, "Expected list, got %s", <span class='py_macro_api'>Py_TYPE</span>(__pyx_v_value)->tp_name), 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_value);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_value);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components));
  ((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components = ((PyObject *)__pyx_v_value);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypeDefinition.components.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF39' onclick='toggleDiv("line311")'> 311:     def __init__(self, signature, components):</pre>
<pre id='line311' class='code' style='background-color: #FFFF39'>
static int __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_signature = 0;
  PyObject *__pyx_v_components = 0;
  int __pyx_r;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_signature,&__pyx_kp_components,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__init__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_signature);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_components);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__init__", 1, 2, 2, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "__init__") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_signature = values[0];
    __pyx_v_components = values[1];
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_signature = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
    __pyx_v_components = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__init__", 1, 2, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypeDefinition.__init__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line312")'> 312:         self.signature = signature</pre>
<pre id='line312' class='code' style='background-color: #FFFF43'>
    if (!(likely(<span class='py_api'>PyString_CheckExact</span>(__pyx_v_signature)) || (__pyx_v_signature) == Py_None || (<span class='py_api'>PyErr_Format</span>(<span class='py_api'>PyExc_TypeError</span>, "Expected str, got %s", <span class='py_macro_api'>Py_TYPE</span>(__pyx_v_signature)->tp_name), 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature));
  ((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature = ((PyObject *)__pyx_v_signature);
</pre><pre class='line' style='background-color: #FFFF3c' onclick='toggleDiv("line313")'> 313:         self.components = components</pre>
<pre id='line313' class='code' style='background-color: #FFFF3c'>
    if (!(likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_v_components)) || (__pyx_v_components) == Py_None || (<span class='py_api'>PyErr_Format</span>(<span class='py_api'>PyExc_TypeError</span>, "Expected list, got %s", <span class='py_macro_api'>Py_TYPE</span>(__pyx_v_components)->tp_name), 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_components);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_components);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components));
  ((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components = ((PyObject *)__pyx_v_components);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypeDefinition.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line314")'> 314:     def __repr__(self):</pre>
<pre id='line314' class='code' style='background-color: #FFFF8d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_component;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__repr__");
  __pyx_v_s = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_component = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFF1c' onclick='toggleDiv("line315")'> 315:         s = [str(component) for component in self.components]</pre>
<pre id='line315' class='code' style='background-color: #FFFF1c'>
    __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  if (likely(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components) != Py_None)) {
    __pyx_t_2 = 0; __pyx_t_3 = ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3);
  } else {
    <span class='py_api'>PyErr_SetString</span>(<span class='py_api'>PyExc_TypeError</span>, "'NoneType' object is not iterable");<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  }
  for (;;) {
    if (__pyx_t_2 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_3)) break;
    __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_2); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_4); __pyx_t_2++;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
    __pyx_v_component = __pyx_t_4;
    __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_component);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_component);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_component);
    __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)&<span class='py_api'>PyString_Type</span>)), ((PyObject *)__pyx_t_4), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
    __pyx_t_6 = <span class='py_api'>PyList_Append</span>(__pyx_t_1, (PyObject*)__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_s);
  __pyx_v_s = ((PyObject *)__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF17' onclick='toggleDiv("line316")'> 316:         return "1FTD (signature='%s', components=[%s])" % (self.signature, ', '.join(s))</pre>
<pre id='line316' class='code' style='background-color: #FFFF17'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_kp_70, __pyx_kp_join);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_s);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_s);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_s);
  __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->signature));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_69, ((PyObject *)__pyx_t_3));<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_5;
  __pyx_t_5 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypeDefinition.__repr__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_s);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line317")'> 317:     def __iter__(self):</pre>
<pre id='line317' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__iter__");
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line318")'> 318:         return iter(self.components)</pre>
<pre id='line318' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyObject_GetIter</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypeDefinition.__iter__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line319")'> 319:     def __len__(self):</pre>
<pre id='line319' class='code' style='background-color: #FFFFd4'>
static Py_ssize_t __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_pf_6pysdif_7_pysdif_19FrameTypeDefinition___len__(PyObject *__pyx_v_self) {
  Py_ssize_t __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__len__");
</pre><pre class='line' style='background-color: #FFFF86' onclick='toggleDiv("line320")'> 320:         return len(self.components)</pre>
<pre id='line320' class='code' style='background-color: #FFFF86'>
    __pyx_t_1 = <span class='py_api'>PyObject_Length</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameTypeDefinition *)__pyx_v_self)->components));<span class='error_goto'> if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 320; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_r = __pyx_t_1;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameTypeDefinition.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line321")'> 321: </pre>
<pre id='line321' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line322")'> 322: # ----------------------------------------------------------------------</pre>
<pre id='line322' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line323")'> 323: </pre>
<pre id='line323' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line324")'> 324: SDIF_NEWTYPES = {</pre>
<pre id='line324' class='code' style='background-color: #FFFF8d'>
    __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line325")'> 325:     'RBEP': {</pre>
<pre id='line325' class='code' style='background-color: #FFFF8d'>
    __pyx_2 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_2));
</pre><pre class='line' style='background-color: #FFFF31' onclick='toggleDiv("line326")'> 326:         'frame_types':[('RBEP', 'RBEP ReassignedBandEnhancedPartials')],</pre>
<pre id='line326' class='code' style='background-color: #FFFF31'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_56);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_56);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_56);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_57);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_kp_57);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_57);
  __pyx_t_2 = <span class='py_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_2, 0, ((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_t_1));
  __pyx_t_1 = 0;
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_2, __pyx_kp_55, ((PyObject *)__pyx_t_2)) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF25' onclick='toggleDiv("line327")'> 327:         'matrix_types':[('RBEP', 'Index, Frequency, Amplitude, Phase, Bandwidth, Offset')]</pre>
<pre id='line327' class='code' style='background-color: #FFFF25'>
    __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_59);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_59);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_59);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_60);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_kp_60);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_60);
  __pyx_t_1 = <span class='py_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_1, 0, ((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_t_2));
  __pyx_t_2 = 0;
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_2, __pyx_kp_58, ((PyObject *)__pyx_t_1)) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_54, ((PyObject *)__pyx_2)) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_2)); __pyx_2 = 0;
  if (<span class='py_api'>PyObject_SetAttr</span>(__pyx_m, __pyx_kp_SDIF_NEWTYPES, ((PyObject *)__pyx_1)) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_1)); __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line328")'> 328:         }</pre>
<pre id='line328' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line329")'> 329: }</pre>
<pre id='line329' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line330")'> 330: </pre>
<pre id='line330' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line331")'> 331: def get_predefined_frames_and_matrices(sdiftype):</pre>
<pre id='line331' class='code' style='background-color: #FFFFaa'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_get_predefined_frames_and_matrices(PyObject *__pyx_self, PyObject *__pyx_v_sdiftype); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_get_predefined_frames_and_matrices[] = "get_predefined_frames_and_matrices(sdiftype)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_get_predefined_frames_and_matrices(PyObject *__pyx_self, PyObject *__pyx_v_sdiftype) {
  PyObject *__pyx_v_t;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_predefined_frames_and_matrices");
  __pyx_self = __pyx_self;
  __pyx_v_t = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFF2b' onclick='toggleDiv("line332")'> 332:     t = SDIF_NEWTYPES.get(sdiftype)</pre>
<pre id='line332' class='code' style='background-color: #FFFF2b'>
    __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_SDIF_NEWTYPES);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_1, __pyx_kp_get);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
  __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_sdiftype);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_sdiftype);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_sdiftype);
  __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_t);
  __pyx_v_t = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line333")'> 333:     if t:</pre>
<pre id='line333' class='code' style='background-color: #FFFFaa'>
    __pyx_t_4 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_v_t);<span class='error_goto'> if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  if (__pyx_t_4) {
</pre><pre class='line' style='background-color: #FFFF38' onclick='toggleDiv("line334")'> 334:         return t['frame_types'], t['matrix_types']</pre>
<pre id='line334' class='code' style='background-color: #FFFF38'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_1 = <span class='py_api'>PyObject_GetItem</span>(__pyx_v_t, __pyx_kp_71);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    __pyx_2 = <span class='py_api'>PyObject_GetItem</span>(__pyx_v_t, __pyx_kp_72);<span class='error_goto'> if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_2);
    __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_2);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_r = ((PyObject *)__pyx_t_3);
    __pyx_t_3 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line335")'> 335:     else:</pre>
<pre id='line335' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF39' onclick='toggleDiv("line336")'> 336:         return None</pre>
<pre id='line336' class='code' style='background-color: #FFFF39'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.get_predefined_frames_and_matrices");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_t);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line337")'> 337: </pre>
<pre id='line337' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line338")'> 338: # ----------------------------------------------------------------------</pre>
<pre id='line338' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line339")'> 339: </pre>
<pre id='line339' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line340")'> 340: def _init():</pre>
<pre id='line340' class='code' style='background-color: #FFFFaa'>
static PyObject *__pyx_pf_6pysdif_7_pysdif__init(PyObject *__pyx_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif__init[] = "_init()\ninitialize the sdif library (SdifGenInit) and initialize the numpy API";
static PyObject *__pyx_pf_6pysdif_7_pysdif__init(PyObject *__pyx_self, PyObject *unused) {
  PyObject *__pyx_v_type_definitions_file;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("_init");
  __pyx_self = __pyx_self;
  __pyx_v_type_definitions_file = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line341")'> 341:     """initialize the sdif library (SdifGenInit) and initialize the numpy API"""</pre>
<pre id='line341' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line342")'> 342:     global _g_sdif_initiated</pre>
<pre id='line342' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line343")'> 343:     import_array()</pre>
<pre id='line343' class='code' style='background-color: #FFFFff'>
    import_array();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line344")'> 344:     if _g_sdif_initiated == 0:</pre>
<pre id='line344' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_6pysdif_7_pysdif__g_sdif_initiated == 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line345")'> 345:         _g_sdif_initiated = 1</pre>
<pre id='line345' class='code' style='background-color: #FFFFff'>
        __pyx_v_6pysdif_7_pysdif__g_sdif_initiated = 1;
</pre><pre class='line' style='background-color: #FFFF12' onclick='toggleDiv("line346")'> 346:         type_definitions_file = os.path.split(__file__)[0] + os.path.sep + "SdifTypes.STYP"</pre>
<pre id='line346' class='code' style='background-color: #FFFF12'>
        __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_os);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_1, __pyx_kp_path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_t_2, __pyx_kp_split);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp___file__);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_1);
    __pyx_1 = 0;
    __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_3, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
    __pyx_1 = <span class='pyx_api'>__Pyx_GetItemInt</span>(__pyx_t_4, 0, sizeof(long), <span class='py_api'>PyInt_FromLong</span>);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_2 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_os);<span class='error_goto'> if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_2);
    __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_2, __pyx_kp_path);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_2); __pyx_2 = 0;
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_t_4, __pyx_kp_sep);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_api'>PyNumber_Add</span>(__pyx_1, __pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_api'>PyNumber_Add</span>(__pyx_t_4, __pyx_kp_73);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_type_definitions_file);
    __pyx_v_type_definitions_file = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF22' onclick='toggleDiv("line347")'> 347:         if os.path.exists(type_definitions_file):</pre>
<pre id='line347' class='code' style='background-color: #FFFF22'>
        __pyx_2 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_os);<span class='error_goto'> if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_2);
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_2, __pyx_kp_path);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_2); __pyx_2 = 0;
    __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_t_2, __pyx_kp_exists);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_type_definitions_file);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_type_definitions_file);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_type_definitions_file);
    __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_4, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
    __pyx_t_1 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line348")'> 348:             SdifGenInit(type_definitions_file)</pre>
<pre id='line348' class='code' style='background-color: #FFFF7f'>
            __pyx_t_5 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_type_definitions_file);<span class='error_goto'> if (unlikely((__pyx_t_5 == (const char*)NULL) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      SdifGenInit(__pyx_t_5);
      goto __pyx_L6;
    }
    /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line349")'> 349:         else:</pre>
<pre id='line349' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line350")'> 350:             SdifGenInit("")</pre>
<pre id='line350' class='code' style='background-color: #FFFFff'>
            SdifGenInit(__pyx_k_74);
    }
    __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line351")'> 351:         print "Sdif initialized"</pre>
<pre id='line351' class='code' style='background-color: #FFFFd4'>
        if (<span class='pyx_api'>__Pyx_PrintOne</span>(__pyx_kp_75) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFF34' onclick='toggleDiv("line352")'> 352:     return _g_sdif_initiated</pre>
<pre id='line352' class='code' style='background-color: #FFFF34'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_3 = <span class='py_api'>PyInt_FromLong</span>(__pyx_v_6pysdif_7_pysdif__g_sdif_initiated);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif._init");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_type_definitions_file);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line353")'> 353: </pre>
<pre id='line353' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line354")'> 354: def _cleanup():</pre>
<pre id='line354' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif__cleanup(PyObject *__pyx_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif__cleanup[] = "_cleanup()";
static PyObject *__pyx_pf_6pysdif_7_pysdif__cleanup(PyObject *__pyx_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("_cleanup");
  __pyx_self = __pyx_self;
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line355")'> 355:     SdifGenKill()</pre>
<pre id='line355' class='code' style='background-color: #FFFF8d'>
    SdifGenKill();

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line356")'> 356: </pre>
<pre id='line356' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line357")'> 357: # Forward declarations</pre>
<pre id='line357' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line358")'> 358: cdef class FrameR</pre>
<pre id='line358' class='code' style='background-color: #FFFFe7'>
struct __pyx_obj_6pysdif_7_pysdif_FrameR {
  <span class='py_macro_api'>PyObject_HEAD</span>
  SdifFrameHeaderT *header;
  struct __pyx_obj_6pysdif_7_pysdif_SdifFile *source;
  SdifFileT *source_this;
};
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line359")'> 359: cdef class SdifFile</pre>
<pre id='line359' class='code' style='background-color: #FFFFe7'>
struct __pyx_obj_6pysdif_7_pysdif_SdifFile {
  <span class='py_macro_api'>PyObject_HEAD</span>
  struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *__pyx_vtab;
  SdifFileT *this;
  int eof;
  struct __pyx_obj_6pysdif_7_pysdif_FrameR *frame;
  struct __pyx_obj_6pysdif_7_pysdif_Matrix *matrix;
  enum __pyx_t_6pysdif_7_pysdif_FrameStatusE frame_status;
  size_t matrix_idx;
  enum __pyx_t_6pysdif_7_pysdif_MatrixStatusE matrix_status;
  enum __pyx_t_6pysdif_7_pysdif_SdifStatusE write_status;
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line360")'> 360: </pre>
<pre id='line360' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line361")'> 361: # enums to keep state of reading</pre>
<pre id='line361' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line362")'> 362: cdef enum MatrixStatusE:</pre>
<pre id='line362' class='code' style='background-color: #FFFFff'>
enum __pyx_t_6pysdif_7_pysdif_MatrixStatusE {
  __pyx_e_6pysdif_7_pysdif_eMatrixInvalid,
  __pyx_e_6pysdif_7_pysdif_eMatrixNothingRead,
  __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead,
  __pyx_e_6pysdif_7_pysdif_eMatrixDataRead,
  __pyx_e_6pysdif_7_pysdif_eMatrixDataSkipped,
  __pyx_e_6pysdif_7_pysdif_eMatrixOffline
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line363")'> 363:     eMatrixInvalid,</pre>
<pre id='line363' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line364")'> 364:     eMatrixNothingRead,</pre>
<pre id='line364' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line365")'> 365:     eMatrixHeaderRead,</pre>
<pre id='line365' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line366")'> 366:     eMatrixDataRead,</pre>
<pre id='line366' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line367")'> 367:     eMatrixDataSkipped,</pre>
<pre id='line367' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line368")'> 368:     eMatrixOffline</pre>
<pre id='line368' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line369")'> 369: </pre>
<pre id='line369' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line370")'> 370: cdef enum FrameStatusE:</pre>
<pre id='line370' class='code' style='background-color: #FFFFff'>
enum __pyx_t_6pysdif_7_pysdif_FrameStatusE {
  __pyx_e_6pysdif_7_pysdif_eFrameInvalid,
  __pyx_e_6pysdif_7_pysdif_eFrameNothingRead,
  __pyx_e_6pysdif_7_pysdif_eFrameHeaderRead,
  __pyx_e_6pysdif_7_pysdif_eFrameSomeDataRead,
  __pyx_e_6pysdif_7_pysdif_eFrameAllDataRead,
  __pyx_e_6pysdif_7_pysdif_eFrameSignatureRead
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line371")'> 371:     eFrameInvalid,</pre>
<pre id='line371' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line372")'> 372:     eFrameNothingRead,</pre>
<pre id='line372' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line373")'> 373:     eFrameHeaderRead,</pre>
<pre id='line373' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line374")'> 374:     eFrameSomeDataRead,</pre>
<pre id='line374' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line375")'> 375:     eFrameAllDataRead,</pre>
<pre id='line375' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line376")'> 376:     eFrameSignatureRead</pre>
<pre id='line376' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line377")'> 377: </pre>
<pre id='line377' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line378")'> 378: cdef enum SdifStatusE:</pre>
<pre id='line378' class='code' style='background-color: #FFFFff'>
enum __pyx_t_6pysdif_7_pysdif_SdifStatusE {
  __pyx_e_6pysdif_7_pysdif_eSdifNothing,
  __pyx_e_6pysdif_7_pysdif_eSdifGeneralHeader,
  __pyx_e_6pysdif_7_pysdif_eSdifAllASCIIChunks,
  __pyx_e_6pysdif_7_pysdif_eSdifSignature,
  __pyx_e_6pysdif_7_pysdif_eSdifFrameHeader,
  __pyx_e_6pysdif_7_pysdif_eSdifMatrixHeader,
  __pyx_e_6pysdif_7_pysdif_eSdifMatrixData
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line379")'> 379:     eSdifNothing,</pre>
<pre id='line379' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line380")'> 380:     eSdifGeneralHeader,</pre>
<pre id='line380' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line381")'> 381:     eSdifAllASCIIChunks,</pre>
<pre id='line381' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line382")'> 382:     eSdifSignature,</pre>
<pre id='line382' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line383")'> 383:     eSdifFrameHeader,</pre>
<pre id='line383' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line384")'> 384:     eSdifMatrixHeader,</pre>
<pre id='line384' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line385")'> 385:     eSdifMatrixData</pre>
<pre id='line385' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line386")'> 386: </pre>
<pre id='line386' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line387")'> 387: # -----------------------------------------------------------------------------------------------</pre>
<pre id='line387' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line388")'> 388: </pre>
<pre id='line388' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line389")'> 389: cdef class Matrix:</pre>
<pre id='line389' class='code' style='background-color: #FFFFe7'>
struct __pyx_obj_6pysdif_7_pysdif_Matrix {
  <span class='py_macro_api'>PyObject_HEAD</span>
  SdifFileT *source_this;
  SdifSignature _signature;
  struct __pyx_obj_6pysdif_7_pysdif_SdifFile *source;
  enum __pyx_t_6pysdif_7_pysdif_MatrixStatusE status;
  PyArrayObject *data;
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line390")'> 390:     """</pre>
<pre id='line390' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line391")'> 391:     Matrix is only a placeholder class to</pre>
<pre id='line391' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line392")'> 392:     iterate through data while reading a SdifFile</pre>
<pre id='line392' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line393")'> 393: </pre>
<pre id='line393' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line394")'> 394:     in particular the default behaviour is that</pre>
<pre id='line394' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line395")'> 395:     when you are given a Matrix, this is only valid</pre>
<pre id='line395' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line396")'> 396:     until a new one is read.</pre>
<pre id='line396' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line397")'> 397: </pre>
<pre id='line397' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line398")'> 398:     See the methods 'get_data' and 'copy' for a better</pre>
<pre id='line398' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line399")'> 399:     explanation of how to make the data in the Matrix</pre>
<pre id='line399' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line400")'> 400:     persistent</pre>
<pre id='line400' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line401")'> 401:     """</pre>
<pre id='line401' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line402")'> 402:     #cdef SdifMatrixHeaderT *header</pre>
<pre id='line402' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line403")'> 403:     cdef SdifFileT *source_this</pre>
<pre id='line403' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line404")'> 404:     cdef SdifSignature _signature</pre>
<pre id='line404' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line405")'> 405:     cdef SdifFile source</pre>
<pre id='line405' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line406")'> 406:     cdef MatrixStatusE status</pre>
<pre id='line406' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line407")'> 407:     cdef ndarray data</pre>
<pre id='line407' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line408")'> 408: </pre>
<pre id='line408' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF44' onclick='toggleDiv("line409")'> 409:     def __cinit__(self, SdifFile source):</pre>
<pre id='line409' class='code' style='background-color: #FFFF44'>
static int __pyx_pf_6pysdif_7_pysdif_6Matrix___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_6Matrix___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_source = 0;
  int __pyx_r;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_source,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_source);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "__cinit__") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_source = ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)values[0]);
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_source = ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__cinit__", 1, 1, 1, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_source), __pyx_ptype_6pysdif_7_pysdif_SdifFile, 1, "source", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line410")'> 410:         if source is not None:</pre>
<pre id='line410' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((PyObject *)__pyx_v_source) != Py_None);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line411")'> 411:             self.source = source</pre>
<pre id='line411' class='code' style='background-color: #FFFF73'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_source));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_source));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source));
    ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source = __pyx_v_source;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line412")'> 412:             #self.header = source.this.CurrMtrxH</pre>
<pre id='line412' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line413")'> 413:             self.source_this = source.this</pre>
<pre id='line413' class='code' style='background-color: #FFFFff'>
        ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this = __pyx_v_source->this;
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line414")'> 414:             self.data = None</pre>
<pre id='line414' class='code' style='background-color: #FFFF73'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->data);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->data));
    ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->data = ((PyArrayObject *)Py_None);
    goto __pyx_L6;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line415")'> 415:         else:</pre>
<pre id='line415' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line416")'> 416:             #self.header = NULL</pre>
<pre id='line416' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line417")'> 417:             self.source_this = NULL</pre>
<pre id='line417' class='code' style='background-color: #FFFFff'>
        ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this = NULL;
</pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line418")'> 418:             self.status = eMatrixOffline</pre>
<pre id='line418' class='code' style='background-color: #FFFFb6'>
        ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->status = __pyx_e_6pysdif_7_pysdif_eMatrixOffline;
  }
  __pyx_L6:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line419")'> 419: </pre>
<pre id='line419' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line420")'> 420:     property rows:</pre>
<pre id='line420' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line421")'> 421:         def __get__(self):</pre>
<pre id='line421' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_4rows___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_4rows___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line422")'> 422:             #if self.header:</pre>
<pre id='line422' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line423")'> 423:             if self.source_this:</pre>
<pre id='line423' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line424")'> 424:                 #return self.header.NbRow</pre>
<pre id='line424' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line425")'> 425:                 return self.source_this.CurrMtrxH.NbRow</pre>
<pre id='line425' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this->CurrMtrxH->NbRow);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line426")'> 426:             else:</pre>
<pre id='line426' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line427")'> 427:                 assert self.status == eMatrixOffline</pre>
<pre id='line427' class='code' style='background-color: #FFFF7f'>
        #ifndef PYREX_WITHOUT_ASSERTIONS
    if (unlikely(!(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->status == __pyx_e_6pysdif_7_pysdif_eMatrixOffline))) {
      <span class='py_api'>PyErr_SetNone</span>(<span class='py_api'>PyExc_AssertionError</span>);
     <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    }
    #endif
</pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line428")'> 428:                 return len(self.data)</pre>
<pre id='line428' class='code' style='background-color: #FFFF41'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_3 = <span class='py_api'>PyObject_Length</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->data));<span class='error_goto'> if (unlikely(__pyx_t_3 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    __pyx_t_2 = <span class='py_api'>PyInt_FromSsize_t</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.rows.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line429")'> 429:     property cols:</pre>
<pre id='line429' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line430")'> 430:         def __get__(self):</pre>
<pre id='line430' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_4cols___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_4cols___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line431")'> 431:             #if self.header:</pre>
<pre id='line431' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line432")'> 432:             if self.source_this:</pre>
<pre id='line432' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line433")'> 433:                 #return self.header.NbCol</pre>
<pre id='line433' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line434")'> 434:                 return self.source_this.CurrMtrxH.NbCol</pre>
<pre id='line434' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this->CurrMtrxH->NbCol);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line435")'> 435:             else:</pre>
<pre id='line435' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line436")'> 436:                 assert self.status == eMatrixOffline</pre>
<pre id='line436' class='code' style='background-color: #FFFF7f'>
        #ifndef PYREX_WITHOUT_ASSERTIONS
    if (unlikely(!(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->status == __pyx_e_6pysdif_7_pysdif_eMatrixOffline))) {
      <span class='py_api'>PyErr_SetNone</span>(<span class='py_api'>PyExc_AssertionError</span>);
     <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 436; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    }
    #endif
</pre><pre class='line' style='background-color: #FFFF2e' onclick='toggleDiv("line437")'> 437:                 return len(self.data[0])</pre>
<pre id='line437' class='code' style='background-color: #FFFF2e'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_1 = <span class='pyx_api'>__Pyx_GetItemInt</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->data), 0, sizeof(long), <span class='py_api'>PyInt_FromLong</span>);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    __pyx_t_3 = <span class='py_api'>PyObject_Length</span>(__pyx_1);<span class='error_goto'> if (unlikely(__pyx_t_3 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
    __pyx_t_2 = <span class='py_api'>PyInt_FromSsize_t</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.cols.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line438")'> 438:     property dtype:</pre>
<pre id='line438' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line439")'> 439:         def __get__(self):</pre>
<pre id='line439' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_5dtype___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_5dtype___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line440")'> 440:             #if self.header:</pre>
<pre id='line440' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line441")'> 441:             if self.source_this:</pre>
<pre id='line441' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line442")'> 442:                 return _SDIF_DATATYPES[self.source_this.CurrMtrxH.DataType]</pre>
<pre id='line442' class='code' style='background-color: #FFFF4f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this->CurrMtrxH->DataType);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_1 = <span class='py_api'>PyObject_GetItem</span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_DATATYPES), __pyx_t_2);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line443")'> 443:             else:</pre>
<pre id='line443' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF44' onclick='toggleDiv("line444")'> 444:                 return self.data.dtype</pre>
<pre id='line444' class='code' style='background-color: #FFFF44'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->data), __pyx_kp_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.dtype.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line445")'> 445:     property signature:</pre>
<pre id='line445' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line446")'> 446:         def __get__(self):</pre>
<pre id='line446' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_9signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_9signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line447")'> 447:             #if self.header:</pre>
<pre id='line447' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line448")'> 448:             if self.source_this:</pre>
<pre id='line448' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line449")'> 449:                 return sig2str(self.source_this.CurrMtrxH.Signature)</pre>
<pre id='line449' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = __pyx_f_6pysdif_7_pysdif_sig2str(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this->CurrMtrxH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line450")'> 450:             else:</pre>
<pre id='line450' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line451")'> 451:                 return sig2str(self._signature)</pre>
<pre id='line451' class='code' style='background-color: #FFFF57'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = __pyx_f_6pysdif_7_pysdif_sig2str(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->_signature);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line452")'> 452:     property numerical_signature:</pre>
<pre id='line452' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line453")'> 453:         def __get__(self):</pre>
<pre id='line453' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_19numerical_signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_19numerical_signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line454")'> 454:             #if self.header:</pre>
<pre id='line454' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line455")'> 455:             if self.source_this:</pre>
<pre id='line455' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line456")'> 456:                 return self.source_this.CurrMtrxH.Signature</pre>
<pre id='line456' class='code' style='background-color: #FFFF8d'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdifSignature</span>(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this->CurrMtrxH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line457")'> 457:             else:</pre>
<pre id='line457' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line458")'> 458:                 return self._signature</pre>
<pre id='line458' class='code' style='background-color: #FFFF52'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdifSignature</span>(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->_signature);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 458; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.numerical_signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line459")'> 459: </pre>
<pre id='line459' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line460")'> 460:     def get_data(self):</pre>
<pre id='line460' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_get_data(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6Matrix_get_data[] = "Matrix.get_data(self)\n\n        read the data from the matrix as a numpy array\n        NB: the data is not copied to the array, the array\n        is only a 'view' of this data and does not own it,\n        so it is only valid until you read a new matrix. \n        If you want to keep the data, do \n        data = matrix.get_data().copy()\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_get_data(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_data");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line461")'> 461:         """</pre>
<pre id='line461' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line462")'> 462:         read the data from the matrix as a numpy array</pre>
<pre id='line462' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line463")'> 463:         NB: the data is not copied to the array, the array</pre>
<pre id='line463' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line464")'> 464:         is only a 'view' of this data and does not own it,</pre>
<pre id='line464' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line465")'> 465:         so it is only valid until you read a new matrix.</pre>
<pre id='line465' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line466")'> 466:         If you want to keep the data, do</pre>
<pre id='line466' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line467")'> 467:         data = matrix.get_data().copy()</pre>
<pre id='line467' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line468")'> 468:         """</pre>
<pre id='line468' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line469")'> 469:         if self.source.matrix_status == eMatrixHeaderRead:</pre>
<pre id='line469' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source->matrix_status == __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line470")'> 470:             self.source.read_matrix_data()</pre>
<pre id='line470' class='code' style='background-color: #FFFFff'>
        ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source->__pyx_vtab)->read_matrix_data(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source);
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line471")'> 471:         return _array_from_matrix_data_no_copy(self.source_this.CurrMtrxData)</pre>
<pre id='line471' class='code' style='background-color: #FFFF57'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_2 = ((PyObject *)__pyx_f_6pysdif_7_pysdif__array_from_matrix_data_no_copy(((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this->CurrMtrxData));<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.get_data");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line472")'> 472:     def copy(self):</pre>
<pre id='line472' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_copy(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6Matrix_copy[] = "Matrix.copy(self)\n\n        create a copy of the current matrix with the data\n        already read and owned (placed in new_matrix.data). \n        This copied matrix does not get invalidated when a \n        new matrix is read\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_copy(PyObject *__pyx_v_self, PyObject *unused) {
  struct __pyx_obj_6pysdif_7_pysdif_Matrix *__pyx_v_new = 0;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("copy");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line473")'> 473:         """</pre>
<pre id='line473' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line474")'> 474:         create a copy of the current matrix with the data</pre>
<pre id='line474' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line475")'> 475:         already read and owned (placed in new_matrix.data).</pre>
<pre id='line475' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line476")'> 476:         This copied matrix does not get invalidated when a</pre>
<pre id='line476' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line477")'> 477:         new matrix is read</pre>
<pre id='line477' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line478")'> 478:         """</pre>
<pre id='line478' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line479")'> 479:         cdef Matrix new = Matrix(None)</pre>
<pre id='line479' class='code' style='background-color: #FFFF43'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_Matrix)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_2, __pyx_ptype_6pysdif_7_pysdif_Matrix)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_v_new = ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF29' onclick='toggleDiv("line480")'> 480:         new.data = self.get_data().copy()</pre>
<pre id='line480' class='code' style='background-color: #FFFF29'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_get_data);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_t_1, __pyx_kp_copy);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_1, __pyx_ptype_5numpy_ndarray)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_new->data);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_new->data));
  __pyx_v_new->data = ((PyArrayObject *)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line481")'> 481:         new._signature = self.source_this.CurrMtrxH.Signature</pre>
<pre id='line481' class='code' style='background-color: #FFFFff'>
    __pyx_v_new->_signature = ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source_this->CurrMtrxH->Signature;
</pre><pre class='line' style='background-color: #FFFF48' onclick='toggleDiv("line482")'> 482:         return new</pre>
<pre id='line482' class='code' style='background-color: #FFFF48'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_new));
  __pyx_r = ((PyObject *)__pyx_v_new);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.copy");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>((PyObject *)__pyx_v_new);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line483")'> 483:     def skip(self):</pre>
<pre id='line483' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_skip(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6Matrix_skip[] = "Matrix.skip(self)\n\n        skip the matrix.\n        if only header was read, tell the Frame to skip the data\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix_skip(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("skip");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line484")'> 484:         """</pre>
<pre id='line484' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line485")'> 485:         skip the matrix.</pre>
<pre id='line485' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line486")'> 486:         if only header was read, tell the Frame to skip the data</pre>
<pre id='line486' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line487")'> 487:         """</pre>
<pre id='line487' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line488")'> 488:         if self.status == eMatrixHeaderRead:</pre>
<pre id='line488' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->status == __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line489")'> 489:             # data has not been read yet</pre>
<pre id='line489' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF35' onclick='toggleDiv("line490")'> 490:             self.source.skip_matrix_data()</pre>
<pre id='line490' class='code' style='background-color: #FFFF35'>
        __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_v_self)->source), __pyx_kp_skip_matrix_data);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.skip");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line491")'> 491:     def __repr__(self):</pre>
<pre id='line491' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6Matrix___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__repr__");
</pre><pre class='line' style='background-color: #FFFF13' onclick='toggleDiv("line492")'> 492:         return "Matrix(sig=%s, rows=%d, cols=%d, dtype=%s)" % (self.signature, self.rows, self.cols, str(self.dtype))</pre>
<pre id='line492' class='code' style='background-color: #FFFF13'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_rows);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_cols);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_dtype);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
  __pyx_t_5 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_5));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)&<span class='py_api'>PyString_Type</span>)), ((PyObject *)__pyx_t_5), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
  __pyx_t_5 = <span class='py_api'>PyTuple_New</span>(4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_5));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 2, __pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 3, __pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_4);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;
  __pyx_t_4 = 0;
  __pyx_t_4 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_76, ((PyObject *)__pyx_t_5));<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
  __pyx_r = __pyx_t_4;
  __pyx_t_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.Matrix.__repr__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line493")'> 493: </pre>
<pre id='line493' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line494")'> 494: </pre>
<pre id='line494' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line495")'> 495: # -----------------------------------------------------------------------------------------------</pre>
<pre id='line495' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line496")'> 496: </pre>
<pre id='line496' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line497")'> 497: cdef class FrameR:</pre>
<pre id='line497' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line498")'> 498:     """</pre>
<pre id='line498' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line499")'> 499:     FrameR is really an iterator class,</pre>
<pre id='line499' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line500")'> 500:     to be able to iterate through matrices. FrameR</pre>
<pre id='line500' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line501")'> 501:     keeps a connection to its source SdifFile but all</pre>
<pre id='line501' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line502")'> 502:     managing and indexing is done by the SdifFile, to</pre>
<pre id='line502' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line503")'> 503:     keep things central. In particular, the matrices</pre>
<pre id='line503' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line504")'> 504:     resulting from calling its 'next()' method (or iterating</pre>
<pre id='line504' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line505")'> 505:     with 'for') have no connection to the FrameR and talk</pre>
<pre id='line505' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line506")'> 506:     directly to the SdifFile, which, eventually, updates</pre>
<pre id='line506' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line507")'> 507:     the FrameR if needed.</pre>
<pre id='line507' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line508")'> 508:     It is only used for reading and, in particular, one</pre>
<pre id='line508' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line509")'> 509:     would never create a FrameR but receive it as result of</pre>
<pre id='line509' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line510")'> 510:     iterating through a SdifFile</pre>
<pre id='line510' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line511")'> 511:     """</pre>
<pre id='line511' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line512")'> 512:     cdef SdifFrameHeaderT *header</pre>
<pre id='line512' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line513")'> 513:     cdef SdifFile source</pre>
<pre id='line513' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line514")'> 514:     cdef SdifFileT *source_this</pre>
<pre id='line514' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line515")'> 515: </pre>
<pre id='line515' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF44' onclick='toggleDiv("line516")'> 516:     def __cinit__(self, SdifFile source):</pre>
<pre id='line516' class='code' style='background-color: #FFFF44'>
static int __pyx_pf_6pysdif_7_pysdif_6FrameR___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_6FrameR___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_source = 0;
  int __pyx_r;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_source,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_source);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "__cinit__") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_source = ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)values[0]);
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_source = ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__cinit__", 1, 1, 1, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_source), __pyx_ptype_6pysdif_7_pysdif_SdifFile, 1, "source", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line517")'> 517:         self.source = source</pre>
<pre id='line517' class='code' style='background-color: #FFFF73'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_source));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_source));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source));
  ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source = __pyx_v_source;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line518")'> 518:         self.source_this = source.this</pre>
<pre id='line518' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this = __pyx_v_source->this;
</pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line519")'> 519:         self.header = source.this.CurrFramH</pre>
<pre id='line519' class='code' style='background-color: #FFFFb6'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->header = __pyx_v_source->this->CurrFramH;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line520")'> 520:     def __dealloc__(self):</pre>
<pre id='line520' class='code' style='background-color: #FFFFd4'>
static void __pyx_pf_6pysdif_7_pysdif_6FrameR___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_pf_6pysdif_7_pysdif_6FrameR___dealloc__(PyObject *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__dealloc__");
</pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line521")'> 521:         self.source = None</pre>
<pre id='line521' class='code' style='background-color: #FFFF6a'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source));
  ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source = ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)Py_None);

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line522")'> 522: </pre>
<pre id='line522' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line523")'> 523:     property signature:</pre>
<pre id='line523' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line524")'> 524:         def __get__(self): #return sig2str(self.header.Signature)</pre>
<pre id='line524' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_9signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_9signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line525")'> 525:             return sig2str(self.source_this.CurrFramH.Signature)</pre>
<pre id='line525' class='code' style='background-color: #FFFF57'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrFramH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 525; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line526")'> 526:     property numerical_signature:</pre>
<pre id='line526' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF4d' onclick='toggleDiv("line527")'> 527:         def __get__(self): return self.source_this.CurrFramH.Signature</pre>
<pre id='line527' class='code' style='background-color: #FFFF4d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_19numerical_signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_19numerical_signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdifSignature</span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrFramH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 527; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.numerical_signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line528")'> 528:     property size:</pre>
<pre id='line528' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line529")'> 529:         def __get__(self): return self.source_this.CurrFramH.Size</pre>
<pre id='line529' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_4size___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_4size___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrFramH->Size);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 529; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.size.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line530")'> 530:     property num_matrices:</pre>
<pre id='line530' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line531")'> 531:         def __get__(self): return self.source_this.CurrFramH.NbMatrix</pre>
<pre id='line531' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_12num_matrices___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_12num_matrices___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrFramH->NbMatrix);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.num_matrices.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line532")'> 532:     def __len__(self):</pre>
<pre id='line532' class='code' style='background-color: #FFFFd4'>
static Py_ssize_t __pyx_pf_6pysdif_7_pysdif_6FrameR___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_pf_6pysdif_7_pysdif_6FrameR___len__(PyObject *__pyx_v_self) {
  Py_ssize_t __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__len__");
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line533")'> 533:         return self.header.NbMatrix</pre>
<pre id='line533' class='code' style='background-color: #FFFFd4'>
    __pyx_r = ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->header->NbMatrix;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line534")'> 534:     property id:</pre>
<pre id='line534' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line535")'> 535:         def __get__(self): return self.source_this.CurrFramH.NumID</pre>
<pre id='line535' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_2id___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_2id___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrFramH->NumID);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.id.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line536")'> 536:     property time:</pre>
<pre id='line536' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line537")'> 537:         def __get__(self): return self.source_this.CurrFramH.Time</pre>
<pre id='line537' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_4time___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_4time___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyFloat_FromDouble</span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrFramH->Time);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.time.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line538")'> 538:     property matrix_idx:</pre>
<pre id='line538' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line539")'> 539:         def __get__(self): return self.source.matrix_idx</pre>
<pre id='line539' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_10matrix_idx___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_10matrix_idx___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix_idx);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.matrix_idx.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line540")'> 540:     def matrix_exists(self, signature):</pre>
<pre id='line540' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_matrix_exists(PyObject *__pyx_v_self, PyObject *__pyx_v_signature); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6FrameR_matrix_exists[] = "FrameR.matrix_exists(self, signature)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_matrix_exists(PyObject *__pyx_v_self, PyObject *__pyx_v_signature) {
  SdifSignature __pyx_v_sig;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("matrix_exists");
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line541")'> 541:         cdef SdifSignature sig = as_signature(signature)</pre>
<pre id='line541' class='code' style='background-color: #FFFF8d'>
    __pyx_v_sig = __pyx_f_6pysdif_7_pysdif_as_signature(__pyx_v_signature);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line542")'> 542:         # TODO</pre>
<pre id='line542' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line543")'> 543:     def __iter__(self):</pre>
<pre id='line543' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__iter__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line544")'> 544:         self.source.frame_status = eFrameSomeDataRead</pre>
<pre id='line544' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameSomeDataRead;
</pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line545")'> 545:         return self</pre>
<pre id='line545' class='code' style='background-color: #FFFF6a'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line546")'> 546:     def __next__(self):</pre>
<pre id='line546' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR___next__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6FrameR___next__[] = "\n        read next matrix and update the index\n        NB: only the header of the matrix will be read, to get the data\n        you must call the method matrix.get_data() on the resulting Matrix\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR___next__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__next__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line547")'> 547:         """</pre>
<pre id='line547' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line548")'> 548:         read next matrix and update the index</pre>
<pre id='line548' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line549")'> 549:         NB: only the header of the matrix will be read, to get the data</pre>
<pre id='line549' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line550")'> 550:         you must call the method matrix.get_data() on the resulting Matrix</pre>
<pre id='line550' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line551")'> 551:         """</pre>
<pre id='line551' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line552")'> 552:         # cdef SdifFile source = self.source</pre>
<pre id='line552' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line553")'> 553:         if self.source.matrix_idx == self.source_this.CurrFramH.NbMatrix:</pre>
<pre id='line553' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix_idx == ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrFramH->NbMatrix);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line554")'> 554:             raise StopIteration</pre>
<pre id='line554' class='code' style='background-color: #FFFFd4'>
        <span class='pyx_api'>__Pyx_Raise</span>(__pyx_builtin_StopIteration, 0, 0);
   <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 554; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line555")'> 555:         if self.source.matrix_status == eMatrixHeaderRead:</pre>
<pre id='line555' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix_status == __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line556")'> 556:             SdifFSkipMatrixData(self.source_this)</pre>
<pre id='line556' class='code' style='background-color: #FFFFff'>
        SdifFSkipMatrixData(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this);
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line557")'> 557:         SdifFReadMatrixHeader(self.source_this)</pre>
<pre id='line557' class='code' style='background-color: #FFFFff'>
    SdifFReadMatrixHeader(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line558")'> 558:         self.source.matrix_idx += 1</pre>
<pre id='line558' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix_idx += 1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line559")'> 559:         self.source.matrix_status = eMatrixHeaderRead</pre>
<pre id='line559' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line560")'> 560:         return self.source.matrix</pre>
<pre id='line560' class='code' style='background-color: #FFFF62'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix));
  __pyx_r = ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.__next__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line561")'> 561:     def get_matrix_data(self):</pre>
<pre id='line561' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_get_matrix_data(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6FrameR_get_matrix_data[] = "FrameR.get_matrix_data(self)\n\n        optimized method for frames which only have one matrix.\n        \n        example:\n        \n        for frame in sdiffile:\n            if frame.signature == \"1TRC\":\n                data = frame.get_matrix_data()  # no need to iterate through matrices in 1TRC files\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameR_get_matrix_data(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_matrix_data");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line562")'> 562:         """</pre>
<pre id='line562' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line563")'> 563:         optimized method for frames which only have one matrix.</pre>
<pre id='line563' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line564")'> 564: </pre>
<pre id='line564' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line565")'> 565:         example:</pre>
<pre id='line565' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line566")'> 566: </pre>
<pre id='line566' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line567")'> 567:         for frame in sdiffile:</pre>
<pre id='line567' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line568")'> 568:             if frame.signature == "1TRC":</pre>
<pre id='line568' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line569")'> 569:                 data = frame.get_matrix_data()  # no need to iterate through matrices in 1TRC files</pre>
<pre id='line569' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line570")'> 570:         """</pre>
<pre id='line570' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line571")'> 571:         SdifFReadMatrixHeader(self.source_this)</pre>
<pre id='line571' class='code' style='background-color: #FFFFff'>
    SdifFReadMatrixHeader(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line572")'> 572:         SdifFReadMatrixData(self.source_this)</pre>
<pre id='line572' class='code' style='background-color: #FFFFff'>
    SdifFReadMatrixData(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line573")'> 573:         self.source.matrix_idx = 1</pre>
<pre id='line573' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix_idx = 1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line574")'> 574:         self.source.matrix_status = eMatrixDataRead</pre>
<pre id='line574' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixDataRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line575")'> 575:         self.source.frame_status = eFrameAllDataRead</pre>
<pre id='line575' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameAllDataRead;
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line576")'> 576:         return _array_from_matrix_data_no_copy(self.source_this.CurrMtrxData)</pre>
<pre id='line576' class='code' style='background-color: #FFFF57'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = ((PyObject *)__pyx_f_6pysdif_7_pysdif__array_from_matrix_data_no_copy(((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_v_self)->source_this->CurrMtrxData));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameR.get_matrix_data");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line577")'> 577: </pre>
<pre id='line577' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line578")'> 578: cdef class FrameW:</pre>
<pre id='line578' class='code' style='background-color: #FFFFe7'>
struct __pyx_obj_6pysdif_7_pysdif_FrameW {
  <span class='py_macro_api'>PyObject_HEAD</span>
  struct __pyx_obj_6pysdif_7_pysdif_SdifFile *sdiffile;
  SdifSignature signature;
  SdifFloat8 time;
  SdifUInt4 streamID;
  PyObject *matrices;
  PyObject *signatures;
  SdifUInt4 frame_size;
  SdifUInt4 num_matrices;
};

</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line579")'> 579:     """</pre>
<pre id='line579' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line580")'> 580:     FrameW : class to write frames to a SdifFile</pre>
<pre id='line580' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line581")'> 581: </pre>
<pre id='line581' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line582")'> 582:     one does not create instances of this class directly but</pre>
<pre id='line582' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line583")'> 583:     you get an instance by calling</pre>
<pre id='line583' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line584")'> 584:     frame_to_write = sdiffile.new_frame(signature, time, streamID)</pre>
<pre id='line584' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line585")'> 585: </pre>
<pre id='line585' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line586")'> 586:     then:</pre>
<pre id='line586' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line587")'> 587:     frame_to_write.add_matrix(signature, numpy_array)</pre>
<pre id='line587' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line588")'> 588: </pre>
<pre id='line588' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line589")'> 589:     and last:</pre>
<pre id='line589' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line590")'> 590:     frame_to_write.write()   # this writes it to the sdiffile</pre>
<pre id='line590' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line591")'> 591:     """</pre>
<pre id='line591' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line592")'> 592:     cdef SdifFile sdiffile</pre>
<pre id='line592' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line593")'> 593:     cdef SdifSignature signature</pre>
<pre id='line593' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line594")'> 594:     cdef SdifFloat8 time</pre>
<pre id='line594' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line595")'> 595:     cdef SdifUInt4 streamID</pre>
<pre id='line595' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line596")'> 596:     cdef list matrices</pre>
<pre id='line596' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line597")'> 597:     cdef list signatures</pre>
<pre id='line597' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line598")'> 598:     cdef SdifUInt4 frame_size</pre>
<pre id='line598' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line599")'> 599:     cdef SdifUInt4 num_matrices</pre>
<pre id='line599' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line600")'> 600:     def __repr__(self):</pre>
<pre id='line600' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameW___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameW___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__repr__");
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line601")'> 601:         return "FrameW(signature=%s, time=%f, streamID=%d)" % (</pre>
<pre id='line601' class='code' style='background-color: #FFFFc4'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line602")'> 602:             sig2str(self.signature),</pre>
<pre id='line602' class='code' style='background-color: #FFFFc4'>
    __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line603")'> 603:             self.time,</pre>
<pre id='line603' class='code' style='background-color: #FFFF8d'>
    __pyx_t_2 = <span class='py_api'>PyFloat_FromDouble</span>(((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->time);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line604")'> 604:             self.streamID)</pre>
<pre id='line604' class='code' style='background-color: #FFFF26'>
    __pyx_t_3 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->streamID);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_77, ((PyObject *)__pyx_t_4));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 601; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameW.__repr__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF37' onclick='toggleDiv("line605")'> 605:     def add_matrix(self, signature, c_numpy.ndarray data_array):</pre>
<pre id='line605' class='code' style='background-color: #FFFF37'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameW_add_matrix(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6FrameW_add_matrix[] = "FrameW.add_matrix(self, signature, ndarray data_array)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameW_add_matrix(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_signature = 0;
  PyArrayObject *__pyx_v_data_array = 0;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_signature,&__pyx_kp_data_array,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("add_matrix");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_signature);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_data_array);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_matrix", 1, 2, 2, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "add_matrix") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_signature = values[0];
    __pyx_v_data_array = ((PyArrayObject *)values[1]);
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_signature = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
    __pyx_v_data_array = ((PyArrayObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1));
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_matrix", 1, 2, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameW.add_matrix");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_data_array), __pyx_ptype_5numpy_ndarray, 1, "data_array", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line606")'> 606:         if data_array.ndim == 1:</pre>
<pre id='line606' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_data_array->nd == 1);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF23' onclick='toggleDiv("line607")'> 607:             data_array.resize((data_array.shape[0], 1))</pre>
<pre id='line607' class='code' style='background-color: #FFFF23'>
        __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(((PyObject *)__pyx_v_data_array), __pyx_kp_resize);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 607; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_3 = <span class='pyx_api'>__Pyx_PyInt_to_py_npy_intp</span>((__pyx_v_data_array->dimensions[0]));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 607; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 607; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_int_1);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_int_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_int_1);
    __pyx_t_3 = 0;
    __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 607; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, ((PyObject *)__pyx_t_4));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_t_4));
    __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 607; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line608")'> 608:         self.signatures.append(signature)</pre>
<pre id='line608' class='code' style='background-color: #FFFFaa'>
    __pyx_t_5 = <span class='py_api'>PyList_Append</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->signatures), __pyx_v_signature);<span class='error_goto'> if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 608; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line609")'> 609:         self.matrices.append(data_array)</pre>
<pre id='line609' class='code' style='background-color: #FFFFaa'>
    __pyx_t_5 = <span class='py_api'>PyList_Append</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->matrices), ((PyObject *)__pyx_v_data_array));<span class='error_goto'> if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 609; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line610")'> 610:         self.num_matrices += 1</pre>
<pre id='line610' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->num_matrices += 1;
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line611")'> 611:         self.frame_size += SdifSizeOfMatrix(</pre>
<pre id='line611' class='code' style='background-color: #FFFF57'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->frame_size += SdifSizeOfMatrix(((SdifDataTypeET)__pyx_f_6pysdif_7_pysdif_dtype_numpy2sdif(__pyx_v_data_array->descr->type_num)), (__pyx_v_data_array->dimensions[0]), (__pyx_v_data_array->dimensions[1]));

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameW.add_matrix");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line612")'> 612:             #&lt;SdifDataTypeET&gt;(dtype_numpy2sdif(data_array.dtype.type_num)),</pre>
<pre id='line612' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line613")'> 613:             #&lt;SdifDataTypeET&gt;(dtype_numpy2sdif(data_array.dtype.num)),</pre>
<pre id='line613' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line614")'> 614:             &lt;SdifDataTypeET&gt;(dtype_numpy2sdif(data_array.descr.type_num)),</pre>
<pre id='line614' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line615")'> 615:             data_array.shape[0], data_array.shape[1]) # rows, cols</pre>
<pre id='line615' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line616")'> 616:     def write(self):</pre>
<pre id='line616' class='code' style='background-color: #FFFFaa'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameW_write(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_6FrameW_write[] = "FrameW.write(self)\n\n        write the current frame to disk. This function is called\n        after add_matrix has been called (if there are any matrices in\n        the current frame). The frame is written all at once. \n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_6FrameW_write(PyObject *__pyx_v_self, PyObject *unused) {
  SdifUInt4 __pyx_v_fsz;
  SdifSignature __pyx_v_matrix_sig;
  int __pyx_v_dtype;
  PyArrayObject *__pyx_v_matrix;
  int __pyx_v_i;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("write");
  __pyx_v_matrix = ((PyArrayObject *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line617")'> 617:         """</pre>
<pre id='line617' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line618")'> 618:         write the current frame to disk. This function is called</pre>
<pre id='line618' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line619")'> 619:         after add_matrix has been called (if there are any matrices in</pre>
<pre id='line619' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line620")'> 620:         the current frame). The frame is written all at once.</pre>
<pre id='line620' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line621")'> 621:         """</pre>
<pre id='line621' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line622")'> 622:         cdef SdifUInt4 fsz</pre>
<pre id='line622' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line623")'> 623:         cdef SdifSignature matrix_sig</pre>
<pre id='line623' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line624")'> 624:         cdef int dtype</pre>
<pre id='line624' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line625")'> 625:         cdef str signature</pre>
<pre id='line625' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line626")'> 626:         cdef c_numpy.ndarray matrix</pre>
<pre id='line626' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line627")'> 627:         cdef int i</pre>
<pre id='line627' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line628")'> 628:         SdifFSetCurrFrameHeader(self.sdiffile.this, self.signature, self.frame_size,</pre>
<pre id='line628' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line629")'> 629:             self.num_matrices, self.streamID, self.time)</pre>
<pre id='line629' class='code' style='background-color: #FFFFff'>
    SdifFSetCurrFrameHeader(((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->sdiffile->this, ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->signature, ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->frame_size, ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->num_matrices, ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->streamID, ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->time);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line630")'> 630:         fsz = SdifFWriteFrameHeader(self.sdiffile.this)</pre>
<pre id='line630' class='code' style='background-color: #FFFFff'>
    __pyx_v_fsz = SdifFWriteFrameHeader(((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->sdiffile->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line631")'> 631:         for i in range(self.num_matrices):</pre>
<pre id='line631' class='code' style='background-color: #FFFFff'>
    for (__pyx_t_1 = 0; __pyx_t_1 < ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->num_matrices; __pyx_t_1+=1) {
    __pyx_v_i = __pyx_t_1;
</pre><pre class='line' style='background-color: #FFFF4d' onclick='toggleDiv("line632")'> 632:             matrix_sig = _str2sig(self.signatures[i])</pre>
<pre id='line632' class='code' style='background-color: #FFFF4d'>
        __pyx_1 = <span class='pyx_api'>__Pyx_GetItemInt_List</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->signatures), __pyx_v_i, sizeof(int), <span class='py_api'>PyInt_FromLong</span>);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 632; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    __pyx_t_2 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_1);<span class='error_goto'> if (unlikely((!__pyx_t_2) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 632; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
    __pyx_v_matrix_sig = __pyx_f_6pysdif_7_pysdif__str2sig(__pyx_t_2);
</pre><pre class='line' style='background-color: #FFFF66' onclick='toggleDiv("line633")'> 633:             matrix = self.matrices[i]</pre>
<pre id='line633' class='code' style='background-color: #FFFF66'>
        __pyx_1 = <span class='pyx_api'>__Pyx_GetItemInt_List</span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->matrices), __pyx_v_i, sizeof(int), <span class='py_api'>PyInt_FromLong</span>);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_1, __pyx_ptype_5numpy_ndarray)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_matrix));
    __pyx_v_matrix = ((PyArrayObject *)__pyx_1);
    __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line634")'> 634:             #dtype = dtype_numpy2sdif(matrix.dtype.num)</pre>
<pre id='line634' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line635")'> 635:             dtype = dtype_numpy2sdif(matrix.descr.type_num)</pre>
<pre id='line635' class='code' style='background-color: #FFFFff'>
        __pyx_v_dtype = __pyx_f_6pysdif_7_pysdif_dtype_numpy2sdif(__pyx_v_matrix->descr->type_num);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line636")'> 636:             fsz += SdifFWriteMatrix(self.sdiffile.this, matrix_sig,</pre>
<pre id='line636' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line637")'> 637:                 &lt;SdifDataTypeET&gt;dtype,</pre>
<pre id='line637' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line638")'> 638:                 matrix.shape[0], matrix.shape[1],   # rows, cols</pre>
<pre id='line638' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line639")'> 639:                 matrix.data)</pre>
<pre id='line639' class='code' style='background-color: #FFFFff'>
        __pyx_v_fsz += SdifFWriteMatrix(((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->sdiffile->this, __pyx_v_matrix_sig, ((SdifDataTypeET)__pyx_v_dtype), (__pyx_v_matrix->dimensions[0]), (__pyx_v_matrix->dimensions[1]), __pyx_v_matrix->data);
  }
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line640")'> 640:         self.sdiffile.write_status = eSdifMatrixData</pre>
<pre id='line640' class='code' style='background-color: #FFFF62'>
    ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_v_self)->sdiffile->write_status = __pyx_e_6pysdif_7_pysdif_eSdifMatrixData;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameW.write");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>((PyObject *)__pyx_v_matrix);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line641")'> 641: </pre>
<pre id='line641' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line642")'> 642: cdef FrameW FrameW_new(SdifFile sdiffile, SdifSignature sig, SdifFloat8 time, SdifUInt4 streamID=0):</pre>
<pre id='line642' class='code' style='background-color: #FFFFd4'>
static  struct __pyx_obj_6pysdif_7_pysdif_FrameW *__pyx_f_6pysdif_7_pysdif_FrameW_new(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_sdiffile, SdifSignature __pyx_v_sig, SdifFloat8 __pyx_v_time, struct __pyx_opt_args_6pysdif_7_pysdif_FrameW_new *__pyx_optional_args) {
  SdifUInt4 __pyx_v_streamID = 0;
  struct __pyx_obj_6pysdif_7_pysdif_FrameW *__pyx_v_f = 0;
  struct __pyx_obj_6pysdif_7_pysdif_FrameW *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("FrameW_new");
  if (__pyx_optional_args) {
    if (__pyx_optional_args->__pyx_n > 0) {
      __pyx_v_streamID = __pyx_optional_args->streamID;
    }
  }

struct __pyx_opt_args_6pysdif_7_pysdif_FrameW_new {
  int __pyx_n;
  SdifUInt4 streamID;
};
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line643")'> 643:     cdef FrameW f = FrameW()</pre>
<pre id='line643' class='code' style='background-color: #FFFF7f'>
    __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_FrameW)), ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 643; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_1, __pyx_ptype_6pysdif_7_pysdif_FrameW)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 643; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_v_f = ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line644")'> 644:     f.sdiffile = sdiffile</pre>
<pre id='line644' class='code' style='background-color: #FFFF73'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_sdiffile));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_sdiffile));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_f->sdiffile);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_f->sdiffile));
  __pyx_v_f->sdiffile = __pyx_v_sdiffile;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line645")'> 645:     f.signature = sig</pre>
<pre id='line645' class='code' style='background-color: #FFFFff'>
    __pyx_v_f->signature = __pyx_v_sig;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line646")'> 646:     f.time = time</pre>
<pre id='line646' class='code' style='background-color: #FFFFff'>
    __pyx_v_f->time = __pyx_v_time;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line647")'> 647:     f.streamID = streamID</pre>
<pre id='line647' class='code' style='background-color: #FFFFff'>
    __pyx_v_f->streamID = __pyx_v_streamID;
</pre><pre class='line' style='background-color: #FFFF5e' onclick='toggleDiv("line648")'> 648:     f.matrices = []</pre>
<pre id='line648' class='code' style='background-color: #FFFF5e'>
    __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 648; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_f->matrices);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_f->matrices));
  __pyx_v_f->matrices = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF5e' onclick='toggleDiv("line649")'> 649:     f.signatures = []</pre>
<pre id='line649' class='code' style='background-color: #FFFF5e'>
    __pyx_t_1 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_f->signatures);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_f->signatures));
  __pyx_v_f->signatures = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line650")'> 650:     f.frame_size = SdifSizeOfFrameHeader()</pre>
<pre id='line650' class='code' style='background-color: #FFFFff'>
    __pyx_v_f->frame_size = SdifSizeOfFrameHeader();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line651")'> 651:     f.num_matrices = 0</pre>
<pre id='line651' class='code' style='background-color: #FFFFff'>
    __pyx_v_f->num_matrices = 0;
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line652")'> 652:     return f</pre>
<pre id='line652' class='code' style='background-color: #FFFF4f'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(((PyObject *)__pyx_r));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_f));
  __pyx_r = __pyx_v_f;
  goto __pyx_L0;

  __pyx_r = ((struct __pyx_obj_6pysdif_7_pysdif_FrameW *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.FrameW_new");
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>((PyObject *)__pyx_v_f);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>((PyObject *)__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line653")'> 653: </pre>
<pre id='line653' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line654")'> 654: </pre>
<pre id='line654' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line655")'> 655: # -----------------------------------------------------------------------------------------------</pre>
<pre id='line655' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line656")'> 656: </pre>
<pre id='line656' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line657")'> 657: cdef class SdifFile:</pre>
<pre id='line657' class='code' style='background-color: #FFFFff'>
struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile {
  void (*init_read)(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *);
  void (*init_containers)(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *);
  void (*init_write)(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *);
  void (*finalize_frame)(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *);
  void (*read_signature)(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *);
  void (*read_matrix_data)(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *);
  void (*reinit)(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *);
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line658")'> 658:     """</pre>
<pre id='line658' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line659")'> 659:     SdifFile(filename, mode="r")</pre>
<pre id='line659' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line660")'> 660: </pre>
<pre id='line660' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line661")'> 661:     mode is "r":read | "w": write | "wr" or "rw":read-write</pre>
<pre id='line661' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line662")'> 662: </pre>
<pre id='line662' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line663")'> 663:     this is the low level interface for reading and writing sdif files</pre>
<pre id='line663' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line664")'> 664:     it mirrors the sdif library quite transparently so that the example files</pre>
<pre id='line664' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line665")'> 665:     and utilities using it can be directly translated with it. in particular</pre>
<pre id='line665' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line666")'> 666:     it does not create any intermediate objects, even the data of the matrices</pre>
<pre id='line666' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line667")'> 667:     is a numpy array mapped to the c array read from disk, so no allocation takes</pre>
<pre id='line667' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line668")'> 668:     place.</pre>
<pre id='line668' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line669")'> 669: </pre>
<pre id='line669' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line670")'> 670:     to read for ex. 1TRC format:</pre>
<pre id='line670' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line671")'> 671: </pre>
<pre id='line671' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line672")'> 672:     sdif_file = SdifFile('filename.sdif')</pre>
<pre id='line672' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line673")'> 673:     sig1TRC = str2signature("1TRC")</pre>
<pre id='line673' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line674")'> 674:     while not sdif_file.eof:</pre>
<pre id='line674' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line675")'> 675:         sdif_file.read_frame_header()</pre>
<pre id='line675' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line676")'> 676:         if sdif_file.frame_numerical_signature) == sig1TRC:</pre>
<pre id='line676' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line677")'> 677:             print sdif_file.time</pre>
<pre id='line677' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line678")'> 678:             for n in range(sdif_file.matrices_in_frame):</pre>
<pre id='line678' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line679")'> 679:                 sdif_file.read_matrix_header()</pre>
<pre id='line679' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line680")'> 680:                 if sdif_file.matrix_numerical_signature == sig1TRC:</pre>
<pre id='line680' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line681")'> 681:                     data = sdif_file.get_matrix_data()</pre>
<pre id='line681' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line682")'> 682:                     # data is now a numpy array but you must copy the data if</pre>
<pre id='line682' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line683")'> 683:                     # you intend to keep it after you have read the matrix.</pre>
<pre id='line683' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line684")'> 684:                     # One you read a new matrix, this data will be no longer valid</pre>
<pre id='line684' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line685")'> 685:                     print data</pre>
<pre id='line685' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line686")'> 686: </pre>
<pre id='line686' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line687")'> 687:     a more natural way:</pre>
<pre id='line687' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line688")'> 688: </pre>
<pre id='line688' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line689")'> 689:     sdif_file = SdifFile('filename.sdif')</pre>
<pre id='line689' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF22' onclick='toggleDiv("line690")'> 690:     for frame in sdif_file:</pre>
<pre id='line690' class='code' style='background-color: #FFFF22'>
static INLINE char *__pyx_f_5numpy__util_dtypestring(<span class='py_api'>PyArray_Descr</span> *__pyx_v_descr, char *__pyx_v_f, char *__pyx_v_end, int *__pyx_v_offset) {
  <span class='py_api'>PyArray_Descr</span> *__pyx_v_child;
  int __pyx_v_endian_detector;
  int __pyx_v_little_endian;
  PyObject *__pyx_v_fields;
  PyObject *__pyx_v_childname;
  PyObject *__pyx_v_new_offset;
  PyObject *__pyx_v_t;
  char *__pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("_util_dtypestring");
  __pyx_v_child = ((<span class='py_api'>PyArray_Descr</span> *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_fields = ((PyObject *)Py_None); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_childname = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_new_offset = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_t = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);

    goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  if (__pyx_m) {
    <span class='pyx_api'>__Pyx_AddTraceback</span>("init pysdif._pysdif");
    <span class='py_macro_api'>Py_DECREF</span>(__pyx_m); __pyx_m = 0;
  } else if (!<span class='py_api'>PyErr_Occurred</span>()) {
    <span class='py_api'>PyErr_SetString</span>(<span class='py_api'>PyExc_ImportError</span>, "init pysdif._pysdif");
  }
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  #if PY_MAJOR_VERSION < 3
  return;
  #else
  return __pyx_m;
  #endif
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line691")'> 691:         if frame.signature == "1TRC":</pre>
<pre id='line691' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line692")'> 692:             print frame.time</pre>
<pre id='line692' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line693")'> 693:             for matrix in frame:</pre>
<pre id='line693' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line694")'> 694:                 if matrix.signature == "1TRC":</pre>
<pre id='line694' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line695")'> 695:                     print matrix.get_data()</pre>
<pre id='line695' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line696")'> 696: </pre>
<pre id='line696' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line697")'> 697:     the frames and the matrices resulting from the iteration</pre>
<pre id='line697' class='code' style='background-color: #FFFFff'>
    __pyx_v_endian_detector = 1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line698")'> 698:     are only guaranteed to be valid as long as no new frames and matrices are read</pre>
<pre id='line698' class='code' style='background-color: #FFFFff'>
    __pyx_v_little_endian = ((((char *)(&__pyx_v_endian_detector))[0]) != 0);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line699")'> 699: </pre>
<pre id='line699' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line700")'> 700:     to write a SdifFile:</pre>
<pre id='line700' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line701")'> 701: </pre>
<pre id='line701' class='code' style='background-color: #FFFF52'>
    if (likely(((PyObject *)__pyx_v_descr->names) != Py_None)) {
    __pyx_t_1 = 0; __pyx_t_2 = ((PyObject *)__pyx_v_descr->names); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
  } else {
    <span class='py_api'>PyErr_SetString</span>(<span class='py_api'>PyExc_TypeError</span>, "'NoneType' object is not iterable");<span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 701; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  }
  for (;;) {
    if (__pyx_t_1 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
    __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_1); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3); __pyx_t_1++;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_childname);
    __pyx_v_childname = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFF44' onclick='toggleDiv("line702")'> 702:     f = SdifFile('new_sdif.sdif', 'w')</pre>
<pre id='line702' class='code' style='background-color: #FFFF44'>
        __pyx_1 = <span class='py_api'>PyObject_GetItem</span>(__pyx_v_descr->fields, __pyx_v_childname);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 702; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    if (!(likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_1)) || (__pyx_1) == Py_None || (<span class='py_api'>PyErr_Format</span>(<span class='py_api'>PyExc_TypeError</span>, "Expected tuple, got %s", <span class='py_macro_api'>Py_TYPE</span>(__pyx_1)->tp_name), 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 702; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_fields));
    __pyx_v_fields = ((PyObject *)__pyx_1);
    __pyx_1 = 0;
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line703")'> 703:     # these are optional</pre>
<pre id='line703' class='code' style='background-color: #FFFF4b'>
        if (likely(((PyObject *)__pyx_v_fields) != Py_None) && likely(<span class='py_macro_api'>PyTuple_GET_SIZE</span>(((PyObject *)__pyx_v_fields)) == 2)) {
      PyObject* tuple = ((PyObject *)__pyx_v_fields);
      __pyx_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(tuple, 0); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_2);
      if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_2, __pyx_ptype_5numpy_dtype)))<span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 703; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      __pyx_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(tuple, 1); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_child));
      __pyx_v_child = ((<span class='py_api'>PyArray_Descr</span> *)__pyx_2);
      __pyx_2 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_new_offset);
      __pyx_v_new_offset = __pyx_3;
      __pyx_3 = 0;
    } else {
      <span class='pyx_api'>__Pyx_UnpackTupleError</span>(((PyObject *)__pyx_v_fields), 2);
     <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 703; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line704")'> 704:     f.add_NVT({</pre>
<pre id='line704' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF23' onclick='toggleDiv("line705")'> 705:         'name' : 'my name',</pre>
<pre id='line705' class='code' style='background-color: #FFFF23'>
        __pyx_t_3 = <span class='py_api'>PyInt_FromLong</span>((__pyx_v_end - __pyx_v_f));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 705; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>((__pyx_v_offset[0]));<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 705; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    __pyx_t_5 = <span class='py_api'>PyNumber_Subtract</span>(__pyx_v_new_offset, __pyx_t_4);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 705; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = <span class='py_api'>PyNumber_Subtract</span>(__pyx_t_3, __pyx_t_5);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 705; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_4, __pyx_int_15, <span class='py_macro_api'>Py_LT</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 705; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_6 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 705; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFF3e' onclick='toggleDiv("line706")'> 706:         'date' : time.asctime(time.localtime())</pre>
<pre id='line706' class='code' style='background-color: #FFFF3e'>
            __pyx_t_5 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 706; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_5));
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_25);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_kp_25);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_25);
      __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_t_5), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 706; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
      <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
     <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 706; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      goto __pyx_L5;
    }
    __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line707")'> 707:     })</pre>
<pre id='line707' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line708")'> 708:     f.add_frame_type('1NEW', '1ABC NewMatrix, 1FQ0 New1FQ0')</pre>
<pre id='line708' class='code' style='background-color: #FFFFff'>
        if ((__pyx_v_child->byteorder == '>')) {
      __pyx_t_6 = __pyx_v_little_endian;
    } else {
      __pyx_t_6 = (__pyx_v_child->byteorder == '>');
    }
    if (!__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line709")'> 709:     f.add_matrix_type('1ABC', 'Column1, Column2')</pre>
<pre id='line709' class='code' style='background-color: #FFFFff'>
            if ((__pyx_v_child->byteorder == '<')) {
        __pyx_t_7 = (!__pyx_v_little_endian);
      } else {
        __pyx_t_7 = (__pyx_v_child->byteorder == '<');
      }
      __pyx_t_8 = __pyx_t_7;
    } else {
      __pyx_t_8 = __pyx_t_6;
    }
    if (__pyx_t_8) {
</pre><pre class='line' style='background-color: #FFFF3e' onclick='toggleDiv("line710")'> 710:     # now you can begin adding frames</pre>
<pre id='line710' class='code' style='background-color: #FFFF3e'>
            __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 710; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_28);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_28);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_28);
      __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_4), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 710; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
      <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_5, 0, 0);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
     <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 710; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      goto __pyx_L6;
    }
    __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line711")'> 711:     frame = f.new_frame('1NEW', time_now)</pre>
<pre id='line711' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line712")'> 712:     frame.add_matrix('1ABC', array([</pre>
<pre id='line712' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line713")'> 713:         [0,     1.2],</pre>
<pre id='line713' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line714")'> 714:         [3.5,   8.13],</pre>
<pre id='line714' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line715")'> 715:         ...</pre>
<pre id='line715' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line716")'> 716:         ]))</pre>
<pre id='line716' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line717")'> 717:     frame.write()</pre>
<pre id='line717' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line718")'> 718: </pre>
<pre id='line718' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line719")'> 719:     # say we just want to take the data from an existing</pre>
<pre id='line719' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line720")'> 720:     # sdiffile, modify it and write it back</pre>
<pre id='line720' class='code' style='background-color: #FFFF43'>
        while (1) {
      __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>((__pyx_v_offset[0]));<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 720; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_5, __pyx_v_new_offset, <span class='py_macro_api'>Py_LT</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 720; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 720; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (!__pyx_t_8) break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line721")'> 721:     in_sdif = SdifFile("existing-file.sdif")</pre>
<pre id='line721' class='code' style='background-color: #FFFFff'>
            (__pyx_v_f[0]) = 120;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line722")'> 722:     out_sdif = SdifFile("outfile.sdif", "w")</pre>
<pre id='line722' class='code' style='background-color: #FFFFff'>
            __pyx_v_f += 1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line723")'> 723:     out_sdif.clone_definitions(in_sdif)</pre>
<pre id='line723' class='code' style='background-color: #FFFFff'>
            (__pyx_v_offset[0]) += 1;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line724")'> 724:     for in_frame in in_sdif:</pre>
<pre id='line724' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line725")'> 725:         if in_frame.signature == "1NEW":</pre>
<pre id='line725' class='code' style='background-color: #FFFFe7'>
        (__pyx_v_offset[0]) += __pyx_v_child->elsize;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line726")'> 726:             new_frame = out_sdif.new_frame("1NEW", in_frame.time)</pre>
<pre id='line726' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line727")'> 727:             in_data = in_frame.get_matrix_data() # we know there is only one matrix</pre>
<pre id='line727' class='code' style='background-color: #FFFFd4'>
        __pyx_t_8 = (!<span class='py_macro_api'>PyDataType_HASFIELDS</span>(__pyx_v_child));
    if (__pyx_t_8) {
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line728")'> 728:             # multiply the second column by 0.5</pre>
<pre id='line728' class='code' style='background-color: #FFFF73'>
            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(__pyx_v_child->type_num);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 728; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_t);
      __pyx_v_t = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line729")'> 729:             in_data[:,1] *= 0.5</pre>
<pre id='line729' class='code' style='background-color: #FFFFe7'>
            __pyx_t_8 = ((__pyx_v_end - __pyx_v_f) < 5);
      if (__pyx_t_8) {
</pre><pre class='line' style='background-color: #FFFF3e' onclick='toggleDiv("line730")'> 730:             new_frame.add_matrix('1ABC', in_data)</pre>
<pre id='line730' class='code' style='background-color: #FFFF3e'>
                __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 730; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_29);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_29);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_29);
        __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_t_4), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 730; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
        <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_5, 0, 0);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
       <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 730; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        goto __pyx_L10;
      }
      __pyx_L10:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line731")'> 731:             new_frame.write()</pre>
<pre id='line731' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line732")'> 732:     """</pre>
<pre id='line732' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line733")'> 733: </pre>
<pre id='line733' class='code' style='background-color: #FFFF43'>
            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_BYTE);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 733; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 733; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 733; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 98;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line734")'> 734:     cdef SdifFileT *this</pre>
<pre id='line734' class='code' style='background-color: #FFFF43'>
            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_UBYTE);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 734; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 734; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 734; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 66;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line735")'> 735:     cdef readonly int eof</pre>
<pre id='line735' class='code' style='background-color: #FFFF43'>
            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_SHORT);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 735; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 735; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 735; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 104;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line736")'> 736:     cdef FrameR frame</pre>
<pre id='line736' class='code' style='background-color: #FFFF43'>
            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_USHORT);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 736; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 736; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 736; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 72;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line737")'> 737:     cdef Matrix matrix</pre>
<pre id='line737' class='code' style='background-color: #FFFF43'>
            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_INT);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 737; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 737; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 737; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 105;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line738")'> 738:     cdef FrameStatusE frame_status</pre>
<pre id='line738' class='code' style='background-color: #FFFF43'>
            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_UINT);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 738; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 73;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line739")'> 739:     cdef size_t matrix_idx</pre>
<pre id='line739' class='code' style='background-color: #FFFF43'>
            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_LONG);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 739; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 739; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 739; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 108;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line740")'> 740:     cdef MatrixStatusE matrix_status</pre>
<pre id='line740' class='code' style='background-color: #FFFF43'>
            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_ULONG);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 740; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 740; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 740; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 76;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line741")'> 741:     cdef SdifStatusE write_status</pre>
<pre id='line741' class='code' style='background-color: #FFFF43'>
            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_LONGLONG);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 741; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 741; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 741; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 113;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line742")'> 742: </pre>
<pre id='line742' class='code' style='background-color: #FFFF43'>
            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_ULONGLONG);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 742; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 742; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 742; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 81;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF21' onclick='toggleDiv("line743")'> 743:     def __cinit__(self, filename, mode="r", predefined_type=None):</pre>
<pre id='line743' class='code' style='background-color: #FFFF21'>
static int __pyx_pf_6pysdif_7_pysdif_8SdifFile___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds);       __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_FLOAT);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 743; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 743; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 743; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 102;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line744")'> 744:         #assert mode in _SDIF_FILEMODE</pre>
<pre id='line744' class='code' style='background-color: #FFFF43'>
            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_DOUBLE);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 100;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF2e' onclick='toggleDiv("line745")'> 745:         if mode == "r":</pre>
<pre id='line745' class='code' style='background-color: #FFFF2e'>
    __pyx_t_1 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_mode, __pyx_kp_78, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 745; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_LONGDOUBLE);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 745; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 745; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 745; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 103;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF19' onclick='toggleDiv("line746")'> 746:             if not os.path.exists(filename):</pre>
<pre id='line746' class='code' style='background-color: #FFFF19'>
        __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_os);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_1, __pyx_kp_path);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_t_1, __pyx_kp_exists);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_filename);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filename);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_filename);
    __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_3, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
    __pyx_t_2 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = (!__pyx_t_2);
    if (__pyx_t_5) {

            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_CFLOAT);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 746; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 90;
        (__pyx_v_f[1]) = 102;
        __pyx_v_f += 1;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF24' onclick='toggleDiv("line747")'> 747:                 raise RuntimeError("path not found, cannot open sdif file for reading")</pre>
<pre id='line747' class='code' style='background-color: #FFFF24'>
            __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_79);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_kp_79);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_79);
      __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_RuntimeError, ((PyObject *)__pyx_t_4), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
      <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
     <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      goto __pyx_L7;
    }
    __pyx_L7:;
    goto __pyx_L6;
  }
  __pyx_L6:;

            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_CDOUBLE);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 747; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 90;
        (__pyx_v_f[1]) = 100;
        __pyx_v_f += 1;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF1e' onclick='toggleDiv("line748")'> 748:         self.this = SdifFOpen(filename, _SDIF_FILEMODE[mode])</pre>
<pre id='line748' class='code' style='background-color: #FFFF1e'>
    __pyx_t_6 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_filename);<span class='error_goto'> if (unlikely((__pyx_t_6 == (const char*)NULL) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_1 = <span class='py_api'>PyObject_GetItem</span>(((PyObject *)__pyx_v_6pysdif_7_pysdif__SDIF_FILEMODE), __pyx_v_mode);<span class='error_goto'> if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  __pyx_t_7 = ((SdifFileModeET)<span class='py_api'>PyInt_AsLong</span>(__pyx_1));<span class='error_goto'> if (unlikely(<span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
  ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this = SdifFOpen(__pyx_t_6, __pyx_t_7);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}

            __pyx_t_4 = <span class='py_api'>PyInt_FromLong</span>(NPY_CLONGDOUBLE);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_5 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_4, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_5);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 748; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 90;
        (__pyx_v_f[1]) = 103;
        __pyx_v_f += 1;
        goto __pyx_L11;
      }
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line749")'> 749: </pre>
<pre id='line749' class='code' style='background-color: #FFFF43'>
            __pyx_t_5 = <span class='py_api'>PyInt_FromLong</span>(NPY_OBJECT);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 749; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_v_t, __pyx_t_5, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 749; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_8 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 749; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_8) {
        (__pyx_v_f[0]) = 79;
        goto __pyx_L11;
      }
      /*else*/ {
</pre><pre class='line' style='background-color: #FFFF34' onclick='toggleDiv("line750")'> 750:     def __init__(self, filename, mode="r", predefined_type=None):</pre>
<pre id='line750' class='code' style='background-color: #FFFF34'>
static int __pyx_pf_6pysdif_7_pysdif_8SdifFile___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_8SdifFile___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_predefined_type = 0;
  int __pyx_r;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_filename,&__pyx_kp_mode,&__pyx_kp_predefined_type,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__init__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[1] = __pyx_kp_62;
    values[2] = Py_None;
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  3: values[2] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_filename);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 1) {
        PyObject* value = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_mode);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_predefined_type);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "__init__") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 750; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_filename = values[0];
    __pyx_v_mode = values[1];
    __pyx_v_predefined_type = values[2];
  } else {
    __pyx_v_mode = __pyx_kp_62;
    __pyx_v_predefined_type = Py_None;
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  3: __pyx_v_predefined_type = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
      case  2: __pyx_v_mode = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: __pyx_v_filename = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("__init__", 0, 1, 3, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 750; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.__init__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
</pre><pre class='line' style='background-color: #FFFF1e' onclick='toggleDiv("line751")'> 751:         if self.mode == eReadFile:</pre>
<pre id='line751' class='code' style='background-color: #FFFF1e'>
    __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_mode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(eReadFile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_t_2, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {

                __pyx_t_4 = <span class='py_api'>PyNumber_Remainder</span>(__pyx_kp_30, __pyx_v_t);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
        __pyx_t_5 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_5));
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_4);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_4);
        __pyx_t_4 = 0;
        __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_5), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
        <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_4, 0, 0);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
       <span class='error_goto'> {__pyx_filename = __pyx_f[1]; __pyx_lineno = 751; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      }
      __pyx_L11:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line752")'> 752:             self.init_read()</pre>
<pre id='line752' class='code' style='background-color: #FFFFff'>
        ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->__pyx_vtab)->init_read(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self));

            __pyx_v_f += 1;
      goto __pyx_L9;
    }
    /*else*/ {
</pre><pre class='line' style='background-color: #FFFF29' onclick='toggleDiv("line753")'> 753:             if not self.get_frame_types() and self.signature in SDIF_NEWTYPES:</pre>
<pre id='line753' class='code' style='background-color: #FFFF29'>
        __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_get_frame_types);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_4 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    if ((!__pyx_t_4)) {
      __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_SDIF_NEWTYPES);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
      __pyx_t_5 = (<span class='py_api'>PySequence_Contains</span>(__pyx_1, __pyx_t_2));<span class='error_goto'> if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 753; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
      __pyx_t_6 = __pyx_t_5;
    } else {
      __pyx_t_6 = (!__pyx_t_4);
    }
    if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFF2e' onclick='toggleDiv("line754")'> 754:                 self.add_predefined_type(self.signature)</pre>
<pre id='line754' class='code' style='background-color: #FFFF2e'>
            __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_add_predefined_type);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_t_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 754; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;
    goto __pyx_L6;
  }
</pre><pre class='line' style='background-color: #FFFF34' onclick='toggleDiv("line755")'> 755:         elif self.mode == eWriteFile:</pre>
<pre id='line755' class='code' style='background-color: #FFFF34'>
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_mode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 755; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(eWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 755; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_3, __pyx_t_1, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 755; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_6 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 755; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line756")'> 756:             self.init_write()</pre>
<pre id='line756' class='code' style='background-color: #FFFFc4'>
        ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->__pyx_vtab)->init_write(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self));

            __pyx_t_9 = __pyx_f_5numpy__util_dtypestring(__pyx_v_child, __pyx_v_f, __pyx_v_end, __pyx_v_offset);<span class='error_goto'> if (unlikely(__pyx_t_9 == NULL)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 756; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      __pyx_v_f = __pyx_t_9;
    }
    __pyx_L9:;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF28' onclick='toggleDiv("line757")'> 757:             if predefined_type is not None and predefined_type in SDIF_NEWTYPES:</pre>
<pre id='line757' class='code' style='background-color: #FFFF28'>
        __pyx_t_6 = (__pyx_v_predefined_type != Py_None);
    if (__pyx_t_6) {
      __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_SDIF_NEWTYPES);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 757; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
      __pyx_t_4 = (<span class='py_api'>PySequence_Contains</span>(__pyx_1, __pyx_v_predefined_type));<span class='error_goto'> if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 757; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
      __pyx_t_5 = __pyx_t_4;
    } else {
      __pyx_t_5 = __pyx_t_6;
    }
    if (__pyx_t_5) {

    __pyx_r = __pyx_v_f;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("numpy._util_dtypestring");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>((PyObject *)__pyx_v_child);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_fields);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_childname);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_new_offset);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_t);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line758")'> 758:                 self.add_predefined_type(predefined_type)</pre>
<pre id='line758' class='code' style='background-color: #FFFF26'>
            __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_add_predefined_type);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_predefined_type);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_predefined_type);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_predefined_type);
      __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;
    goto __pyx_L6;
  }
  __pyx_L6:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line759")'> 759: </pre>
<pre id='line759' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line760")'> 760:     cdef void init_read(self):</pre>
<pre id='line760' class='code' style='background-color: #FFFFd4'>
static  void __pyx_f_6pysdif_7_pysdif_8SdifFile_init_read(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("init_read");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line761")'> 761:         SdifFReadGeneralHeader (self.this)</pre>
<pre id='line761' class='code' style='background-color: #FFFFff'>
    SdifFReadGeneralHeader(__pyx_v_self->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line762")'> 762:         SdifFReadAllASCIIChunks(self.this)</pre>
<pre id='line762' class='code' style='background-color: #FFFFff'>
    SdifFReadAllASCIIChunks(__pyx_v_self->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line763")'> 763:         self.eof = (self.this.CurrSignature == eEof)</pre>
<pre id='line763' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->eof = (__pyx_v_self->this->CurrSignature == eEof);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line764")'> 764:         self.this.TextStream = stdout  # this is needed by the print functions</pre>
<pre id='line764' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->this->TextStream = stdout;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line765")'> 765:         self.init_containers()</pre>
<pre id='line765' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)__pyx_v_self->__pyx_vtab)->init_containers(__pyx_v_self);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line766")'> 766:         self.frame_status = eFrameSignatureRead</pre>
<pre id='line766' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameSignatureRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line767")'> 767:         self.matrix_idx = 0</pre>
<pre id='line767' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->matrix_idx = 0;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line768")'> 768:         self.matrix_status = eMatrixNothingRead</pre>
<pre id='line768' class='code' style='background-color: #FFFFd4'>
    __pyx_v_self->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixNothingRead;

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line769")'> 769: </pre>
<pre id='line769' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line770")'> 770:     cdef void init_containers(self):</pre>
<pre id='line770' class='code' style='background-color: #FFFFd4'>
static  void __pyx_f_6pysdif_7_pysdif_8SdifFile_init_containers(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("init_containers");
</pre><pre class='line' style='background-color: #FFFF36' onclick='toggleDiv("line771")'> 771:         self.frame = FrameR(self)</pre>
<pre id='line771' class='code' style='background-color: #FFFF36'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 771; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_self));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, ((PyObject *)__pyx_v_self));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_self));
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_FrameR)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 771; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_2, __pyx_ptype_6pysdif_7_pysdif_FrameR)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 771; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_self->frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_self->frame));
  __pyx_v_self->frame = ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)__pyx_t_2);
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line772")'> 772:         self.matrix = Matrix(self)</pre>
<pre id='line772' class='code' style='background-color: #FFFF2c'>
    __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 772; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_self));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, ((PyObject *)__pyx_v_self));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_self));
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_Matrix)), ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 772; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  if (!(<span class='pyx_api'>__Pyx_TypeTest</span>(__pyx_t_1, __pyx_ptype_6pysdif_7_pysdif_Matrix)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 772; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_self->matrix);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_self->matrix));
  __pyx_v_self->matrix = ((struct __pyx_obj_6pysdif_7_pysdif_Matrix *)__pyx_t_1);
  __pyx_t_1 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_WriteUnraisable</span>("pysdif._pysdif.SdifFile.init_containers");
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line773")'> 773: </pre>
<pre id='line773' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line774")'> 774:     cdef void init_write(self):</pre>
<pre id='line774' class='code' style='background-color: #FFFFd4'>
static  void __pyx_f_6pysdif_7_pysdif_8SdifFile_init_write(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("init_write");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line775")'> 775:         SdifFWriteGeneralHeader(self.this)</pre>
<pre id='line775' class='code' style='background-color: #FFFFff'>
    SdifFWriteGeneralHeader(__pyx_v_self->this);
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line776")'> 776:         self.write_status = eSdifGeneralHeader</pre>
<pre id='line776' class='code' style='background-color: #FFFFd4'>
    __pyx_v_self->write_status = __pyx_e_6pysdif_7_pysdif_eSdifGeneralHeader;

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line777")'> 777: </pre>
<pre id='line777' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line778")'> 778:     def __dealloc__(self):</pre>
<pre id='line778' class='code' style='background-color: #FFFFd4'>
static void __pyx_pf_6pysdif_7_pysdif_8SdifFile___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_pf_6pysdif_7_pysdif_8SdifFile___dealloc__(PyObject *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__dealloc__");
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line779")'> 779:         self.frame = None</pre>
<pre id='line779' class='code' style='background-color: #FFFF73'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame));
  ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame = ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)Py_None);
</pre><pre class='line' style='background-color: #FFFF3c' onclick='toggleDiv("line780")'> 780:         self.close()  # fails silently if already closed</pre>
<pre id='line780' class='code' style='background-color: #FFFF3c'>
    __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_close);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 780; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.__dealloc__");
  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line781")'> 781: </pre>
<pre id='line781' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line782")'> 782:     def close(self):</pre>
<pre id='line782' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_close(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_close[] = "SdifFile.close(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_close(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("close");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line783")'> 783:         if self.eof == SDIF_CLOSED:</pre>
<pre id='line783' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->eof == __pyx_v_6pysdif_7_pysdif_SDIF_CLOSED);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line784")'> 784:             return</pre>
<pre id='line784' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line785")'> 785:         # make sure we write the global header even if no</pre>
<pre id='line785' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line786")'> 786:         # new frames are written (the global chunks are automatically</pre>
<pre id='line786' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line787")'> 787:         # written when a new frame is added to the sdiffile)</pre>
<pre id='line787' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF34' onclick='toggleDiv("line788")'> 788:         if self.mode == eWriteFile:</pre>
<pre id='line788' class='code' style='background-color: #FFFF34'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_mode);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyInt_FromLong</span>(eWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_2, __pyx_t_3, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_4);<span class='error_goto'> if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line789")'> 789:             if self.write_status == eSdifGeneralHeader:</pre>
<pre id='line789' class='code' style='background-color: #FFFFff'>
        __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->write_status == __pyx_e_6pysdif_7_pysdif_eSdifGeneralHeader);
    if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line790")'> 790:                 self.write_all_ascii_chunks()</pre>
<pre id='line790' class='code' style='background-color: #FFFF4f'>
            __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_32);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 790; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 790; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line791")'> 791:         SdifFClose(self.this)</pre>
<pre id='line791' class='code' style='background-color: #FFFFff'>
    SdifFClose(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line792")'> 792:         self.eof = SDIF_CLOSED</pre>
<pre id='line792' class='code' style='background-color: #FFFF57'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->eof = __pyx_v_6pysdif_7_pysdif_SDIF_CLOSED;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.close");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line793")'> 793: </pre>
<pre id='line793' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line794")'> 794:     property name:</pre>
<pre id='line794' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line795")'> 795:         def __get__(self): return self.this.Name</pre>
<pre id='line795' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_4name___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_4name___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_FromString</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->Name);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.name.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line796")'> 796:     property mode:</pre>
<pre id='line796' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line797")'> 797:         def __get__(self): return self.this.Mode</pre>
<pre id='line797' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_4mode___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_4mode___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->Mode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 797; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.mode.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line798")'> 798:     property is_seekable:</pre>
<pre id='line798' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line799")'> 799:         def __get__(self): return self.this.isSeekable</pre>
<pre id='line799' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_11is_seekable___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_11is_seekable___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->isSeekable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 799; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.is_seekable.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line800")'> 800:     property numerical_signature:</pre>
<pre id='line800' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF4d' onclick='toggleDiv("line801")'> 801:         def __get__(self): return self.this.CurrSignature</pre>
<pre id='line801' class='code' style='background-color: #FFFF4d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_19numerical_signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_19numerical_signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdifSignature</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrSignature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.numerical_signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line802")'> 802:     property signature:</pre>
<pre id='line802' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line803")'> 803:         def __get__(self): return sig2str(self.this.CurrSignature)</pre>
<pre id='line803' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_9signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_9signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrSignature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 803; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line804")'> 804:     property prev_time:</pre>
<pre id='line804' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line805")'> 805:         def __get__(self): return self.this.PrevTime</pre>
<pre id='line805' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_9prev_time___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_9prev_time___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyFloat_FromDouble</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->PrevTime);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 805; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.prev_time.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line806")'> 806:     property frame_pos:</pre>
<pre id='line806' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF4d' onclick='toggleDiv("line807")'> 807:         def __get__(self): return self.this.CurrFramPos</pre>
<pre id='line807' class='code' style='background-color: #FFFF4d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_9frame_pos___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_9frame_pos___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdiffPosT</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramPos);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 807; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.frame_pos.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line808")'> 808:     property matrix_cols:</pre>
<pre id='line808' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line809")'> 809:         def __get__(self): return self.this.CurrMtrxH.NbCol</pre>
<pre id='line809' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_11matrix_cols___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_11matrix_cols___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrMtrxH->NbCol);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 809; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrix_cols.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line810")'> 810:     property matrix_rows:</pre>
<pre id='line810' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line811")'> 811:         def __get__(self): return self.this.CurrMtrxH.NbRow</pre>
<pre id='line811' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_11matrix_rows___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_11matrix_rows___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrMtrxH->NbRow);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 811; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrix_rows.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line812")'> 812:     property matrix_data_type:</pre>
<pre id='line812' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line813")'> 813:         def __get__(self): return self.this.CurrMtrxH.DataType</pre>
<pre id='line813' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_16matrix_data_type___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_16matrix_data_type___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrMtrxH->DataType);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrix_data_type.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line814")'> 814:     property matrices_in_frame:</pre>
<pre id='line814' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line815")'> 815:         def __get__(self): return self.this.CurrFramH.NbMatrix</pre>
<pre id='line815' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_17matrices_in_frame___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_17matrices_in_frame___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->NbMatrix);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 815; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrices_in_frame.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line816")'> 816:     property frame_id:</pre>
<pre id='line816' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line817")'> 817:         def __get__(self): return self.this.CurrFramH.NumID</pre>
<pre id='line817' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_8frame_id___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_8frame_id___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_PyInt_to_py_SdifUInt4(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->NumID);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 817; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.frame_id.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line818")'> 818:     property pos:</pre>
<pre id='line818' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line819")'> 819:         def __get__(self):</pre>
<pre id='line819' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_3pos___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_3pos___get__(PyObject *__pyx_v_self) {
  SdiffPosT __pyx_v_pos;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line820")'> 820:             cdef SdiffPosT pos</pre>
<pre id='line820' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line821")'> 821:             SdifFGetPos(self.this, &amp;pos)</pre>
<pre id='line821' class='code' style='background-color: #FFFFff'>
    SdifFGetPos(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this, (&__pyx_v_pos));
</pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line822")'> 822:             return pos</pre>
<pre id='line822' class='code' style='background-color: #FFFF52'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdiffPosT</span>(__pyx_v_pos);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 822; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.pos.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line823")'> 823:         def __set__(self, long pos): SdifFSetPos(self.this, &amp;pos)</pre>
<pre id='line823' class='code' style='background-color: #FFFF62'>
static int __pyx_pf_6pysdif_7_pysdif_8SdifFile_3pos___set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_pos); /*proto*/
static int __pyx_pf_6pysdif_7_pysdif_8SdifFile_3pos___set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_pos) {
  long __pyx_v_pos;
  int __pyx_r;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__set__");
  assert(__pyx_arg_pos); {
    __pyx_v_pos = __Pyx_<span class='py_api'>PyInt_AsLong</span>(__pyx_arg_pos);<span class='error_goto'> if (unlikely((__pyx_v_pos == (long)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 823; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.pos.__set__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  SdifFSetPos(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this, (&__pyx_v_pos));

  __pyx_r = 0;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line824")'> 824:     property frame_numerical_signature:</pre>
<pre id='line824' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF4d' onclick='toggleDiv("line825")'> 825:         def __get__(self): return self.this.CurrFramH.Signature</pre>
<pre id='line825' class='code' style='background-color: #FFFF4d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_25frame_numerical_signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_25frame_numerical_signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdifSignature</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 825; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.frame_numerical_signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line826")'> 826:     property frame_signature:</pre>
<pre id='line826' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line827")'> 827:         def __get__(self): return sig2str(self.this.CurrFramH.Signature)</pre>
<pre id='line827' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_15frame_signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_15frame_signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 827; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.frame_signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line828")'> 828:     property matrix_numerical_signature:</pre>
<pre id='line828' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF4d' onclick='toggleDiv("line829")'> 829:         def __get__(self): return self.this.CurrMtrxH.Signature</pre>
<pre id='line829' class='code' style='background-color: #FFFF4d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_26matrix_numerical_signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_26matrix_numerical_signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='pyx_api'>__Pyx_PyInt_to_py_SdifSignature</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrMtrxH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 829; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrix_numerical_signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line830")'> 830:     property matrix_signature:</pre>
<pre id='line830' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line831")'> 831:         def __get__(self): return sig2str(self.this.CurrMtrxH.Signature)</pre>
<pre id='line831' class='code' style='background-color: #FFFF52'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_16matrix_signature___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_16matrix_signature___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_sig2str(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrMtrxH->Signature);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 831; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrix_signature.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line832")'> 832:     property time:</pre>
<pre id='line832' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line833")'> 833:         def __get__(self): return self.this.CurrFramH.Time</pre>
<pre id='line833' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_4time___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_4time___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyFloat_FromDouble</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->Time);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 833; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.time.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line834")'> 834:     property last_error:</pre>
<pre id='line834' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line835")'> 835:         def __get__(self):</pre>
<pre id='line835' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_10last_error___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_10last_error___get__(PyObject *__pyx_v_self) {
  SdifErrorT *__pyx_v_error;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line836")'> 836:             cdef SdifErrorT* error = SdifFLastError(self.this)</pre>
<pre id='line836' class='code' style='background-color: #FFFFff'>
    __pyx_v_error = SdifFLastError(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line837")'> 837:             if error == NULL:</pre>
<pre id='line837' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_error == NULL);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line838")'> 838:                 return None</pre>
<pre id='line838' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFF27' onclick='toggleDiv("line839")'> 839:             return (error.Tag, error.Level)</pre>
<pre id='line839' class='code' style='background-color: #FFFF27'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(__pyx_v_error->Tag);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyInt_FromLong</span>(__pyx_v_error->Level);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 839; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;
  __pyx_r = ((PyObject *)__pyx_t_4);
  __pyx_t_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.last_error.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line840")'> 840:     property frame_is_selected:</pre>
<pre id='line840' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line841")'> 841:         def __get__(self): return SdifFCurrFrameIsSelected (self.this)</pre>
<pre id='line841' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_17frame_is_selected___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_17frame_is_selected___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(SdifFCurrFrameIsSelected(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 841; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.frame_is_selected.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line842")'> 842:     property matrix_is_selected:</pre>
<pre id='line842' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF46' onclick='toggleDiv("line843")'> 843:         def __get__(self): return SdifFCurrMatrixIsSelected (self.this)</pre>
<pre id='line843' class='code' style='background-color: #FFFF46'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_18matrix_is_selected___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_18matrix_is_selected___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(SdifFCurrMatrixIsSelected(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 843; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrix_is_selected.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line844")'> 844:     property number_of_NVTs:</pre>
<pre id='line844' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line845")'> 845:         def __get__(self):</pre>
<pre id='line845' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_14number_of_NVTs___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_14number_of_NVTs___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__get__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line846")'> 846:             if SdifNameValuesLIsNotEmpty(self.this.NameValues):</pre>
<pre id='line846' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = SdifNameValuesLIsNotEmpty(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->NameValues);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line847")'> 847:                 return SdifFNameValueNum(self.this)</pre>
<pre id='line847' class='code' style='background-color: #FFFF79'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(SdifFNameValueNum(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this));<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 847; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line848")'> 848:             else:</pre>
<pre id='line848' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line849")'> 849:                 return 0</pre>
<pre id='line849' class='code' style='background-color: #FFFF57'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_int_0);
    __pyx_r = __pyx_int_0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.number_of_NVTs.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line850")'> 850:     def read_frame_header(self):</pre>
<pre id='line850' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_read_frame_header(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_read_frame_header[] = "SdifFile.read_frame_header(self)\n\n        low level interface.\n        read the frame header\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_read_frame_header(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("read_frame_header");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line851")'> 851:         """</pre>
<pre id='line851' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line852")'> 852:         low level interface.</pre>
<pre id='line852' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line853")'> 853:         read the frame header</pre>
<pre id='line853' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line854")'> 854:         """</pre>
<pre id='line854' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line855")'> 855:         self.finalize_frame()</pre>
<pre id='line855' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->__pyx_vtab)->finalize_frame(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line856")'> 856:         if self.eof == 1:</pre>
<pre id='line856' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->eof == 1);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line857")'> 857:             return 0</pre>
<pre id='line857' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_int_0);
    __pyx_r = __pyx_int_0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line858")'> 858:         self.frame_status = eFrameHeaderRead</pre>
<pre id='line858' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameHeaderRead;
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line859")'> 859:         return SdifFReadFrameHeader(self.this)</pre>
<pre id='line859' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_2 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(SdifFReadFrameHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this));<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 859; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.read_frame_header");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line860")'> 860:     def skip_frame_data(self):</pre>
<pre id='line860' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_skip_frame_data(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_skip_frame_data[] = "SdifFile.skip_frame_data(self)\n\n        low level interface.\n        skip the frame with all the matrices it may contain.\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_skip_frame_data(PyObject *__pyx_v_self, PyObject *unused) {
  size_t __pyx_v_bytes_read;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("skip_frame_data");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line861")'> 861:         """</pre>
<pre id='line861' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line862")'> 862:         low level interface.</pre>
<pre id='line862' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line863")'> 863:         skip the frame with all the matrices it may contain.</pre>
<pre id='line863' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line864")'> 864:         """</pre>
<pre id='line864' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line865")'> 865:         assert self.frame_status == eFrameHeaderRead</pre>
<pre id='line865' class='code' style='background-color: #FFFF7f'>
    #ifndef PYREX_WITHOUT_ASSERTIONS
  if (unlikely(!(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status == __pyx_e_6pysdif_7_pysdif_eFrameHeaderRead))) {
    <span class='py_api'>PyErr_SetNone</span>(<span class='py_api'>PyExc_AssertionError</span>);
   <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 865; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  }
  #endif
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line866")'> 866:         self.frame_status = eFrameAllDataRead</pre>
<pre id='line866' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameAllDataRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line867")'> 867:         cdef size_t bytes_read = SdifFSkipFrameData (self.this)</pre>
<pre id='line867' class='code' style='background-color: #FFFFff'>
    __pyx_v_bytes_read = SdifFSkipFrameData(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line868")'> 868:         self.finalize_frame()</pre>
<pre id='line868' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->__pyx_vtab)->finalize_frame(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self));
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line869")'> 869:         return bytes_read</pre>
<pre id='line869' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(__pyx_v_bytes_read);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 869; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.skip_frame_data");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line870")'> 870: </pre>
<pre id='line870' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line871")'> 871:     cdef inline void finalize_frame(self):</pre>
<pre id='line871' class='code' style='background-color: #FFFFd4'>
static INLINE void __pyx_f_6pysdif_7_pysdif_8SdifFile_finalize_frame(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_self) {
  int __pyx_v_i;
  size_t __pyx_v_bytes_read;
  int __pyx_v_status;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("finalize_frame");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line872")'> 872:         # here we must make sure that we have read</pre>
<pre id='line872' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line873")'> 873:         # the whole data before we try to</pre>
<pre id='line873' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line874")'> 874:         # read the signature (or eof) of the next frame</pre>
<pre id='line874' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line875")'> 875:         cdef int i</pre>
<pre id='line875' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line876")'> 876:         cdef size_t bytes_read</pre>
<pre id='line876' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line877")'> 877:         cdef int status = self.frame_status</pre>
<pre id='line877' class='code' style='background-color: #FFFFff'>
    __pyx_v_status = __pyx_v_self->frame_status;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line878")'> 878:         if status == eFrameSignatureRead:</pre>
<pre id='line878' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_status == __pyx_e_6pysdif_7_pysdif_eFrameSignatureRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line879")'> 879:             return</pre>
<pre id='line879' class='code' style='background-color: #FFFFff'>
        goto __pyx_L0;
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line880")'> 880:         elif status == eFrameHeaderRead:</pre>
<pre id='line880' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_status == __pyx_e_6pysdif_7_pysdif_eFrameHeaderRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line881")'> 881:             SdifFSkipFrameData(self.this)</pre>
<pre id='line881' class='code' style='background-color: #FFFFff'>
        SdifFSkipFrameData(__pyx_v_self->this);
    goto __pyx_L3;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line882")'> 882:         elif status == eFrameSomeDataRead:</pre>
<pre id='line882' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_status == __pyx_e_6pysdif_7_pysdif_eFrameSomeDataRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line883")'> 883:             if self.matrix_status &lt; eMatrixDataRead:</pre>
<pre id='line883' class='code' style='background-color: #FFFFff'>
        __pyx_t_1 = (__pyx_v_self->matrix_status < __pyx_e_6pysdif_7_pysdif_eMatrixDataRead);
    if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line884")'> 884:                 SdifFSkipMatrixData(self.this)</pre>
<pre id='line884' class='code' style='background-color: #FFFFff'>
            SdifFSkipMatrixData(__pyx_v_self->this);
      goto __pyx_L4;
    }
    __pyx_L4:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line885")'> 885:             for i in range(self.matrix_idx, self.this.CurrFramH.NbMatrix):</pre>
<pre id='line885' class='code' style='background-color: #FFFFff'>
        for (__pyx_t_2 = __pyx_v_self->matrix_idx; __pyx_t_2 < __pyx_v_self->this->CurrFramH->NbMatrix; __pyx_t_2+=1) {
      __pyx_v_i = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line886")'> 886:                 SdifFSkipMatrix(self.this)</pre>
<pre id='line886' class='code' style='background-color: #FFFFff'>
            SdifFSkipMatrix(__pyx_v_self->this);
    }
    goto __pyx_L3;
  }
  __pyx_L3:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line887")'> 887:         self.matrix_idx = 0</pre>
<pre id='line887' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->matrix_idx = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line888")'> 888:         self.matrix_status = eMatrixNothingRead</pre>
<pre id='line888' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixNothingRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line889")'> 889:         self.frame_status = eFrameNothingRead</pre>
<pre id='line889' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameNothingRead;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line890")'> 890:         self.eof = SdifFGetSignature(self.this, &amp;bytes_read) == eEof</pre>
<pre id='line890' class='code' style='background-color: #FFFFd4'>
    __pyx_v_self->eof = (SdifFGetSignature(__pyx_v_self->this, (&__pyx_v_bytes_read)) == eEof);

  __pyx_L0:;
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line891")'> 891: </pre>
<pre id='line891' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line892")'> 892:     cdef inline void read_signature(self):</pre>
<pre id='line892' class='code' style='background-color: #FFFFd4'>
static INLINE void __pyx_f_6pysdif_7_pysdif_8SdifFile_read_signature(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_self) {
  size_t __pyx_v_NbCharRead;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("read_signature");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line893")'> 893:         cdef size_t NbCharRead</pre>
<pre id='line893' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line894")'> 894:         self.eof = SdifFGetSignature(self.this, &amp;NbCharRead) == eEof</pre>
<pre id='line894' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->eof = (SdifFGetSignature(__pyx_v_self->this, (&__pyx_v_NbCharRead)) == eEof);
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line895")'> 895:         self.frame_status = eFrameSignatureRead</pre>
<pre id='line895' class='code' style='background-color: #FFFFd4'>
    __pyx_v_self->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameSignatureRead;

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line896")'> 896: </pre>
<pre id='line896' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line897")'> 897:     def read_matrix_header(self):</pre>
<pre id='line897' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_read_matrix_header(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_read_matrix_header[] = "SdifFile.read_matrix_header(self)\n\n        low level interface.\n        read the matrix header (signature, number of rows and columns, etc.)\n        return the number of bytes read or 0 if no more matrices\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_read_matrix_header(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("read_matrix_header");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line898")'> 898:         """</pre>
<pre id='line898' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line899")'> 899:         low level interface.</pre>
<pre id='line899' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line900")'> 900:         read the matrix header (signature, number of rows and columns, etc.)</pre>
<pre id='line900' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line901")'> 901:         return the number of bytes read or 0 if no more matrices</pre>
<pre id='line901' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line902")'> 902:         """</pre>
<pre id='line902' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line903")'> 903:         if self.matrix_idx == self.this.CurrFramH.NbMatrix:</pre>
<pre id='line903' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx == ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->NbMatrix);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line904")'> 904:             return 0</pre>
<pre id='line904' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_int_0);
    __pyx_r = __pyx_int_0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line905")'> 905:         self.frame_status = eFrameSomeDataRead</pre>
<pre id='line905' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameSomeDataRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line906")'> 906:         self.matrix_status = eMatrixHeaderRead</pre>
<pre id='line906' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line907")'> 907:         self.matrix_idx += 1</pre>
<pre id='line907' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx += 1;
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line908")'> 908:         return SdifFReadMatrixHeader(self.this)</pre>
<pre id='line908' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_2 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(SdifFReadMatrixHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this));<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.read_matrix_header");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line909")'> 909: </pre>
<pre id='line909' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line910")'> 910:     cdef inline void read_matrix_data(self):</pre>
<pre id='line910' class='code' style='background-color: #FFFFd4'>
static INLINE void __pyx_f_6pysdif_7_pysdif_8SdifFile_read_matrix_data(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("read_matrix_data");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line911")'> 911:         self.matrix_status = eMatrixDataRead</pre>
<pre id='line911' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixDataRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line912")'> 912:         SdifFReadMatrixData(self.this)</pre>
<pre id='line912' class='code' style='background-color: #FFFFff'>
    SdifFReadMatrixData(__pyx_v_self->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line913")'> 913:         if self.matrix_idx == self.this.CurrFramH.NbMatrix:</pre>
<pre id='line913' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_self->matrix_idx == __pyx_v_self->this->CurrFramH->NbMatrix);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line914")'> 914:             self.frame_status = eFrameAllDataRead</pre>
<pre id='line914' class='code' style='background-color: #FFFFd4'>
        __pyx_v_self->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameAllDataRead;
    goto __pyx_L3;
  }
  __pyx_L3:;

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line915")'> 915: </pre>
<pre id='line915' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line916")'> 916:     def skip_matrix_data(self):</pre>
<pre id='line916' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_skip_matrix_data(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_skip_matrix_data[] = "SdifFile.skip_matrix_data(self)\n\n        low level interface.\n        skip the matrix data without reading it.\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_skip_matrix_data(PyObject *__pyx_v_self, PyObject *unused) {
  size_t __pyx_v_bytes_read;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("skip_matrix_data");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line917")'> 917:         """</pre>
<pre id='line917' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line918")'> 918:         low level interface.</pre>
<pre id='line918' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line919")'> 919:         skip the matrix data without reading it.</pre>
<pre id='line919' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line920")'> 920:         """</pre>
<pre id='line920' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line921")'> 921:         self.matrix_status = eMatrixDataSkipped</pre>
<pre id='line921' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixDataSkipped;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line922")'> 922:         cdef size_t bytes_read = SdifFSkipMatrixData(self.this)</pre>
<pre id='line922' class='code' style='background-color: #FFFFff'>
    __pyx_v_bytes_read = SdifFSkipMatrixData(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line923")'> 923:         if self.matrix_idx == self.this.CurrFramH.NbMatrix:</pre>
<pre id='line923' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx == ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->NbMatrix);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line924")'> 924:             self.frame_status = eFrameAllDataRead</pre>
<pre id='line924' class='code' style='background-color: #FFFFff'>
        ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameAllDataRead;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line925")'> 925:         return bytes_read</pre>
<pre id='line925' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_2 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(__pyx_v_bytes_read);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 925; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.skip_matrix_data");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line926")'> 926: </pre>
<pre id='line926' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line927")'> 927:     def get_matrix_data(self):</pre>
<pre id='line927' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_matrix_data(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_get_matrix_data[] = "SdifFile.get_matrix_data(self)\n\n        read the data of the current matrix as a numpy array\n        if the matrix-header was not read, it is read\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_matrix_data(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_matrix_data");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line928")'> 928:         """</pre>
<pre id='line928' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line929")'> 929:         read the data of the current matrix as a numpy array</pre>
<pre id='line929' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line930")'> 930:         if the matrix-header was not read, it is read</pre>
<pre id='line930' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line931")'> 931:         """</pre>
<pre id='line931' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line932")'> 932:         if self.matrix_status == eMatrixNothingRead:</pre>
<pre id='line932' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_status == __pyx_e_6pysdif_7_pysdif_eMatrixNothingRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line933")'> 933:             self.read_matrix_header()</pre>
<pre id='line933' class='code' style='background-color: #FFFF4f'>
        __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_read_matrix_header);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line934")'> 934:         self.read_matrix_data()</pre>
<pre id='line934' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->__pyx_vtab)->read_matrix_data(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self));
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line935")'> 935:         return _array_from_matrix_data_no_copy(self.this.CurrMtrxData)</pre>
<pre id='line935' class='code' style='background-color: #FFFF4f'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_3 = ((PyObject *)__pyx_f_6pysdif_7_pysdif__array_from_matrix_data_no_copy(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrMtrxData));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 935; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.get_matrix_data");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line936")'> 936: </pre>
<pre id='line936' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line937")'> 937:     def skip_matrix(self):</pre>
<pre id='line937' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_skip_matrix(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_skip_matrix[] = "SdifFile.skip_matrix(self)\n\n        skip the matrix altogether. this is a low-level function\n        only used when reading the data manually.\n        If you are iterating with \n        for frame in sdiffile:\n            for matrix in frame:\n                ... etc ...\n                \n        then it is not necessary to take care of this because the\n        SdifFile makes its own book-keeping and knows if something\n        needs to be skipped or not\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_skip_matrix(PyObject *__pyx_v_self, PyObject *unused) {
  size_t __pyx_v_bytes_read;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("skip_matrix");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line938")'> 938:         """</pre>
<pre id='line938' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line939")'> 939:         skip the matrix altogether. this is a low-level function</pre>
<pre id='line939' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line940")'> 940:         only used when reading the data manually.</pre>
<pre id='line940' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line941")'> 941:         If you are iterating with</pre>
<pre id='line941' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line942")'> 942:         for frame in sdiffile:</pre>
<pre id='line942' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line943")'> 943:             for matrix in frame:</pre>
<pre id='line943' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line944")'> 944:                 ... etc ...</pre>
<pre id='line944' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line945")'> 945: </pre>
<pre id='line945' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line946")'> 946:         then it is not necessary to take care of this because the</pre>
<pre id='line946' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line947")'> 947:         SdifFile makes its own book-keeping and knows if something</pre>
<pre id='line947' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line948")'> 948:         needs to be skipped or not</pre>
<pre id='line948' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line949")'> 949:         """</pre>
<pre id='line949' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line950")'> 950:         cdef size_t bytes_read = SdifFSkipMatrix(self.this)</pre>
<pre id='line950' class='code' style='background-color: #FFFFff'>
    __pyx_v_bytes_read = SdifFSkipMatrix(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line951")'> 951:         self.matrix_idx += 1</pre>
<pre id='line951' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx += 1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line952")'> 952:         if self.matrix_idx == self.this.CurrFramH.NbMatrix:</pre>
<pre id='line952' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx == ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->NbMatrix);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line953")'> 953:             self.frame_status = eFrameAllDataRead</pre>
<pre id='line953' class='code' style='background-color: #FFFFff'>
        ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameAllDataRead;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line954")'> 954:         return bytes_read</pre>
<pre id='line954' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_2 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(__pyx_v_bytes_read);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.skip_matrix");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line955")'> 955: </pre>
<pre id='line955' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line956")'> 956:     def status(self):</pre>
<pre id='line956' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_status(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_status[] = "SdifFile.status(self)\n\n        return (current-frame-status, current-matrix-index, current-matrix-status)\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_status(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("status");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line957")'> 957:         """</pre>
<pre id='line957' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line958")'> 958:         return (current-frame-status, current-matrix-index, current-matrix-status)</pre>
<pre id='line958' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line959")'> 959:         """</pre>
<pre id='line959' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF20' onclick='toggleDiv("line960")'> 960:         return self.frame_status, self.matrix_idx, self.matrix_status</pre>
<pre id='line960' class='code' style='background-color: #FFFF20'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = <span class='py_api'>PyInt_FromLong</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyInt_FromLong</span>(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_status);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(3);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 2, __pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_3 = 0;
  __pyx_r = ((PyObject *)__pyx_t_4);
  __pyx_t_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.status");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line961")'> 961: </pre>
<pre id='line961' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line962")'> 962:     def __iter__(self):</pre>
<pre id='line962' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__iter__");
</pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line963")'> 963:         return self</pre>
<pre id='line963' class='code' style='background-color: #FFFF6a'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line964")'> 964:     def __next__(self):</pre>
<pre id='line964' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile___next__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile___next__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("__next__");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line965")'> 965:         self.finalize_frame()</pre>
<pre id='line965' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->__pyx_vtab)->finalize_frame(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line966")'> 966:         if self.eof == 1:</pre>
<pre id='line966' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->eof == 1);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line967")'> 967:             raise StopIteration</pre>
<pre id='line967' class='code' style='background-color: #FFFFd4'>
        <span class='pyx_api'>__Pyx_Raise</span>(__pyx_builtin_StopIteration, 0, 0);
   <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 967; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line968")'> 968:         self.frame_status = eFrameHeaderRead</pre>
<pre id='line968' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameHeaderRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line969")'> 969:         SdifFReadFrameHeader(self.this)</pre>
<pre id='line969' class='code' style='background-color: #FFFFff'>
    SdifFReadFrameHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line970")'> 970:         return self.frame</pre>
<pre id='line970' class='code' style='background-color: #FFFF62'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame));
  __pyx_r = ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->frame);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.__next__");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line971")'> 971: </pre>
<pre id='line971' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line972")'> 972:     def get_next_matrix(self):</pre>
<pre id='line972' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_next_matrix(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_get_next_matrix[] = "SdifFile.get_next_matrix(self)\n\n        read the next matrix header and return a matrix with its\n        data still not read. in particular, if the previous matrix\n        was not read fully, its data is skipped\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_next_matrix(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_next_matrix");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line973")'> 973:         """</pre>
<pre id='line973' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line974")'> 974:         read the next matrix header and return a matrix with its</pre>
<pre id='line974' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line975")'> 975:         data still not read. in particular, if the previous matrix</pre>
<pre id='line975' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line976")'> 976:         was not read fully, its data is skipped</pre>
<pre id='line976' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line977")'> 977:         """</pre>
<pre id='line977' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line978")'> 978:         if self.matrix_idx == self.this.CurrFramH.NbMatrix:</pre>
<pre id='line978' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx == ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->CurrFramH->NbMatrix);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line979")'> 979:             return None</pre>
<pre id='line979' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line980")'> 980:         if self.matrix_status == eMatrixHeaderRead:</pre>
<pre id='line980' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_status == __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line981")'> 981:             SdifFSkipMatrixData(self.this)</pre>
<pre id='line981' class='code' style='background-color: #FFFFff'>
        SdifFSkipMatrixData(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line982")'> 982:         SdifFReadMatrixHeader(self.this)</pre>
<pre id='line982' class='code' style='background-color: #FFFFff'>
    SdifFReadMatrixHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line983")'> 983:         self.matrix_idx += 1</pre>
<pre id='line983' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_idx += 1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line984")'> 984:         self.matrix_status = eMatrixHeaderRead</pre>
<pre id='line984' class='code' style='background-color: #FFFFff'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixHeaderRead;
</pre><pre class='line' style='background-color: #FFFF6a' onclick='toggleDiv("line985")'> 985:         return self.matrix</pre>
<pre id='line985' class='code' style='background-color: #FFFF6a'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix));
  __pyx_r = ((PyObject *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->matrix);
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line986")'> 986: </pre>
<pre id='line986' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line987")'> 987:     def rewind(self):</pre>
<pre id='line987' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_rewind(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_rewind[] = "SdifFile.rewind(self)\n\n        rewind the SdifFile. after this function is called, the file\n        is in its starting frame (as if the file had been just open)\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_rewind(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("rewind");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line988")'> 988:         """</pre>
<pre id='line988' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line989")'> 989:         rewind the SdifFile. after this function is called, the file</pre>
<pre id='line989' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line990")'> 990:         is in its starting frame (as if the file had been just open)</pre>
<pre id='line990' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line991")'> 991:         """</pre>
<pre id='line991' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line992")'> 992:         SdifFRewind(self.this)</pre>
<pre id='line992' class='code' style='background-color: #FFFFff'>
    SdifFRewind(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line993")'> 993:         self.reinit()</pre>
<pre id='line993' class='code' style='background-color: #FFFF8d'>
    ((struct __pyx_vtabstruct_6pysdif_7_pysdif_SdifFile *)((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->__pyx_vtab)->reinit(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self));

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line994")'> 994: </pre>
<pre id='line994' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line995")'> 995:     cdef void reinit(self):</pre>
<pre id='line995' class='code' style='background-color: #FFFFd4'>
static  void __pyx_f_6pysdif_7_pysdif_8SdifFile_reinit(struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_self) {
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("reinit");
</pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line996")'> 996:         self.frame = None</pre>
<pre id='line996' class='code' style='background-color: #FFFF73'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_v_self->frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_v_self->frame));
  __pyx_v_self->frame = ((struct __pyx_obj_6pysdif_7_pysdif_FrameR *)Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line997")'> 997:         self.matrix_idx = 0</pre>
<pre id='line997' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->matrix_idx = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line998")'> 998:         self.matrix_status = eMatrixNothingRead</pre>
<pre id='line998' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->matrix_status = __pyx_e_6pysdif_7_pysdif_eMatrixNothingRead;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line999")'> 999:         SdifFReadGeneralHeader(self.this)</pre>
<pre id='line999' class='code' style='background-color: #FFFFff'>
    SdifFReadGeneralHeader(__pyx_v_self->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1000")'> 1000:         SdifFReadAllASCIIChunks(self.this)</pre>
<pre id='line1000' class='code' style='background-color: #FFFFff'>
    SdifFReadAllASCIIChunks(__pyx_v_self->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1001")'> 1001:         #self.read_general_header()</pre>
<pre id='line1001' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1002")'> 1002:         #self.read_all_ascii_chunks()</pre>
<pre id='line1002' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1003")'> 1003:         self.eof = (self.this.CurrSignature == eEof)</pre>
<pre id='line1003' class='code' style='background-color: #FFFFff'>
    __pyx_v_self->eof = (__pyx_v_self->this->CurrSignature == eEof);
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line1004")'> 1004:         self.frame_status = eFrameSignatureRead</pre>
<pre id='line1004' class='code' style='background-color: #FFFFd4'>
    __pyx_v_self->frame_status = __pyx_e_6pysdif_7_pysdif_eFrameSignatureRead;

  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1005")'> 1005: </pre>
<pre id='line1005' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line1006")'> 1006:     def _read_padding(self):</pre>
<pre id='line1006' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile__read_padding(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile__read_padding[] = "SdifFile._read_padding(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile__read_padding(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("_read_padding");
</pre><pre class='line' style='background-color: #FFFF4b' onclick='toggleDiv("line1007")'> 1007:         return SdifFReadPadding(self.this, SdifFPaddingCalculate(self.this.Stream, self.this.Pos))</pre>
<pre id='line1007' class='code' style='background-color: #FFFF4b'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __Pyx_<span class='py_api'>PyInt_FromSize_t</span>(SdifFReadPadding(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this, SdifFPaddingCalculate(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->Stream, ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->Pos)));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile._read_padding");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1008")'> 1008: </pre>
<pre id='line1008' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1009")'> 1009:     # .......................................................................</pre>
<pre id='line1009' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1010")'> 1010:     # WRITING</pre>
<pre id='line1010' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1011")'> 1011:     #</pre>
<pre id='line1011' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF66' onclick='toggleDiv("line1012")'> 1012:     def add_NVT(self, dict d):</pre>
<pre id='line1012' class='code' style='background-color: #FFFF66'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_NVT(PyObject *__pyx_v_self, PyObject *__pyx_v_d); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_add_NVT[] = "SdifFile.add_NVT(self, dict d)\n\n        the NVT is a place to put metadata about the file\n        it is a hash table: pairs of the sort (name: value)\n        \n        d is a python dictionary which is translated to a NVT\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_NVT(PyObject *__pyx_v_self, PyObject *__pyx_v_d) {
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_value;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("add_NVT");
  __pyx_v_name = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_value = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_d), &<span class='py_api'>PyDict_Type</span>, 1, "d", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1012; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1013")'> 1013:         """</pre>
<pre id='line1013' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1014")'> 1014:         the NVT is a place to put metadata about the file</pre>
<pre id='line1014' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1015")'> 1015:         it is a hash table: pairs of the sort (name: value)</pre>
<pre id='line1015' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1016")'> 1016: </pre>
<pre id='line1016' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1017")'> 1017:         d is a python dictionary which is translated to a NVT</pre>
<pre id='line1017' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1018")'> 1018:         """</pre>
<pre id='line1018' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1019")'> 1019:         SdifNameValuesLNewTable(self.this.NameValues, _SdifNVTStreamID)</pre>
<pre id='line1019' class='code' style='background-color: #FFFFff'>
    SdifNameValuesLNewTable(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->NameValues, 4294967293LL);
</pre><pre class='line' style='background-color: #FFFF4d' onclick='toggleDiv("line1020")'> 1020:         for name, value in d.iteritems():</pre>
<pre id='line1020' class='code' style='background-color: #FFFF4d'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_d));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  __pyx_t_1 = ((PyObject *)__pyx_v_d);
  __pyx_t_2 = 0;
  while (1) {
    if (!<span class='py_api'>PyDict_Next</span>(__pyx_t_1, (&__pyx_t_2), ((PyObject **)(&__pyx_t_3)), ((PyObject **)(&__pyx_t_4)))) break;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_t_3));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_name);
    __pyx_v_name = ((PyObject *)__pyx_t_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_t_4));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_value);
    __pyx_v_value = ((PyObject *)__pyx_t_4);
</pre><pre class='line' style='background-color: #FFFF39' onclick='toggleDiv("line1021")'> 1021:             value = str(value)</pre>
<pre id='line1021' class='code' style='background-color: #FFFF39'>
        __pyx_t_5 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1021; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_5));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_value);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_v_value);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_value);
    __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)&<span class='py_api'>PyString_Type</span>)), ((PyObject *)__pyx_t_5), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1021; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_value);
    __pyx_v_value = __pyx_t_6;
    __pyx_t_6 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1022")'> 1022:             SdifNameValuesLPutCurrNVT(self.this.NameValues, name, value)</pre>
<pre id='line1022' class='code' style='background-color: #FFFF26'>
        __pyx_t_7 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_name);<span class='error_goto'> if (unlikely((__pyx_t_7 == (const char*)NULL) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1022; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    __pyx_t_8 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_value);<span class='error_goto'> if (unlikely((__pyx_t_8 == (const char*)NULL) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1022; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    SdifNameValuesLPutCurrNVT(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->NameValues, __pyx_t_7, __pyx_t_8);
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_NVT");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_name);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_value);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1023")'> 1023: </pre>
<pre id='line1023' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF2f' onclick='toggleDiv("line1024")'> 1024:     def add_matrix_type(self, str signature, column_names):</pre>
<pre id='line1024' class='code' style='background-color: #FFFF2f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_matrix_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_add_matrix_type[] = "SdifFile.add_matrix_type(self, str signature, column_names)\n\n        sdiff.add_matrix_type(\"1ABC\", \"Column1, Column2\")\n        or\n        sdiff.add_matrix_type(\"1ABC\", [\"Column1\", \"Column2\"])\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_matrix_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_signature = 0;
  PyObject *__pyx_v_column_names = 0;
  SdifMatrixTypeT *__pyx_v_mt;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_signature,&__pyx_kp_column_names,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("add_matrix_type");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_signature);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_column_names);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_matrix_type", 1, 2, 2, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1024; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "add_matrix_type") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1024; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_signature = ((PyObject *)values[0]);
    __pyx_v_column_names = values[1];
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_signature = ((PyObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));
    __pyx_v_column_names = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_matrix_type", 1, 2, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1024; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_matrix_type");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_column_names);
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_signature), &<span class='py_api'>PyString_Type</span>, 1, "signature", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1024; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1025")'> 1025:         """</pre>
<pre id='line1025' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1026")'> 1026:         sdiff.add_matrix_type("1ABC", "Column1, Column2")</pre>
<pre id='line1026' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1027")'> 1027:         or</pre>
<pre id='line1027' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1028")'> 1028:         sdiff.add_matrix_type("1ABC", ["Column1", "Column2"])</pre>
<pre id='line1028' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1029")'> 1029:         """</pre>
<pre id='line1029' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1030")'> 1030:         if isinstance(column_names, basestring):</pre>
<pre id='line1030' class='code' style='background-color: #FFFFaa'>
    __pyx_t_1 = <span class='py_api'>PyObject_IsInstance</span>(__pyx_v_column_names, __pyx_builtin_basestring);<span class='error_goto'> if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1030; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF33' onclick='toggleDiv("line1031")'> 1031:             column_names = column_names.split(",")</pre>
<pre id='line1031' class='code' style='background-color: #FFFF33'>
        __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_column_names, __pyx_kp_split);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_80);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_80);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_80);
    __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1031; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_column_names);
    __pyx_v_column_names = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1032")'> 1032:         cdef SdifMatrixTypeT *mt = MatrixType_create(signature, column_names)</pre>
<pre id='line1032' class='code' style='background-color: #FFFFff'>
    __pyx_v_mt = __pyx_f_6pysdif_7_pysdif_MatrixType_create(((PyObject *)__pyx_v_signature), __pyx_v_column_names);
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1033")'> 1033:         SdifPutMatrixType(self.this.MatrixTypesTable, mt)</pre>
<pre id='line1033' class='code' style='background-color: #FFFF4f'>
    SdifPutMatrixType(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->MatrixTypesTable, __pyx_v_mt);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_matrix_type");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_column_names);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1034")'> 1034:         # TODO: is this a memory leak? who destroys the MatrixType?</pre>
<pre id='line1034' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1035")'> 1035:         #self.frame_status = eFrameInvalid</pre>
<pre id='line1035' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1036")'> 1036: </pre>
<pre id='line1036' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF33' onclick='toggleDiv("line1037")'> 1037:     def add_frame_type(self, signature, components):</pre>
<pre id='line1037' class='code' style='background-color: #FFFF33'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_frame_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_add_frame_type[] = "SdifFile.add_frame_type(self, signature, components)\n\n        signature is a 4-char string\n        components is a sequence of Component or just a sequence\n        of tuples of the form (signature, name)\n        \n        alternatively it accepts the form defined in EaSDIF\n        add_frame_type(\"1NEW\", \"1NEW NewMatrix, 1FQ0 New1FQ0\")\n        \n        components are separated either by a ',' or by a ';'\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_frame_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_signature = 0;
  PyObject *__pyx_v_components = 0;
  SdifFrameTypeT *__pyx_v_ft;
  PyObject *__pyx_v_component;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_signature,&__pyx_kp_components,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("add_frame_type");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_signature);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_components);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_frame_type", 1, 2, 2, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1037; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "add_frame_type") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1037; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_signature = values[0];
    __pyx_v_components = values[1];
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_signature = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
    __pyx_v_components = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_frame_type", 1, 2, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1037; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_frame_type");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_components);
  __pyx_v_component = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1038")'> 1038:         """</pre>
<pre id='line1038' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1039")'> 1039:         signature is a 4-char string</pre>
<pre id='line1039' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1040")'> 1040:         components is a sequence of Component or just a sequence</pre>
<pre id='line1040' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1041")'> 1041:         of tuples of the form (signature, name)</pre>
<pre id='line1041' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1042")'> 1042: </pre>
<pre id='line1042' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1043")'> 1043:         alternatively it accepts the form defined in EaSDIF</pre>
<pre id='line1043' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1044")'> 1044:         add_frame_type("1NEW", "1NEW NewMatrix, 1FQ0 New1FQ0")</pre>
<pre id='line1044' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1045")'> 1045: </pre>
<pre id='line1045' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1046")'> 1046:         components are separated either by a ',' or by a ';'</pre>
<pre id='line1046' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1047")'> 1047:         """</pre>
<pre id='line1047' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1048")'> 1048:         if isinstance(components, basestring):</pre>
<pre id='line1048' class='code' style='background-color: #FFFFaa'>
    __pyx_t_1 = <span class='py_api'>PyObject_IsInstance</span>(__pyx_v_components, __pyx_builtin_basestring);<span class='error_goto'> if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1048; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1049")'> 1049:             if ',' in components:</pre>
<pre id='line1049' class='code' style='background-color: #FFFFaa'>
        __pyx_t_1 = (<span class='py_api'>PySequence_Contains</span>(__pyx_v_components, __pyx_kp_81));<span class='error_goto'> if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1049; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF33' onclick='toggleDiv("line1050")'> 1050:                 components = components.split(",")</pre>
<pre id='line1050' class='code' style='background-color: #FFFF33'>
            __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_components, __pyx_kp_split);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_82);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_82);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_82);
      __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1050; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_components);
      __pyx_v_components = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L7;
    }
    /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1051")'> 1051:             else:</pre>
<pre id='line1051' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF33' onclick='toggleDiv("line1052")'> 1052:                 components = components.split(';')</pre>
<pre id='line1052' class='code' style='background-color: #FFFF33'>
            __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_components, __pyx_kp_split);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1052; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1052; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_83);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_kp_83);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_83);
      __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_4, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1052; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_components);
      __pyx_v_components = __pyx_t_2;
      __pyx_t_2 = 0;
    }
    __pyx_L7:;
</pre><pre class='line' style='background-color: #FFFF16' onclick='toggleDiv("line1053")'> 1053:             components = [component.split() for component in components]</pre>
<pre id='line1053' class='code' style='background-color: #FFFF16'>
        __pyx_t_2 = <span class='py_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1053; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_components) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_components)) {
      __pyx_t_5 = 0; __pyx_t_3 = __pyx_v_components; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3);
    } else {
      __pyx_t_5 = -1; __pyx_t_3 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_components);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1053; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    }
    for (;;) {
      if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_3))) {
        if (__pyx_t_5 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_3)) break;
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_4); __pyx_t_5++;
      } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_3))) {
        if (__pyx_t_5 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_3)) break;
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_5); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_4); __pyx_t_5++;
      } else {
        __pyx_t_4 = <span class='py_api'>PyIter_Next</span>(__pyx_t_3);
        if (!__pyx_t_4) {
          if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1053; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          break;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
      __pyx_v_component = __pyx_t_4;
      __pyx_t_4 = 0;
      __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_component, __pyx_kp_split);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1053; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1053; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_7 = <span class='py_api'>PyList_Append</span>(__pyx_t_2, (PyObject*)__pyx_t_6);<span class='error_goto'> if (unlikely(__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1053; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_t_2));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_components);
    __pyx_v_components = ((PyObject *)__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1054")'> 1054:         cdef SdifFrameTypeT *ft = FrameType_create(signature, components)</pre>
<pre id='line1054' class='code' style='background-color: #FFFFff'>
    __pyx_v_ft = __pyx_f_6pysdif_7_pysdif_FrameType_create(__pyx_v_signature, __pyx_v_components);
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line1055")'> 1055:         SdifPutFrameType(self.this.FrameTypesTable, ft)</pre>
<pre id='line1055' class='code' style='background-color: #FFFF43'>
    SdifPutFrameType(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->FrameTypesTable, __pyx_v_ft);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_frame_type");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_component);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_components);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1056")'> 1056:         # TODO: is this a memory leak? who destroys the FrameType?</pre>
<pre id='line1056' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1057")'> 1057:         #Mself.frame_status = eFrameInvalid</pre>
<pre id='line1057' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1058")'> 1058: </pre>
<pre id='line1058' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line1059")'> 1059:     def clone_type_definitions(self, SdifFile source):</pre>
<pre id='line1059' class='code' style='background-color: #FFFF62'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_type_definitions(PyObject *__pyx_v_self, PyObject *__pyx_v_source); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_clone_type_definitions[] = "SdifFile.clone_type_definitions(self, SdifFile source)\n\n        clone the frame and matrix type definitions of source_sdiffile\n        NB: this must be called only for writing mode before any frame \n        has been written\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_type_definitions(PyObject *__pyx_v_self, PyObject *__pyx_v_source) {
  PyObject *__pyx_v_frametypes;
  PyObject *__pyx_v_matrixtypes;
  PyObject *__pyx_v_frametype;
  PyObject *__pyx_v_matrixtype;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("clone_type_definitions");
  __pyx_v_frametypes = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_matrixtypes = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frametype = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_matrixtype = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_source), __pyx_ptype_6pysdif_7_pysdif_SdifFile, 1, "source", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1059; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1060")'> 1060:         """</pre>
<pre id='line1060' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1061")'> 1061:         clone the frame and matrix type definitions of source_sdiffile</pre>
<pre id='line1061' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1062")'> 1062:         NB: this must be called only for writing mode before any frame</pre>
<pre id='line1062' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1063")'> 1063:         has been written</pre>
<pre id='line1063' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1064")'> 1064:         """</pre>
<pre id='line1064' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1065")'> 1065:         frametypes = source.get_frame_types()</pre>
<pre id='line1065' class='code' style='background-color: #FFFF4f'>
    __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_source, __pyx_kp_get_frame_types);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1065; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1065; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frametypes);
  __pyx_v_frametypes = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1066")'> 1066:         matrixtypes = source.get_matrix_types()</pre>
<pre id='line1066' class='code' style='background-color: #FFFF4f'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_source, __pyx_kp_get_matrix_types);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1066; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1066; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrixtypes);
  __pyx_v_matrixtypes = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1067")'> 1067:         for frametype in frametypes:</pre>
<pre id='line1067' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_frametypes) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_frametypes)) {
    __pyx_t_3 = 0; __pyx_t_1 = __pyx_v_frametypes; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1);
  } else {
    __pyx_t_3 = -1; __pyx_t_1 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_frametypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1067; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_1)) break;
      __pyx_t_2 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2); __pyx_t_3++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_1))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_1)) break;
      __pyx_t_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2); __pyx_t_3++;
    } else {
      __pyx_t_2 = <span class='py_api'>PyIter_Next</span>(__pyx_t_1);
      if (!__pyx_t_2) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1067; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frametype);
    __pyx_v_frametype = __pyx_t_2;
    __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF24' onclick='toggleDiv("line1068")'> 1068:             self.add_frame_type(frametype.signature, frametype.components)</pre>
<pre id='line1068' class='code' style='background-color: #FFFF24'>
        __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_add_frame_type);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frametype, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frametype, __pyx_kp_components);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    __pyx_t_6 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_6));
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_4);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_t_5);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_5);
    __pyx_t_4 = 0;
    __pyx_t_5 = 0;
    __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_6), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1068; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_6)); __pyx_t_6 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1069")'> 1069:         for matrixtype in matrixtypes:</pre>
<pre id='line1069' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_matrixtypes) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_matrixtypes)) {
    __pyx_t_3 = 0; __pyx_t_1 = __pyx_v_matrixtypes; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1);
  } else {
    __pyx_t_3 = -1; __pyx_t_1 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_matrixtypes);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_1))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_1)) break;
      __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_3++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_1))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_1)) break;
      __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_3++;
    } else {
      __pyx_t_5 = <span class='py_api'>PyIter_Next</span>(__pyx_t_1);
      if (!__pyx_t_5) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1069; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrixtype);
    __pyx_v_matrixtype = __pyx_t_5;
    __pyx_t_5 = 0;
</pre><pre class='line' style='background-color: #FFFF17' onclick='toggleDiv("line1070")'> 1070:             self.add_matrix_type(matrixtype.signature, matrixtype.column_names)</pre>
<pre id='line1070' class='code' style='background-color: #FFFF17'>
        __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_add_matrix_type);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1070; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    __pyx_t_6 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_matrixtype, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1070; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_matrixtype, __pyx_kp_column_names);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1070; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1070; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_t_6);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_6);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 1, __pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
    __pyx_t_6 = 0;
    __pyx_t_2 = 0;
    __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_5, ((PyObject *)__pyx_t_4), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1070; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.clone_type_definitions");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frametypes);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrixtypes);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frametype);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrixtype);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1071")'> 1071:         #self.write_all_ascii_chunks()  # this is not necessary since it will be called when the first frame is written</pre>
<pre id='line1071' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1072")'> 1072: </pre>
<pre id='line1072' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line1073")'> 1073:     def clone_NVTs(self, SdifFile source):</pre>
<pre id='line1073' class='code' style='background-color: #FFFF96'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_NVTs(PyObject *__pyx_v_self, PyObject *__pyx_v_source); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_clone_NVTs[] = "SdifFile.clone_NVTs(self, SdifFile source)\n\n        clone the NVT from source (an open SdifFile)\n        \n        NB: If you do not plan to midify the type definitions included\n        in the source file, it's better to call 'clone_definitions', which\n        clones everything but the data, so you can do\n        new_sdif = SdifFile(\"out.sdif\", \"w\")\n        new_sdif.clone_definitions(old_sdif)\n        for frame in old_sdif:\n            new_frame = new_sdif.new_frame(frame.signature, frame.time)\n            ... etc ...\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_NVTs(PyObject *__pyx_v_self, PyObject *__pyx_v_source) {
  PyObject *__pyx_v_nvt;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("clone_NVTs");
  __pyx_v_nvt = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_source), __pyx_ptype_6pysdif_7_pysdif_SdifFile, 1, "source", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1073; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1074")'> 1074:         """</pre>
<pre id='line1074' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1075")'> 1075:         clone the NVT from source (an open SdifFile)</pre>
<pre id='line1075' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1076")'> 1076: </pre>
<pre id='line1076' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1077")'> 1077:         NB: If you do not plan to midify the type definitions included</pre>
<pre id='line1077' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1078")'> 1078:         in the source file, it's better to call 'clone_definitions', which</pre>
<pre id='line1078' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1079")'> 1079:         clones everything but the data, so you can do</pre>
<pre id='line1079' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1080")'> 1080:         new_sdif = SdifFile("out.sdif", "w")</pre>
<pre id='line1080' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1081")'> 1081:         new_sdif.clone_definitions(old_sdif)</pre>
<pre id='line1081' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1082")'> 1082:         for frame in old_sdif:</pre>
<pre id='line1082' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1083")'> 1083:             new_frame = new_sdif.new_frame(frame.signature, frame.time)</pre>
<pre id='line1083' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1084")'> 1084:             ... etc ...</pre>
<pre id='line1084' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1085")'> 1085:         """</pre>
<pre id='line1085' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF1c' onclick='toggleDiv("line1086")'> 1086:         for nvt in source.get_NVTs():</pre>
<pre id='line1086' class='code' style='background-color: #FFFF1c'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_source, __pyx_kp_get_NVTs);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  if (<span class='py_api'>PyList_CheckExact</span>(__pyx_t_3) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_3)) {
    __pyx_t_1 = 0; __pyx_t_2 = __pyx_t_3; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
  } else {
    __pyx_t_1 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_1 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_3 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_1); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3); __pyx_t_1++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_1 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_1); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3); __pyx_t_1++;
    } else {
      __pyx_t_3 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
      if (!__pyx_t_3) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1086; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_nvt);
    __pyx_v_nvt = __pyx_t_3;
    __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFF20' onclick='toggleDiv("line1087")'> 1087:             self.add_NVT(nvt)</pre>
<pre id='line1087' class='code' style='background-color: #FFFF20'>
        __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_add_NVT);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1087; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    __pyx_t_4 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1087; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_4));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_nvt);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_4, 0, __pyx_v_nvt);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_nvt);
    __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_t_3, ((PyObject *)__pyx_t_4), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1087; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.clone_NVTs");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_nvt);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1088")'> 1088: </pre>
<pre id='line1088' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFb6' onclick='toggleDiv("line1089")'> 1089:     def clone_definitions(self, SdifFile source):</pre>
<pre id='line1089' class='code' style='background-color: #FFFFb6'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_definitions(PyObject *__pyx_v_self, PyObject *__pyx_v_source); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_clone_definitions[] = "SdifFile.clone_definitions(self, SdifFile source)\n\n        clone both NVT(s) and frame and matrix definitions from source,\n        so after calling this function you can start creating frames\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_definitions(PyObject *__pyx_v_self, PyObject *__pyx_v_source) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("clone_definitions");
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_source), __pyx_ptype_6pysdif_7_pysdif_SdifFile, 1, "source", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1089; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1090")'> 1090:         """</pre>
<pre id='line1090' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1091")'> 1091:         clone both NVT(s) and frame and matrix definitions from source,</pre>
<pre id='line1091' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1092")'> 1092:         so after calling this function you can start creating frames</pre>
<pre id='line1092' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1093")'> 1093:         """</pre>
<pre id='line1093' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF33' onclick='toggleDiv("line1094")'> 1094:         self.clone_NVTs(source)</pre>
<pre id='line1094' class='code' style='background-color: #FFFF33'>
    __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_clone_NVTs);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1094; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1094; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_source);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_source);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_source);
  __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1094; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFF24' onclick='toggleDiv("line1095")'> 1095:         self.clone_type_definitions(source)</pre>
<pre id='line1095' class='code' style='background-color: #FFFF24'>
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_31);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1095; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1095; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_source);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_source);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_source);
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_3, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1095; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.clone_definitions");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1096")'> 1096: </pre>
<pre id='line1096' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF2a' onclick='toggleDiv("line1097")'> 1097:     def clone_frames(self, SdifFile source, tuple signatures_to_clone=None):</pre>
<pre id='line1097' class='code' style='background-color: #FFFF2a'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_frames(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_clone_frames[] = "SdifFile.clone_frames(self, SdifFile source, tuple signatures_to_clone=None)\n\n        clone all the frames in source which are included in \n        @signatures_to_clone -- if this is not defined, clone \n        everything\n        \n        NB: the use case for this function is when you want to\n        modify some of the metadata but leave the data itself\n        unmodified\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_clone_frames(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_6pysdif_7_pysdif_SdifFile *__pyx_v_source = 0;
  PyObject *__pyx_v_signatures_to_clone = 0;
  PyObject *__pyx_v_frame0;
  PyObject *__pyx_v_frame1;
  PyObject *__pyx_v_matrix;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_source,&__pyx_kp_signatures_to_clone,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("clone_frames");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[2] = {0,0};
    values[1] = (PyObject*)((PyObject *)Py_None);
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_source);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 1) {
        PyObject* value = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_signatures_to_clone);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "clone_frames") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1097; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_source = ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)values[0]);
    __pyx_v_signatures_to_clone = ((PyObject *)values[1]);
  } else {
    __pyx_v_signatures_to_clone = ((PyObject *)Py_None);
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  2: __pyx_v_signatures_to_clone = ((PyObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1));
      case  1: __pyx_v_source = ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("clone_frames", 0, 1, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1097; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.clone_frames");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_frame0 = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frame1 = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_matrix = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_source), __pyx_ptype_6pysdif_7_pysdif_SdifFile, 1, "source", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_signatures_to_clone), &<span class='py_api'>PyTuple_Type</span>, 1, "signatures_to_clone", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1098")'> 1098:         """</pre>
<pre id='line1098' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1099")'> 1099:         clone all the frames in source which are included in</pre>
<pre id='line1099' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1100")'> 1100:         @signatures_to_clone -- if this is not defined, clone</pre>
<pre id='line1100' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1101")'> 1101:         everything</pre>
<pre id='line1101' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1102")'> 1102: </pre>
<pre id='line1102' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1103")'> 1103:         NB: the use case for this function is when you want to</pre>
<pre id='line1103' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1104")'> 1104:         modify some of the metadata but leave the data itself</pre>
<pre id='line1104' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1105")'> 1105:         unmodified</pre>
<pre id='line1105' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1106")'> 1106:         """</pre>
<pre id='line1106' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1107")'> 1107:         # TODO : optimize this method</pre>
<pre id='line1107' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1108")'> 1108:         if signatures_to_clone is not None:</pre>
<pre id='line1108' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (__pyx_v_signatures_to_clone != ((PyObject *)Py_None));
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1109")'> 1109:             for frame0 in source:</pre>
<pre id='line1109' class='code' style='background-color: #FFFF26'>
        if (<span class='py_api'>PyList_CheckExact</span>(((PyObject *)__pyx_v_source)) || <span class='py_api'>PyTuple_CheckExact</span>(((PyObject *)__pyx_v_source))) {
      __pyx_t_2 = 0; __pyx_t_3 = ((PyObject *)__pyx_v_source); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3);
    } else {
      __pyx_t_2 = -1; __pyx_t_3 = <span class='py_api'>PyObject_GetIter</span>(((PyObject *)__pyx_v_source));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    }
    for (;;) {
      if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_3))) {
        if (__pyx_t_2 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_3)) break;
        __pyx_t_4 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_2); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_4); __pyx_t_2++;
      } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_3))) {
        if (__pyx_t_2 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_3)) break;
        __pyx_t_4 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_2); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_4); __pyx_t_2++;
      } else {
        __pyx_t_4 = <span class='py_api'>PyIter_Next</span>(__pyx_t_3);
        if (!__pyx_t_4) {
          if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          break;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame0);
      __pyx_v_frame0 = __pyx_t_4;
      __pyx_t_4 = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line1110")'> 1110:                 if frame0.signature in signatures_to_clone:</pre>
<pre id='line1110' class='code' style='background-color: #FFFF62'>
            __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame0, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      __pyx_t_1 = (<span class='py_api'>PySequence_Contains</span>(((PyObject *)__pyx_v_signatures_to_clone), __pyx_t_4));<span class='error_goto'> if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1111")'> 1111:                     frame1 = self.new_frame(frame0.signature, frame0.time)</pre>
<pre id='line1111' class='code' style='background-color: #FFFF26'>
                __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_new_frame);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
        __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame0, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
        __pyx_t_6 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame0, __pyx_kp_time);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
        __pyx_t_7 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_7));
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_5);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_5);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_6);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_6);
        __pyx_t_5 = 0;
        __pyx_t_6 = 0;
        __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_4, ((PyObject *)__pyx_t_7), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_7)); __pyx_t_7 = 0;
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame1);
        __pyx_v_frame1 = __pyx_t_6;
        __pyx_t_6 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1112")'> 1112:                     for matrix in frame0:</pre>
<pre id='line1112' class='code' style='background-color: #FFFF26'>
                if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_frame0) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_frame0)) {
          __pyx_t_8 = 0; __pyx_t_6 = __pyx_v_frame0; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_6);
        } else {
          __pyx_t_8 = -1; __pyx_t_6 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_frame0);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1112; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
        }
        for (;;) {
          if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_6))) {
            if (__pyx_t_8 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_6)) break;
            __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_6, __pyx_t_8); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_7); __pyx_t_8++;
          } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_6))) {
            if (__pyx_t_8 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_6)) break;
            __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_6, __pyx_t_8); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_7); __pyx_t_8++;
          } else {
            __pyx_t_7 = <span class='py_api'>PyIter_Next</span>(__pyx_t_6);
            if (!__pyx_t_7) {
              if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1112; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
              break;
            }
            <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_7);
          }
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix);
          __pyx_v_matrix = __pyx_t_7;
          __pyx_t_7 = 0;
</pre><pre class='line' style='background-color: #FFFF1f' onclick='toggleDiv("line1113")'> 1113:                         frame1.add_matrix(matrix.signature, matrix.get_data())</pre>
<pre id='line1113' class='code' style='background-color: #FFFF1f'>
                    __pyx_t_7 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame1, __pyx_kp_add_matrix);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_7);
          __pyx_t_4 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_matrix, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
          __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_matrix, __pyx_kp_get_data);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
          __pyx_t_9 = <span class='py_api'>PyObject_Call</span>(__pyx_t_5, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_9);
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
          __pyx_t_5 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_5));
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 0, __pyx_t_4);
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_4);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_5, 1, __pyx_t_9);
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_9);
          __pyx_t_4 = 0;
          __pyx_t_9 = 0;
          __pyx_t_9 = <span class='py_api'>PyObject_Call</span>(__pyx_t_7, ((PyObject *)__pyx_t_5), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_9);
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_7); __pyx_t_7 = 0;
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_9); __pyx_t_9 = 0;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class='line' style='background-color: #FFFF48' onclick='toggleDiv("line1114")'> 1114:                     frame1.write()</pre>
<pre id='line1114' class='code' style='background-color: #FFFF48'>
                __pyx_t_6 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame1, __pyx_kp_write);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1114; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
        __pyx_t_9 = <span class='py_api'>PyObject_Call</span>(__pyx_t_6, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1114; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_9);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_9); __pyx_t_9 = 0;
        goto __pyx_L9;
      }
      __pyx_L9:;
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L6;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1115")'> 1115:         else:</pre>
<pre id='line1115' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1116")'> 1116:             for frame0 in source:</pre>
<pre id='line1116' class='code' style='background-color: #FFFF26'>
        if (<span class='py_api'>PyList_CheckExact</span>(((PyObject *)__pyx_v_source)) || <span class='py_api'>PyTuple_CheckExact</span>(((PyObject *)__pyx_v_source))) {
      __pyx_t_2 = 0; __pyx_t_3 = ((PyObject *)__pyx_v_source); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_3);
    } else {
      __pyx_t_2 = -1; __pyx_t_3 = <span class='py_api'>PyObject_GetIter</span>(((PyObject *)__pyx_v_source));<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    }
    for (;;) {
      if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_3))) {
        if (__pyx_t_2 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_3)) break;
        __pyx_t_9 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_3, __pyx_t_2); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_9); __pyx_t_2++;
      } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_3))) {
        if (__pyx_t_2 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_3)) break;
        __pyx_t_9 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_3, __pyx_t_2); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_9); __pyx_t_2++;
      } else {
        __pyx_t_9 = <span class='py_api'>PyIter_Next</span>(__pyx_t_3);
        if (!__pyx_t_9) {
          if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          break;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_9);
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame0);
      __pyx_v_frame0 = __pyx_t_9;
      __pyx_t_9 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1117")'> 1117:                 frame1 = self.new_frame(frame0.signature, frame0.time)</pre>
<pre id='line1117' class='code' style='background-color: #FFFF26'>
            __pyx_t_9 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_new_frame);<span class='error_goto'> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1117; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_9);
      __pyx_t_6 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame0, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1117; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame0, __pyx_kp_time);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1117; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_7 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1117; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_7));
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_6);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_5);
      __pyx_t_6 = 0;
      __pyx_t_5 = 0;
      __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_t_9, ((PyObject *)__pyx_t_7), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1117; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_9); __pyx_t_9 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_7)); __pyx_t_7 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame1);
      __pyx_v_frame1 = __pyx_t_5;
      __pyx_t_5 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1118")'> 1118:                 for matrix in frame0:</pre>
<pre id='line1118' class='code' style='background-color: #FFFF26'>
            if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_frame0) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_frame0)) {
        __pyx_t_8 = 0; __pyx_t_5 = __pyx_v_frame0; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5);
      } else {
        __pyx_t_8 = -1; __pyx_t_5 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_frame0);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1118; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      }
      for (;;) {
        if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_5))) {
          if (__pyx_t_8 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_5)) break;
          __pyx_t_7 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_5, __pyx_t_8); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_7); __pyx_t_8++;
        } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_5))) {
          if (__pyx_t_8 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_5)) break;
          __pyx_t_7 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_5, __pyx_t_8); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_7); __pyx_t_8++;
        } else {
          __pyx_t_7 = <span class='py_api'>PyIter_Next</span>(__pyx_t_5);
          if (!__pyx_t_7) {
            if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1118; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
            break;
          }
          <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_7);
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix);
        __pyx_v_matrix = __pyx_t_7;
        __pyx_t_7 = 0;
</pre><pre class='line' style='background-color: #FFFF1f' onclick='toggleDiv("line1119")'> 1119:                     frame1.add_matrix(matrix.signature, matrix.get_data())</pre>
<pre id='line1119' class='code' style='background-color: #FFFF1f'>
                __pyx_t_7 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame1, __pyx_kp_add_matrix);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_7);
        __pyx_t_9 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_matrix, __pyx_kp_signature);<span class='error_goto'> if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_9);
        __pyx_t_6 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_matrix, __pyx_kp_get_data);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
        __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_6, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_6));
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_t_9);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_9);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_t_4);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_4);
        __pyx_t_9 = 0;
        __pyx_t_4 = 0;
        __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_7, ((PyObject *)__pyx_t_6), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1119; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_7); __pyx_t_7 = 0;
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_6)); __pyx_t_6 = 0;
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
</pre><pre class='line' style='background-color: #FFFF23' onclick='toggleDiv("line1120")'> 1120:                 frame1.write()</pre>
<pre id='line1120' class='code' style='background-color: #FFFF23'>
            __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame1, __pyx_kp_write);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_5, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  }
  __pyx_L6:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_7);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_9);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.clone_frames");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame0);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1121")'> 1121: </pre>
<pre id='line1121' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF16' onclick='toggleDiv("line1122")'> 1122:     def add_streamID(self, unsigned int numid, char *source, char *treeway):</pre>
<pre id='line1122' class='code' style='background-color: #FFFF16'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_streamID(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_add_streamID[] = "SdifFile.add_streamID(self, unsigned int numid, char *source, char *treeway)\n\n        this method is only there for completion. it seems to be only used in old\n        sdif types\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_streamID(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  unsigned int __pyx_v_numid;
  char *__pyx_v_source;
  char *__pyx_v_treeway;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_numid,&__pyx_kp_source,&__pyx_kp_treeway,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("add_streamID");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  3: values[2] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_numid);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_source);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_streamID", 1, 3, 3, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      case  2:
      values[2] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_treeway);
      if (likely(values[2])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_streamID", 1, 3, 3, 2);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "add_streamID") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_numid = __Pyx_<span class='py_api'>PyInt_AsUnsignedInt</span>(values[0]);<span class='error_goto'> if (unlikely((__pyx_v_numid == (unsigned int)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_source = __Pyx_<span class='py_api'>PyBytes_AsString</span>(values[1]);<span class='error_goto'> if (unlikely((!__pyx_v_source) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_treeway = __Pyx_<span class='py_api'>PyBytes_AsString</span>(values[2]);<span class='error_goto'> if (unlikely((!__pyx_v_treeway) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 3) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_numid = __Pyx_<span class='py_api'>PyInt_AsUnsignedInt</span>(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));<span class='error_goto'> if (unlikely((__pyx_v_numid == (unsigned int)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_source = __Pyx_<span class='py_api'>PyBytes_AsString</span>(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1));<span class='error_goto'> if (unlikely((!__pyx_v_source) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_treeway = __Pyx_<span class='py_api'>PyBytes_AsString</span>(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2));<span class='error_goto'> if (unlikely((!__pyx_v_treeway) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_streamID", 1, 3, 3, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1122; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_streamID");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1123")'> 1123:         """</pre>
<pre id='line1123' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1124")'> 1124:         this method is only there for completion. it seems to be only used in old</pre>
<pre id='line1124' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1125")'> 1125:         sdif types</pre>
<pre id='line1125' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1126")'> 1126:         """</pre>
<pre id='line1126' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1127")'> 1127:         SdifStreamIDTablePutSID(self.this.StreamIDsTable,</pre>
<pre id='line1127' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line1128")'> 1128:             numid, source, treeway)</pre>
<pre id='line1128' class='code' style='background-color: #FFFF8d'>
    SdifStreamIDTablePutSID(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->StreamIDsTable, __pyx_v_numid, __pyx_v_source, __pyx_v_treeway);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1129")'> 1129: </pre>
<pre id='line1129' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF36' onclick='toggleDiv("line1130")'> 1130:     def add_predefined_type(self, predefined_type='RBEP'):</pre>
<pre id='line1130' class='code' style='background-color: #FFFF36'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_predefined_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_add_predefined_type[] = "SdifFile.add_predefined_type(self, predefined_type='RBEP')\n\n        Add a predefined type to this SdifFile.\n        This type must be already defined in the global\n        variable SDIF_NEWTYPES.\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_add_predefined_type(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_predefined_type = 0;
  PyObject *__pyx_v_frame_types;
  PyObject *__pyx_v_matrix_types;
  PyObject *__pyx_v_frame_type;
  PyObject *__pyx_v_matrix_type;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_predefined_type,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("add_predefined_type");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[1] = {0};
    values[0] = __pyx_kp_63;
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      if (kw_args > 1) {
        PyObject* value = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_predefined_type);
        if (unlikely(value)) { values[0] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "add_predefined_type") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1130; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_predefined_type = values[0];
  } else {
    __pyx_v_predefined_type = __pyx_kp_63;
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  1: __pyx_v_predefined_type = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("add_predefined_type", 0, 0, 1, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1130; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_predefined_type");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_frame_types = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_matrix_types = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frame_type = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_matrix_type = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1131")'> 1131:         """</pre>
<pre id='line1131' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1132")'> 1132:         Add a predefined type to this SdifFile.</pre>
<pre id='line1132' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1133")'> 1133:         This type must be already defined in the global</pre>
<pre id='line1133' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1134")'> 1134:         variable SDIF_NEWTYPES.</pre>
<pre id='line1134' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1135")'> 1135:         """</pre>
<pre id='line1135' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF19' onclick='toggleDiv("line1136")'> 1136:         frame_types, matrix_types = get_predefined_frames_and_matrices(predefined_type)</pre>
<pre id='line1136' class='code' style='background-color: #FFFF19'>
    __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_84);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_predefined_type);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_predefined_type);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_predefined_type);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_1, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  if (<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2) && likely(<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2) == 2)) {
    PyObject* tuple = __pyx_t_2;
    __pyx_2 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(tuple, 0); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_2);
    __pyx_3 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(tuple, 1); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_3);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame_types);
    __pyx_v_frame_types = __pyx_2;
    __pyx_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix_types);
    __pyx_v_matrix_types = __pyx_3;
    __pyx_3 = 0;
  } else {
    __pyx_1 = <span class='py_api'>PyObject_GetIter</span>(__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_2 = <span class='pyx_api'>__Pyx_UnpackItem</span>(__pyx_1, 0);<span class='error_goto'> if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_2);
    __pyx_3 = <span class='pyx_api'>__Pyx_UnpackItem</span>(__pyx_1, 1);<span class='error_goto'> if (unlikely(!__pyx_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_3);
    if (<span class='pyx_api'>__Pyx_EndUnpack</span>(__pyx_1) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1136; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame_types);
    __pyx_v_frame_types = __pyx_2;
    __pyx_2 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix_types);
    __pyx_v_matrix_types = __pyx_3;
    __pyx_3 = 0;
  }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1137")'> 1137:         if frame_types is not None:</pre>
<pre id='line1137' class='code' style='background-color: #FFFFff'>
    __pyx_t_3 = (__pyx_v_frame_types != Py_None);
  if (__pyx_t_3) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1138")'> 1138:             # type exists</pre>
<pre id='line1138' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1139")'> 1139:             for frame_type in frame_types:</pre>
<pre id='line1139' class='code' style='background-color: #FFFF26'>
        if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_frame_types) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_frame_types)) {
      __pyx_t_4 = 0; __pyx_t_2 = __pyx_v_frame_types; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
    } else {
      __pyx_t_4 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_frame_types);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    }
    for (;;) {
      if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
        if (__pyx_t_4 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
        __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_4++;
      } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
        if (__pyx_t_4 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
        __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_4++;
      } else {
        __pyx_t_1 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
        if (!__pyx_t_1) {
          if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1139; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          break;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame_type);
      __pyx_v_frame_type = __pyx_t_1;
      __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF37' onclick='toggleDiv("line1140")'> 1140:                 self.add_frame_type(*frame_type)</pre>
<pre id='line1140' class='code' style='background-color: #FFFF37'>
            __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_add_frame_type);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1140; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      __pyx_1 = <span class='py_api'>PySequence_Tuple</span>(__pyx_v_frame_type);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1140; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
      __pyx_t_5 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1140; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_1)); __pyx_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1141")'> 1141:             for matrix_type in matrix_types:</pre>
<pre id='line1141' class='code' style='background-color: #FFFF26'>
        if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_matrix_types) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_matrix_types)) {
      __pyx_t_4 = 0; __pyx_t_2 = __pyx_v_matrix_types; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
    } else {
      __pyx_t_4 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_matrix_types);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    }
    for (;;) {
      if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
        if (__pyx_t_4 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
        __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_4++;
      } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
        if (__pyx_t_4 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
        __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_4++;
      } else {
        __pyx_t_5 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
        if (!__pyx_t_5) {
          if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          break;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix_type);
      __pyx_v_matrix_type = __pyx_t_5;
      __pyx_t_5 = 0;
</pre><pre class='line' style='background-color: #FFFF37' onclick='toggleDiv("line1142")'> 1142:                 self.add_matrix_type(*matrix_type)</pre>
<pre id='line1142' class='code' style='background-color: #FFFF37'>
            __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_add_matrix_type);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1142; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_2 = <span class='py_api'>PySequence_Tuple</span>(__pyx_v_matrix_type);<span class='error_goto'> if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1142; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_2));
      __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_5, ((PyObject *)__pyx_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1142; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_2)); __pyx_2 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    goto __pyx_L6;
  }
  /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1143")'> 1143:         else:</pre>
<pre id='line1143' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF1f' onclick='toggleDiv("line1144")'> 1144:             raise ValueError("Definition of sdif type not found")</pre>
<pre id='line1144' class='code' style='background-color: #FFFF1f'>
        __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1144; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_85);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_85);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_85);
    __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1144; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
    <span class='pyx_api'>__Pyx_Raise</span>(__pyx_t_1, 0, 0);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
   <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1144; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  }
  __pyx_L6:;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.add_predefined_type");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame_types);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix_types);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame_type);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix_type);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1145")'> 1145: </pre>
<pre id='line1145' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line1146")'> 1146:     def write_all_ascii_chunks(self):</pre>
<pre id='line1146' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_write_all_ascii_chunks(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_write_all_ascii_chunks[] = "SdifFile.write_all_ascii_chunks(self)\n\n        low level interface.\n        Once the NVTs and matrix and frame definitions have been added to the SdifFile,\n        this methods writes them all together to disk and the SdifFile is ready to accept\n        new frames.\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_write_all_ascii_chunks(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("write_all_ascii_chunks");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1147")'> 1147:         """</pre>
<pre id='line1147' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1148")'> 1148:         low level interface.</pre>
<pre id='line1148' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1149")'> 1149:         Once the NVTs and matrix and frame definitions have been added to the SdifFile,</pre>
<pre id='line1149' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1150")'> 1150:         this methods writes them all together to disk and the SdifFile is ready to accept</pre>
<pre id='line1150' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1151")'> 1151:         new frames.</pre>
<pre id='line1151' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1152")'> 1152:         """</pre>
<pre id='line1152' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1153")'> 1153:         if self.write_status != eSdifGeneralHeader:</pre>
<pre id='line1153' class='code' style='background-color: #FFFFff'>
    __pyx_t_1 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->write_status != __pyx_e_6pysdif_7_pysdif_eSdifGeneralHeader);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line1154")'> 1154:             return</pre>
<pre id='line1154' class='code' style='background-color: #FFFF9f'>
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
    __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1155")'> 1155:         SdifFWriteAllASCIIChunks(self.this)</pre>
<pre id='line1155' class='code' style='background-color: #FFFFff'>
    SdifFWriteAllASCIIChunks(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line1156")'> 1156:         self.write_status = eSdifAllASCIIChunks</pre>
<pre id='line1156' class='code' style='background-color: #FFFF8d'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->write_status = __pyx_e_6pysdif_7_pysdif_eSdifAllASCIIChunks;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1157")'> 1157: </pre>
<pre id='line1157' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF1c' onclick='toggleDiv("line1158")'> 1158:     def new_frame(self, str signature, SdifFloat8 time, SdifUInt4 streamID=0):</pre>
<pre id='line1158' class='code' style='background-color: #FFFF1c'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_new_frame(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_new_frame[] = "SdifFile.new_frame(self, str signature, pysdif.pysdif.SdifFloat8 time, pysdif.pysdif.SdifUInt4 streamID=0)\n\n        create a new frame with the given signature and at the given time\n        \n        new_frame = sdiffile.new_frame('1SIG', time_now)\n        new_frame.add_matrix(...)\n        new_frame.write()\n        \n        if you know that you will write only one matrix, you can call\n        \n        sdiffile.new_frame_one_matrix(frame_sig, time_now, matrix_sig, data)\n        \n        and this will do the same as the three method calls above\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_new_frame(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_signature = 0;
  SdifFloat8 __pyx_v_time;
  SdifUInt4 __pyx_v_streamID;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_signature,&__pyx_kp_time,&__pyx_kp_streamID,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("new_frame");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  3: values[2] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_signature);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_time);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("new_frame", 0, 2, 3, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_streamID);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "new_frame") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_signature = ((PyObject *)values[0]);
    __pyx_v_time = __pyx_<span class='py_api'>PyFloat_AsDouble</span>(values[1]);<span class='error_goto'> if (unlikely(<span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    if (values[2]) {
      __pyx_v_streamID = __Pyx_PyInt_from_py_SdifUInt4(values[2]);<span class='error_goto'> if (unlikely((__pyx_v_streamID == (SdifUInt4)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    } else {
      __pyx_v_streamID = 0;
    }
  } else {
    __pyx_v_streamID = 0;
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  3:
      __pyx_v_streamID = __Pyx_PyInt_from_py_SdifUInt4(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2));<span class='error_goto'> if (unlikely((__pyx_v_streamID == (SdifUInt4)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      case  2:
      __pyx_v_time = __pyx_<span class='py_api'>PyFloat_AsDouble</span>(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1));<span class='error_goto'> if (unlikely(<span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      __pyx_v_signature = ((PyObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("new_frame", 0, 2, 3, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.new_frame");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_signature), &<span class='py_api'>PyString_Type</span>, 1, "signature", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1158; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1159")'> 1159:         """</pre>
<pre id='line1159' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1160")'> 1160:         create a new frame with the given signature and at the given time</pre>
<pre id='line1160' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1161")'> 1161: </pre>
<pre id='line1161' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1162")'> 1162:         new_frame = sdiffile.new_frame('1SIG', time_now)</pre>
<pre id='line1162' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1163")'> 1163:         new_frame.add_matrix(...)</pre>
<pre id='line1163' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1164")'> 1164:         new_frame.write()</pre>
<pre id='line1164' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1165")'> 1165: </pre>
<pre id='line1165' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1166")'> 1166:         if you know that you will write only one matrix, you can call</pre>
<pre id='line1166' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1167")'> 1167: </pre>
<pre id='line1167' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1168")'> 1168:         sdiffile.new_frame_one_matrix(frame_sig, time_now, matrix_sig, data)</pre>
<pre id='line1168' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1169")'> 1169: </pre>
<pre id='line1169' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1170")'> 1170:         and this will do the same as the three method calls above</pre>
<pre id='line1170' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1171")'> 1171:         """</pre>
<pre id='line1171' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1172")'> 1172:         # ask for a new frame means that we are through with</pre>
<pre id='line1172' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1173")'> 1173:         # defining the global header (ascii chunks) so verify that</pre>
<pre id='line1173' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1174")'> 1174:         # we have written it</pre>
<pre id='line1174' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF1a' onclick='toggleDiv("line1175")'> 1175:         assert self.mode == eWriteFile or self.mode == eReadWriteFile</pre>
<pre id='line1175' class='code' style='background-color: #FFFF1a'>
    #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_mode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(eWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_t_2, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_4) {
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_mode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(eReadWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_3, __pyx_t_2, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = __pyx_t_5;
  } else {
    __pyx_t_6 = __pyx_t_4;
  }
  if (unlikely(!__pyx_t_6)) {
    <span class='py_api'>PyErr_SetNone</span>(<span class='py_api'>PyExc_AssertionError</span>);
   <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  }
  #endif
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1176")'> 1176:         if self.write_status == eSdifGeneralHeader:</pre>
<pre id='line1176' class='code' style='background-color: #FFFFff'>
    __pyx_t_6 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->write_status == __pyx_e_6pysdif_7_pysdif_eSdifGeneralHeader);
  if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1177")'> 1177:             self.write_all_ascii_chunks()</pre>
<pre id='line1177' class='code' style='background-color: #FFFF4f'>
        __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_32);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1177; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1177; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFF1f' onclick='toggleDiv("line1178")'> 1178:         return FrameW_new(self, str2signature(signature), time, streamID)</pre>
<pre id='line1178' class='code' style='background-color: #FFFF1f'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_2 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_65);<span class='error_goto'> if (unlikely(!__pyx_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_2);
  __pyx_t_2 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(((PyObject *)__pyx_v_signature));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, ((PyObject *)__pyx_v_signature));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_v_signature));
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_2, ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_2); __pyx_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __pyx_t_7 = <span class='pyx_api'>__Pyx_PyInt_from_py_SdifSignature</span>(__pyx_t_1);<span class='error_goto'> if (unlikely((__pyx_t_7 == (SdifSignature)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_1.__pyx_n = 1;
  __pyx_1.streamID = __pyx_v_streamID;
  __pyx_t_1 = ((PyObject *)__pyx_f_6pysdif_7_pysdif_FrameW_new(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self), __pyx_t_7, __pyx_v_time, &__pyx_1));<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.new_frame");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1179")'> 1179: </pre>
<pre id='line1179' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF16' onclick='toggleDiv("line1180")'> 1180:     def new_frame_one_matrix(self, str frame_sig, SdifFloat8 time, str matrix_sig, c_numpy.ndarray data_array, SdifUInt4 streamID=0):</pre>
<pre id='line1180' class='code' style='background-color: #FFFF16'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_new_frame_one_matrix(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_new_frame_one_matrix[] = "SdifFile.new_frame_one_matrix(self, str frame_sig, pysdif.pysdif.SdifFloat8 time, str matrix_sig, ndarray data_array, pysdif.pysdif.SdifUInt4 streamID=0)\n\n        create a frame containing only one matrix and write it\n        This method creates the frame, creates a new matrix\n        in the frame and writes it to disk, all at once\n        \n        NB: use this method when you want to create a frame which\n        contains only one matrix, like a 1TRC frame. It is more efficient\n        than calling new_frame, add_matrix, write (see method 'new_frame')\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_new_frame_one_matrix(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_frame_sig = 0;
  SdifFloat8 __pyx_v_time;
  PyObject *__pyx_v_matrix_sig = 0;
  PyArrayObject *__pyx_v_data_array = 0;
  SdifUInt4 __pyx_v_streamID;
  size_t __pyx_v_frame_size;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_kp_frame_sig,&__pyx_kp_time,&__pyx_kp_matrix_sig,&__pyx_kp_data_array,&__pyx_kp_streamID,0};
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("new_frame_one_matrix");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = <span class='py_api'>PyDict_Size</span>(__pyx_kwds);
    PyObject* values[5] = {0,0,0,0,0};
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  5: values[4] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 4);
      case  4: values[3] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 3);
      case  3: values[2] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
      case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
      case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  0:
      values[0] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_frame_sig);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_time);
      if (likely(values[1])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("new_frame_one_matrix", 0, 4, 5, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      case  2:
      values[2] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_matrix_sig);
      if (likely(values[2])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("new_frame_one_matrix", 0, 4, 5, 2);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      case  3:
      values[3] = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_data_array);
      if (likely(values[3])) kw_args--;
      else {
        <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("new_frame_one_matrix", 0, 4, 5, 3);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      case  4:
      if (kw_args > 1) {
        PyObject* value = <span class='py_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_kp_streamID);
        if (unlikely(value)) { values[4] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(<span class='pyx_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args), "new_frame_one_matrix") < 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    }
    __pyx_v_frame_sig = ((PyObject *)values[0]);
    __pyx_v_time = __pyx_<span class='py_api'>PyFloat_AsDouble</span>(values[1]);<span class='error_goto'> if (unlikely(<span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_matrix_sig = ((PyObject *)values[2]);
    __pyx_v_data_array = ((PyArrayObject *)values[3]);
    if (values[4]) {
      __pyx_v_streamID = __Pyx_PyInt_from_py_SdifUInt4(values[4]);<span class='error_goto'> if (unlikely((__pyx_v_streamID == (SdifUInt4)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    } else {
      __pyx_v_streamID = 0;
    }
  } else {
    __pyx_v_streamID = 0;
    switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
      case  5:
      __pyx_v_streamID = __Pyx_PyInt_from_py_SdifUInt4(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 4));<span class='error_goto'> if (unlikely((__pyx_v_streamID == (SdifUInt4)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      case  4:
      __pyx_v_data_array = ((PyArrayObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 3));
      __pyx_v_matrix_sig = ((PyObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2));
      __pyx_v_time = __pyx_<span class='py_api'>PyFloat_AsDouble</span>(<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1));<span class='error_goto'> if (unlikely(<span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      __pyx_v_frame_sig = ((PyObject *)<span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0));
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_api'>__Pyx_RaiseArgtupleInvalid</span>("new_frame_one_matrix", 0, 4, 5, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.new_frame_one_matrix");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_frame_sig), &<span class='py_api'>PyString_Type</span>, 1, "frame_sig", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_matrix_sig), &<span class='py_api'>PyString_Type</span>, 1, "matrix_sig", 1)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  if (unlikely(!<span class='pyx_api'>__Pyx_ArgTypeTest</span>(((PyObject *)__pyx_v_data_array), __pyx_ptype_5numpy_ndarray, 1, "data_array", 0)))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1180; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1181")'> 1181:         """</pre>
<pre id='line1181' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1182")'> 1182:         create a frame containing only one matrix and write it</pre>
<pre id='line1182' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1183")'> 1183:         This method creates the frame, creates a new matrix</pre>
<pre id='line1183' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1184")'> 1184:         in the frame and writes it to disk, all at once</pre>
<pre id='line1184' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1185")'> 1185: </pre>
<pre id='line1185' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1186")'> 1186:         NB: use this method when you want to create a frame which</pre>
<pre id='line1186' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1187")'> 1187:         contains only one matrix, like a 1TRC frame. It is more efficient</pre>
<pre id='line1187' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1188")'> 1188:         than calling new_frame, add_matrix, write (see method 'new_frame')</pre>
<pre id='line1188' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1189")'> 1189:         """</pre>
<pre id='line1189' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF1a' onclick='toggleDiv("line1190")'> 1190:         assert self.mode == eWriteFile or self.mode == eReadWriteFile</pre>
<pre id='line1190' class='code' style='background-color: #FFFF1a'>
    #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_mode);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(eWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_1, __pyx_t_2, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_3);<span class='error_goto'> if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  if (!__pyx_t_4) {
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_mode);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
    __pyx_t_2 = <span class='py_api'>PyInt_FromLong</span>(eReadWriteFile);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_api'>PyObject_RichCompare</span>(__pyx_t_3, __pyx_t_2, <span class='py_macro_api'>Py_EQ</span>);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = __pyx_t_5;
  } else {
    __pyx_t_6 = __pyx_t_4;
  }
  if (unlikely(!__pyx_t_6)) {
    <span class='py_api'>PyErr_SetNone</span>(<span class='py_api'>PyExc_AssertionError</span>);
   <span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  }
  #endif
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1191")'> 1191:         if self.write_status == eSdifGeneralHeader:</pre>
<pre id='line1191' class='code' style='background-color: #FFFFff'>
    __pyx_t_6 = (((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->write_status == __pyx_e_6pysdif_7_pysdif_eSdifGeneralHeader);
  if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1192")'> 1192:             self.write_all_ascii_chunks()</pre>
<pre id='line1192' class='code' style='background-color: #FFFF4f'>
        __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_self, __pyx_kp_32);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1192; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1192; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1193")'> 1193:         cdef size_t frame_size = SdifSizeOfFrameHeader() + SdifSizeOfMatrix(</pre>
<pre id='line1193' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1194")'> 1194:             &lt;SdifDataTypeET&gt;(dtype_numpy2sdif(data_array.descr.type_num)),</pre>
<pre id='line1194' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1195")'> 1195:             data_array.shape[0], data_array.shape[1] # rows, cols</pre>
<pre id='line1195' class='code' style='background-color: #FFFFff'>
    __pyx_v_frame_size = (SdifSizeOfFrameHeader() + SdifSizeOfMatrix(((SdifDataTypeET)__pyx_f_6pysdif_7_pysdif_dtype_numpy2sdif(__pyx_v_data_array->descr->type_num)), (__pyx_v_data_array->dimensions[0]), (__pyx_v_data_array->dimensions[1])));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1196")'> 1196:         )</pre>
<pre id='line1196' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line1197")'> 1197:         SdifFSetCurrFrameHeader(self.this, frame_sig, frame_size, 1, streamID, time)</pre>
<pre id='line1197' class='code' style='background-color: #FFFF96'>
    __pyx_t_7 = <span class='pyx_api'>__Pyx_PyInt_from_py_SdifSignature</span>(((PyObject *)__pyx_v_frame_sig));<span class='error_goto'> if (unlikely((__pyx_t_7 == (SdifSignature)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  SdifFSetCurrFrameHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this, __pyx_t_7, __pyx_v_frame_size, 1, __pyx_v_streamID, __pyx_v_time);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1198")'> 1198:         SdifFWriteFrameHeader(self.this)</pre>
<pre id='line1198' class='code' style='background-color: #FFFFff'>
    SdifFWriteFrameHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1199")'> 1199:         SdifFWriteMatrix(self.this,</pre>
<pre id='line1199' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1200")'> 1200:             _str2sig(matrix_sig),</pre>
<pre id='line1200' class='code' style='background-color: #FFFF7f'>
    __pyx_t_8 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(((PyObject *)__pyx_v_matrix_sig));<span class='error_goto'> if (unlikely((!__pyx_t_8) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1200; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1201")'> 1201:             &lt;SdifDataTypeET&gt;dtype_numpy2sdif(data_array.descr.type_num),</pre>
<pre id='line1201' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1202")'> 1202:             data_array.shape[0], data_array.shape[1],   # rows, cols</pre>
<pre id='line1202' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1203")'> 1203:             data_array.data)</pre>
<pre id='line1203' class='code' style='background-color: #FFFFff'>
    SdifFWriteMatrix(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this, __pyx_f_6pysdif_7_pysdif__str2sig(__pyx_t_8), ((SdifDataTypeET)__pyx_f_6pysdif_7_pysdif_dtype_numpy2sdif(__pyx_v_data_array->descr->type_num)), (__pyx_v_data_array->dimensions[0]), (__pyx_v_data_array->dimensions[1]), __pyx_v_data_array->data);
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line1204")'> 1204:         self.write_status = eSdifMatrixData</pre>
<pre id='line1204' class='code' style='background-color: #FFFF57'>
    ((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->write_status = __pyx_e_6pysdif_7_pysdif_eSdifMatrixData;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.new_frame_one_matrix");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1205")'> 1205: </pre>
<pre id='line1205' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1206")'> 1206:     # low level functions to print info</pre>
<pre id='line1206' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1207")'> 1207:     def print_NVT(self): SdifFPrintAllNameValueNVT(self.this)</pre>
<pre id='line1207' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_NVT(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_NVT[] = "SdifFile.print_NVT(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_NVT(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_NVT");
  SdifFPrintAllNameValueNVT(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1208")'> 1208:     def print_general_header(self): SdifFPrintGeneralHeader(self.this)</pre>
<pre id='line1208' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_general_header(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_general_header[] = "SdifFile.print_general_header(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_general_header(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_general_header");
  SdifFPrintGeneralHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1209")'> 1209:     def print_all_ascii_chunks(self): SdifFPrintAllASCIIChunks(self.this)</pre>
<pre id='line1209' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_all_ascii_chunks(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_all_ascii_chunks[] = "SdifFile.print_all_ascii_chunks(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_all_ascii_chunks(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_all_ascii_chunks");
  SdifFPrintAllASCIIChunks(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1210")'> 1210:     def print_all_types(self): SdifFPrintAllType(self.this)</pre>
<pre id='line1210' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_all_types(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_all_types[] = "SdifFile.print_all_types(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_all_types(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_all_types");
  SdifFPrintAllType(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1211")'> 1211:     def print_matrix_header(self): SdifFPrintMatrixHeader(self.this)</pre>
<pre id='line1211' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_matrix_header(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_matrix_header[] = "SdifFile.print_matrix_header(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_matrix_header(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_matrix_header");
  SdifFPrintMatrixHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1212")'> 1212:     def print_one_row(self): SdifFPrintOneRow(self.this)</pre>
<pre id='line1212' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_one_row(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_one_row[] = "SdifFile.print_one_row(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_one_row(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_one_row");
  SdifFPrintOneRow(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1213")'> 1213:     def print_frame_header(self): SdifFPrintFrameHeader(self.this)</pre>
<pre id='line1213' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_frame_header(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_frame_header[] = "SdifFile.print_frame_header(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_frame_header(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_frame_header");
  SdifFPrintFrameHeader(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1214")'> 1214:     def print_all_stream_ID(self): SdifFPrintAllStreamID(self.this)</pre>
<pre id='line1214' class='code' style='background-color: #FFFF7f'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_all_stream_ID(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_print_all_stream_ID[] = "SdifFile.print_all_stream_ID(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_print_all_stream_ID(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("print_all_stream_ID");
  SdifFPrintAllStreamID(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1215")'> 1215: </pre>
<pre id='line1215' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1216")'> 1216:     def frame_types_to_string(self):</pre>
<pre id='line1216' class='code' style='background-color: #FFFFaa'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_frame_types_to_string(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_frame_types_to_string[] = "SdifFile.frame_types_to_string(self)\n\n        returns a string with all frame types\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_frame_types_to_string(PyObject *__pyx_v_self, PyObject *unused) {
  SdifStringT *__pyx_v_sdifstr;
  PyObject *__pyx_v_out;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("frame_types_to_string");
  __pyx_v_out = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1217")'> 1217:         """</pre>
<pre id='line1217' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1218")'> 1218:         returns a string with all frame types</pre>
<pre id='line1218' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1219")'> 1219:         """</pre>
<pre id='line1219' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1220")'> 1220:         cdef SdifStringT *sdifstr</pre>
<pre id='line1220' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1221")'> 1221:         sdifstr = SdifStringNew()</pre>
<pre id='line1221' class='code' style='background-color: #FFFFff'>
    __pyx_v_sdifstr = SdifStringNew();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1222")'> 1222:         SdifFAllFrameTypeToSdifString(self.this, sdifstr)</pre>
<pre id='line1222' class='code' style='background-color: #FFFFff'>
    SdifFAllFrameTypeToSdifString(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this, __pyx_v_sdifstr);
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line1223")'> 1223:         out = PyString_from_SdifString(sdifstr)</pre>
<pre id='line1223' class='code' style='background-color: #FFFF9f'>
    __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_PyString_from_SdifString(__pyx_v_sdifstr);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1223; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_out);
  __pyx_v_out = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1224")'> 1224:         SdifStringFree(sdifstr)</pre>
<pre id='line1224' class='code' style='background-color: #FFFFff'>
    SdifStringFree(__pyx_v_sdifstr);
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1225")'> 1225:         return out</pre>
<pre id='line1225' class='code' style='background-color: #FFFF4f'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_out);
  __pyx_r = __pyx_v_out;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.frame_types_to_string");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_out);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1226")'> 1226: </pre>
<pre id='line1226' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line1227")'> 1227:     def get_frame_types(self):</pre>
<pre id='line1227' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_frame_types(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_get_frame_types[] = "SdifFile.get_frame_types(self)\n\n        returns a list of frame type definitions (1FTD)\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_frame_types(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_frame_types");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1228")'> 1228:         """</pre>
<pre id='line1228' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1229")'> 1229:         returns a list of frame type definitions (1FTD)</pre>
<pre id='line1229' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1230")'> 1230:         """</pre>
<pre id='line1230' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line1231")'> 1231:         return FrameTypesTable_to_list(self.this.FrameTypesTable)</pre>
<pre id='line1231' class='code' style='background-color: #FFFF57'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_FrameTypesTable_to_list(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->FrameTypesTable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.get_frame_types");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1232")'> 1232: </pre>
<pre id='line1232' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1233")'> 1233:     def matrix_types_to_string(self):</pre>
<pre id='line1233' class='code' style='background-color: #FFFFaa'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_matrix_types_to_string(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_matrix_types_to_string[] = "SdifFile.matrix_types_to_string(self)\n returns a string with all matrix types";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_matrix_types_to_string(PyObject *__pyx_v_self, PyObject *unused) {
  SdifStringT *__pyx_v_sdifstr;
  PyObject *__pyx_v_out;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("matrix_types_to_string");
  __pyx_v_out = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1234")'> 1234:         """ returns a string with all matrix types"""</pre>
<pre id='line1234' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1235")'> 1235:         cdef SdifStringT *sdifstr</pre>
<pre id='line1235' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1236")'> 1236:         sdifstr = SdifStringNew()</pre>
<pre id='line1236' class='code' style='background-color: #FFFFff'>
    __pyx_v_sdifstr = SdifStringNew();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1237")'> 1237:         SdifFAllMatrixTypeToSdifString(self.this, sdifstr)</pre>
<pre id='line1237' class='code' style='background-color: #FFFFff'>
    SdifFAllMatrixTypeToSdifString(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this, __pyx_v_sdifstr);
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line1238")'> 1238:         out = PyString_from_SdifString(sdifstr)</pre>
<pre id='line1238' class='code' style='background-color: #FFFF9f'>
    __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_PyString_from_SdifString(__pyx_v_sdifstr);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1238; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_out);
  __pyx_v_out = __pyx_t_1;
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1239")'> 1239:         SdifStringFree(sdifstr)</pre>
<pre id='line1239' class='code' style='background-color: #FFFFff'>
    SdifStringFree(__pyx_v_sdifstr);
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1240")'> 1240:         return out</pre>
<pre id='line1240' class='code' style='background-color: #FFFF4f'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_out);
  __pyx_r = __pyx_v_out;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.matrix_types_to_string");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_out);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1241")'> 1241: </pre>
<pre id='line1241' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line1242")'> 1242:     def get_matrix_types(self):</pre>
<pre id='line1242' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_matrix_types(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_get_matrix_types[] = "SdifFile.get_matrix_types(self)\n\n        returns a list of matrix type definitions (1MTD)\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_matrix_types(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_matrix_types");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1243")'> 1243:         """</pre>
<pre id='line1243' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1244")'> 1244:         returns a list of matrix type definitions (1MTD)</pre>
<pre id='line1244' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1245")'> 1245:         """</pre>
<pre id='line1245' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line1246")'> 1246:         return MatrixTypesTable_to_list(self.this.MatrixTypesTable)</pre>
<pre id='line1246' class='code' style='background-color: #FFFF57'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_MatrixTypesTable_to_list(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->MatrixTypesTable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1246; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.get_matrix_types");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1247")'> 1247: </pre>
<pre id='line1247' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line1248")'> 1248:     def get_NVTs(self):</pre>
<pre id='line1248' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_NVTs(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_get_NVTs[] = "SdifFile.get_NVTs(self)\n\n        return a list with all devined NameValueTables \n        each NVT is converted to a python dict\n        ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_NVTs(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_NVTs");
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1249")'> 1249:         """</pre>
<pre id='line1249' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1250")'> 1250:         return a list with all devined NameValueTables</pre>
<pre id='line1250' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1251")'> 1251:         each NVT is converted to a python dict</pre>
<pre id='line1251' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1252")'> 1252:         """</pre>
<pre id='line1252' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line1253")'> 1253:         return valuetables_to_dicts (self.this.NameValues)</pre>
<pre id='line1253' class='code' style='background-color: #FFFF57'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_valuetables_to_dicts(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->NameValues);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.get_NVTs");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1254")'> 1254: </pre>
<pre id='line1254' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line1255")'> 1255:     def get_stream_IDs(self):</pre>
<pre id='line1255' class='code' style='background-color: #FFFFd4'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_stream_IDs(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_8SdifFile_get_stream_IDs[] = "SdifFile.get_stream_IDs(self)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_8SdifFile_get_stream_IDs(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("get_stream_IDs");
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line1256")'> 1256:         return streamidtable_to_list(self.this.StreamIDsTable)</pre>
<pre id='line1256' class='code' style='background-color: #FFFF57'>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_r);
  __pyx_t_1 = __pyx_f_6pysdif_7_pysdif_streamidtable_to_list(((struct __pyx_obj_6pysdif_7_pysdif_SdifFile *)__pyx_v_self)->this->StreamIDsTable);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1256; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.SdifFile.get_stream_IDs");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1257")'> 1257: </pre>
<pre id='line1257' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1258")'> 1258: </pre>
<pre id='line1258' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1259")'> 1259: # -----------------------------------------------------------------------------------------------</pre>
<pre id='line1259' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1260")'> 1260: </pre>
<pre id='line1260' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1261")'> 1261: def test_bench_read_sdif1(filename):</pre>
<pre id='line1261' class='code' style='background-color: #FFFFaa'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif1(PyObject *__pyx_self, PyObject *__pyx_v_filename); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_test_bench_read_sdif1[] = "test_bench_read_sdif1(filename)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif1(PyObject *__pyx_self, PyObject *__pyx_v_filename) {
  PyObject *__pyx_v_sdif_file;
  int __pyx_v_n;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("test_bench_read_sdif1");
  __pyx_self = __pyx_self;
  __pyx_v_sdif_file = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line1262")'> 1262:     sdif_file = SdifFile(filename)</pre>
<pre id='line1262' class='code' style='background-color: #FFFF41'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_filename);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filename);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_filename);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_SdifFile)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  __pyx_v_sdif_file = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1263")'> 1263:     cdef int n</pre>
<pre id='line1263' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF44' onclick='toggleDiv("line1264")'> 1264:     while sdif_file.read_frame_header():</pre>
<pre id='line1264' class='code' style='background-color: #FFFF44'>
    while (1) {
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_read_frame_header);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
    __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_3 = __Pyx_<span class='py_api'>PyObject_IsTrue</span>(__pyx_t_1);<span class='error_goto'> if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    if (!__pyx_t_3) break;
</pre><pre class='line' style='background-color: #FFFF52' onclick='toggleDiv("line1265")'> 1265:         for n in range(sdif_file.matrices_in_frame):</pre>
<pre id='line1265' class='code' style='background-color: #FFFF52'>
        __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_matrices_in_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1265; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    __pyx_t_4 = __Pyx_<span class='py_api'>PyInt_AsLong</span>(__pyx_t_1);<span class='error_goto'> if (unlikely((__pyx_t_4 == (long)-1) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1265; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    for (__pyx_t_5 = 0; __pyx_t_5 < __pyx_t_4; __pyx_t_5+=1) {
      __pyx_v_n = __pyx_t_5;
</pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line1266")'> 1266:             sdif_file.get_matrix_data()</pre>
<pre id='line1266' class='code' style='background-color: #FFFF4f'>
            __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_get_matrix_data);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
    }
  }
</pre><pre class='line' style='background-color: #FFFF32' onclick='toggleDiv("line1267")'> 1267:     sdif_file.close()</pre>
<pre id='line1267' class='code' style='background-color: #FFFF32'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_close);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.test_bench_read_sdif1");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1268")'> 1268: </pre>
<pre id='line1268' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line1269")'> 1269: def test_bench_read_sdif2(filename):</pre>
<pre id='line1269' class='code' style='background-color: #FFFF79'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif2(PyObject *__pyx_self, PyObject *__pyx_v_filename); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_test_bench_read_sdif2[] = "test_bench_read_sdif2(filename)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif2(PyObject *__pyx_self, PyObject *__pyx_v_filename) {
  PyObject *__pyx_v_sdif_file;
  PyObject *__pyx_v_frame;
  PyObject *__pyx_v_matrix;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("test_bench_read_sdif2");
  __pyx_self = __pyx_self;
  __pyx_v_sdif_file = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frame = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_matrix = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1270")'> 1270:     # this is the slowest version</pre>
<pre id='line1270' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line1271")'> 1271:     sdif_file = SdifFile(filename)</pre>
<pre id='line1271' class='code' style='background-color: #FFFF41'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_filename);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filename);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_filename);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_SdifFile)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  __pyx_v_sdif_file = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1272")'> 1272:     for frame in sdif_file:</pre>
<pre id='line1272' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_sdif_file) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_sdif_file)) {
    __pyx_t_3 = 0; __pyx_t_2 = __pyx_v_sdif_file; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
  } else {
    __pyx_t_3 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_sdif_file);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else {
      __pyx_t_1 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
      if (!__pyx_t_1) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
    __pyx_v_frame = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1273")'> 1273:         for matrix in frame:</pre>
<pre id='line1273' class='code' style='background-color: #FFFF26'>
        if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_frame) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_frame)) {
      __pyx_t_4 = 0; __pyx_t_1 = __pyx_v_frame; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1);
    } else {
      __pyx_t_4 = -1; __pyx_t_1 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_frame);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    }
    for (;;) {
      if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_1))) {
        if (__pyx_t_4 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_1)) break;
        __pyx_t_5 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_1, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_4++;
      } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_1))) {
        if (__pyx_t_4 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_1)) break;
        __pyx_t_5 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_1, __pyx_t_4); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_5); __pyx_t_4++;
      } else {
        __pyx_t_5 = <span class='py_api'>PyIter_Next</span>(__pyx_t_1);
        if (!__pyx_t_5) {
          if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          break;
        }
        <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix);
      __pyx_v_matrix = __pyx_t_5;
      __pyx_t_5 = 0;
</pre><pre class='line' style='background-color: #FFFF43' onclick='toggleDiv("line1274")'> 1274:             matrix.get_data()</pre>
<pre id='line1274' class='code' style='background-color: #FFFF43'>
            __pyx_t_5 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_matrix, __pyx_kp_get_data);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
      __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_5, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_5); __pyx_t_5 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF28' onclick='toggleDiv("line1275")'> 1275:     sdif_file.close()</pre>
<pre id='line1275' class='code' style='background-color: #FFFF28'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_close);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1275; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_1 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1275; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.test_bench_read_sdif2");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_matrix);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1276")'> 1276: </pre>
<pre id='line1276' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1277")'> 1277: def test_bench_read_sdif6(filename):</pre>
<pre id='line1277' class='code' style='background-color: #FFFFaa'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif6(PyObject *__pyx_self, PyObject *__pyx_v_filename); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_test_bench_read_sdif6[] = "test_bench_read_sdif6(filename)\n\n    this is pure c, has no overhead at all and thus is a good\n    reference to measure the other implementations.\n    at the moment, the best we get at the python \n    interpreter is 1.227 (22,7%) slower than pure c\n    ";
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif6(PyObject *__pyx_self, PyObject *__pyx_v_filename) {
  int __pyx_v_n;
  size_t __pyx_v_char_read;
  SdifFileT *__pyx_v_f;
  int __pyx_v_eof;
  PyObject *__pyx_v_data;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("test_bench_read_sdif6");
  __pyx_self = __pyx_self;
  __pyx_v_data = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1278")'> 1278:     """</pre>
<pre id='line1278' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1279")'> 1279:     this is pure c, has no overhead at all and thus is a good</pre>
<pre id='line1279' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1280")'> 1280:     reference to measure the other implementations.</pre>
<pre id='line1280' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1281")'> 1281:     at the moment, the best we get at the python</pre>
<pre id='line1281' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1282")'> 1282:     interpreter is 1.227 (22,7%) slower than pure c</pre>
<pre id='line1282' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1283")'> 1283:     """</pre>
<pre id='line1283' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1284")'> 1284:     cdef int n</pre>
<pre id='line1284' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1285")'> 1285:     cdef size_t char_read</pre>
<pre id='line1285' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line1286")'> 1286:     cdef SdifFileT *f = SdifFOpen(filename, eReadFile)</pre>
<pre id='line1286' class='code' style='background-color: #FFFF7f'>
    __pyx_t_1 = __Pyx_<span class='py_api'>PyBytes_AsString</span>(__pyx_v_filename);<span class='error_goto'> if (unlikely((__pyx_t_1 == (const char*)NULL) && <span class='py_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1286; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_v_f = SdifFOpen(__pyx_t_1, eReadFile);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1287")'> 1287:     SdifFReadGeneralHeader(f)</pre>
<pre id='line1287' class='code' style='background-color: #FFFFff'>
    SdifFReadGeneralHeader(__pyx_v_f);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1288")'> 1288:     SdifFReadAllASCIIChunks(f)</pre>
<pre id='line1288' class='code' style='background-color: #FFFFff'>
    SdifFReadAllASCIIChunks(__pyx_v_f);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1289")'> 1289:     cdef int eof = (f.CurrSignature == eEof)</pre>
<pre id='line1289' class='code' style='background-color: #FFFFff'>
    __pyx_v_eof = (__pyx_v_f->CurrSignature == eEof);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1290")'> 1290:     while eof == 0:</pre>
<pre id='line1290' class='code' style='background-color: #FFFFff'>
    while (1) {
    __pyx_t_2 = (__pyx_v_eof == 0);
    if (!__pyx_t_2) break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1291")'> 1291:         SdifFReadFrameHeader(f)</pre>
<pre id='line1291' class='code' style='background-color: #FFFFff'>
        SdifFReadFrameHeader(__pyx_v_f);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1292")'> 1292:         for n in range(f.CurrFramH.NbMatrix):</pre>
<pre id='line1292' class='code' style='background-color: #FFFFff'>
        for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_v_f->CurrFramH->NbMatrix; __pyx_t_3+=1) {
      __pyx_v_n = __pyx_t_3;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1293")'> 1293:             SdifFReadMatrixHeader(f)</pre>
<pre id='line1293' class='code' style='background-color: #FFFFff'>
            SdifFReadMatrixHeader(__pyx_v_f);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1294")'> 1294:             SdifFReadMatrixData(f)</pre>
<pre id='line1294' class='code' style='background-color: #FFFFff'>
            SdifFReadMatrixData(__pyx_v_f);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1295")'> 1295:             # it is not totally pure c in the sense that at this</pre>
<pre id='line1295' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1296")'> 1296:             # point we have a numpy array which we could use in</pre>
<pre id='line1296' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1297")'> 1297:             # python.</pre>
<pre id='line1297' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line1298")'> 1298:             data = _array_from_matrix_data_no_copy(f.CurrMtrxData)</pre>
<pre id='line1298' class='code' style='background-color: #FFFF9f'>
            __pyx_t_4 = ((PyObject *)__pyx_f_6pysdif_7_pysdif__array_from_matrix_data_no_copy(__pyx_v_f->CurrMtrxData));<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_data);
      __pyx_v_data = __pyx_t_4;
      __pyx_t_4 = 0;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1299")'> 1299:         eof = SdifFGetSignature(f, &amp;char_read) == eEof</pre>
<pre id='line1299' class='code' style='background-color: #FFFFff'>
        __pyx_v_eof = (SdifFGetSignature(__pyx_v_f, (&__pyx_v_char_read)) == eEof);
  }
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line1300")'> 1300:     SdifFClose(f)</pre>
<pre id='line1300' class='code' style='background-color: #FFFF62'>
    SdifFClose(__pyx_v_f);

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.test_bench_read_sdif6");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_data);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1301")'> 1301: </pre>
<pre id='line1301' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line1302")'> 1302: def test_bench_read_sdif3(filename):</pre>
<pre id='line1302' class='code' style='background-color: #FFFF8d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif3(PyObject *__pyx_self, PyObject *__pyx_v_filename); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_test_bench_read_sdif3[] = "test_bench_read_sdif3(filename)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif3(PyObject *__pyx_self, PyObject *__pyx_v_filename) {
  PyObject *__pyx_v_sdif_file;
  int __pyx_v_n;
  PyObject *__pyx_v_frame;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("test_bench_read_sdif3");
  __pyx_self = __pyx_self;
  __pyx_v_sdif_file = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frame = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1303")'> 1303:     # fastest, 4 is almost the same, 2 is twice as slow...,</pre>
<pre id='line1303' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1304")'> 1304:     # it should be different for frames which have</pre>
<pre id='line1304' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1305")'> 1305:     # many matrices but that is really the exception.</pre>
<pre id='line1305' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line1306")'> 1306:     sdif_file = SdifFile(filename)</pre>
<pre id='line1306' class='code' style='background-color: #FFFF41'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_filename);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filename);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_filename);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_SdifFile)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  __pyx_v_sdif_file = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1307")'> 1307:     cdef int n</pre>
<pre id='line1307' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1308")'> 1308:     for frame in sdif_file:</pre>
<pre id='line1308' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_sdif_file) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_sdif_file)) {
    __pyx_t_3 = 0; __pyx_t_2 = __pyx_v_sdif_file; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
  } else {
    __pyx_t_3 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_sdif_file);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else {
      __pyx_t_1 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
      if (!__pyx_t_1) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
    __pyx_v_frame = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1309")'> 1309:         for n in range(len(frame)):</pre>
<pre id='line1309' class='code' style='background-color: #FFFFaa'>
        __pyx_t_4 = <span class='py_api'>PyObject_Length</span>(__pyx_v_frame);<span class='error_goto'> if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    for (__pyx_t_5 = 0; __pyx_t_5 < __pyx_t_4; __pyx_t_5+=1) {
      __pyx_v_n = __pyx_t_5;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1310")'> 1310:             sdif_file.get_next_matrix().get_data()</pre>
<pre id='line1310' class='code' style='background-color: #FFFF2c'>
            __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_get_next_matrix);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_t_6, __pyx_kp_get_data);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
    }
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1311")'> 1311:     sdif_file.close()</pre>
<pre id='line1311' class='code' style='background-color: #FFFF2c'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_close);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.test_bench_read_sdif3");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1312")'> 1312: </pre>
<pre id='line1312' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line1313")'> 1313: def test_bench_read_sdif4(filename):</pre>
<pre id='line1313' class='code' style='background-color: #FFFF8d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif4(PyObject *__pyx_self, PyObject *__pyx_v_filename); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_test_bench_read_sdif4[] = "test_bench_read_sdif4(filename)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif4(PyObject *__pyx_self, PyObject *__pyx_v_filename) {
  PyObject *__pyx_v_sdif_file;
  int __pyx_v_n;
  PyObject *__pyx_v_frame;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("test_bench_read_sdif4");
  __pyx_self = __pyx_self;
  __pyx_v_sdif_file = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frame = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line1314")'> 1314:     sdif_file = SdifFile(filename)</pre>
<pre id='line1314' class='code' style='background-color: #FFFF41'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1314; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_filename);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filename);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_filename);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_SdifFile)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1314; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  __pyx_v_sdif_file = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1315")'> 1315:     cdef int n</pre>
<pre id='line1315' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1316")'> 1316:     for frame in sdif_file:</pre>
<pre id='line1316' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_sdif_file) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_sdif_file)) {
    __pyx_t_3 = 0; __pyx_t_2 = __pyx_v_sdif_file; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
  } else {
    __pyx_t_3 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_sdif_file);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else {
      __pyx_t_1 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
      if (!__pyx_t_1) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1316; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
    __pyx_v_frame = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line1317")'> 1317:         for n in range(len(frame)):</pre>
<pre id='line1317' class='code' style='background-color: #FFFFaa'>
        __pyx_t_4 = <span class='py_api'>PyObject_Length</span>(__pyx_v_frame);<span class='error_goto'> if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    for (__pyx_t_5 = 0; __pyx_t_5 < __pyx_t_4; __pyx_t_5+=1) {
      __pyx_v_n = __pyx_t_5;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1318")'> 1318:             frame.next().get_data()</pre>
<pre id='line1318' class='code' style='background-color: #FFFF2c'>
            __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame, __pyx_kp_next);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_t_6, __pyx_kp_get_data);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
    }
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1319")'> 1319:     sdif_file.close()</pre>
<pre id='line1319' class='code' style='background-color: #FFFF2c'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_close);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1319; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.test_bench_read_sdif4");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1320")'> 1320: </pre>
<pre id='line1320' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line1321")'> 1321: def test_bench_read_sdif5(filename):</pre>
<pre id='line1321' class='code' style='background-color: #FFFF8d'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif5(PyObject *__pyx_self, PyObject *__pyx_v_filename); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_test_bench_read_sdif5[] = "test_bench_read_sdif5(filename)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_bench_read_sdif5(PyObject *__pyx_self, PyObject *__pyx_v_filename) {
  PyObject *__pyx_v_sdif_file;
  PyObject *__pyx_v_frame;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("test_bench_read_sdif5");
  __pyx_self = __pyx_self;
  __pyx_v_sdif_file = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frame = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1322")'> 1322:     # this is the fastest for common case where a frame has only one matrix</pre>
<pre id='line1322' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1323")'> 1323:     # and you do not need to check the signature of each matrix</pre>
<pre id='line1323' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1324")'> 1324:     # (since the matrix-header and the data are read in one function-call)</pre>
<pre id='line1324' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF41' onclick='toggleDiv("line1325")'> 1325:     sdif_file = SdifFile(filename)</pre>
<pre id='line1325' class='code' style='background-color: #FFFF41'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_filename);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filename);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_filename);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_SdifFile)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  __pyx_v_sdif_file = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF26' onclick='toggleDiv("line1326")'> 1326:     for frame in sdif_file:</pre>
<pre id='line1326' class='code' style='background-color: #FFFF26'>
    if (<span class='py_api'>PyList_CheckExact</span>(__pyx_v_sdif_file) || <span class='py_api'>PyTuple_CheckExact</span>(__pyx_v_sdif_file)) {
    __pyx_t_3 = 0; __pyx_t_2 = __pyx_v_sdif_file; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_2);
  } else {
    __pyx_t_3 = -1; __pyx_t_2 = <span class='py_api'>PyObject_GetIter</span>(__pyx_v_sdif_file);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  }
  for (;;) {
    if (likely(<span class='py_api'>PyList_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyList_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyList_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else if (likely(<span class='py_api'>PyTuple_CheckExact</span>(__pyx_t_2))) {
      if (__pyx_t_3 >= <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_t_2)) break;
      __pyx_t_1 = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_t_2, __pyx_t_3); <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_t_1); __pyx_t_3++;
    } else {
      __pyx_t_1 = <span class='py_api'>PyIter_Next</span>(__pyx_t_2);
      if (!__pyx_t_1) {
        if (unlikely(<span class='py_api'>PyErr_Occurred</span>()))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        break;
      }
      <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    }
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
    __pyx_v_frame = __pyx_t_1;
    __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFF48' onclick='toggleDiv("line1327")'> 1327:         frame.get_matrix_data() # assume that there is only one matrix per frame</pre>
<pre id='line1327' class='code' style='background-color: #FFFF48'>
        __pyx_t_1 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame, __pyx_kp_get_matrix_data);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
    __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_1); __pyx_t_1 = 0;
    <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;
  }
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1328")'> 1328:     sdif_file.close()</pre>
<pre id='line1328' class='code' style='background-color: #FFFF2c'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_sdif_file, __pyx_kp_close);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_4 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_4); __pyx_t_4 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.test_bench_read_sdif5");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_sdif_file);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line1329")'> 1329: </pre>
<pre id='line1329' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line1330")'> 1330: def test_write(filename):</pre>
<pre id='line1330' class='code' style='background-color: #FFFF79'>
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_write(PyObject *__pyx_self, PyObject *__pyx_v_filename); /*proto*/
static char __pyx_doc_6pysdif_7_pysdif_test_write[] = "test_write(filename)";
static PyObject *__pyx_pf_6pysdif_7_pysdif_test_write(PyObject *__pyx_self, PyObject *__pyx_v_filename) {
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_m;
  PyObject *__pyx_v_frame;
  PyObject *__pyx_r = NULL;
  <span class='pyx_api'>__Pyx_SetupRefcountContext</span>("test_write");
  __pyx_self = __pyx_self;
  __pyx_v_s = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_m = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  __pyx_v_frame = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
</pre><pre class='line' style='background-color: #FFFF37' onclick='toggleDiv("line1331")'> 1331:     s = SdifFile(filename, "w")</pre>
<pre id='line1331' class='code' style='background-color: #FFFF37'>
    __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1331; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_filename);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_v_filename);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_filename);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_86);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_kp_86);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_86);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(((PyObject *)((PyObject*)__pyx_ptype_6pysdif_7_pysdif_SdifFile)), ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1331; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_s);
  __pyx_v_s = __pyx_t_2;
  __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1332")'> 1332:     s.add_matrix_type("1MTX", "ColumnaA")</pre>
<pre id='line1332' class='code' style='background-color: #FFFF2c'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_s, __pyx_kp_add_matrix_type);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_87);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_87);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_87);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_88);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_kp_88);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_88);
  __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1333")'> 1333:     s.add_frame_type("1ABC", "1MTX pupu")</pre>
<pre id='line1333' class='code' style='background-color: #FFFF2c'>
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_s, __pyx_kp_add_frame_type);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_89);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, __pyx_kp_89);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_89);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_90);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 1, __pyx_kp_90);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_90);
  __pyx_t_2 = <span class='py_api'>PyObject_Call</span>(__pyx_t_3, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF2a' onclick='toggleDiv("line1334")'> 1334:     s.add_NVT({"meta":"data"})</pre>
<pre id='line1334' class='code' style='background-color: #FFFF2a'>
    __pyx_t_2 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_s, __pyx_kp_add_NVT);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_91, __pyx_kp_92) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_t_1 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_1, 0, ((PyObject *)__pyx_1));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_1));
  __pyx_1 = 0;
  __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_2, ((PyObject *)__pyx_t_1), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_2); __pyx_t_2 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFF11' onclick='toggleDiv("line1335")'> 1335:     m = numpy.array([0.0, 0.1, 0.3, 0.7, 0.4], dtype=float)</pre>
<pre id='line1335' class='code' style='background-color: #FFFF11'>
    __pyx_1 = <span class='pyx_api'>__Pyx_GetName</span>(__pyx_m, __pyx_kp_numpy);<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_1);
  __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_1, __pyx_kp_array);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_1); __pyx_1 = 0;
  __pyx_t_1 = <span class='py_api'>PyFloat_FromDouble</span>(0.0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_api'>PyFloat_FromDouble</span>(0.10000000000000001);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_4 = <span class='py_api'>PyFloat_FromDouble</span>(0.29999999999999999);<span class='error_goto'> if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_4);
  __pyx_t_5 = <span class='py_api'>PyFloat_FromDouble</span>(0.69999999999999996);<span class='error_goto'> if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_5);
  __pyx_t_6 = <span class='py_api'>PyFloat_FromDouble</span>(0.40000000000000002);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
  __pyx_t_7 = <span class='py_api'>PyList_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_7));
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_7, 0, __pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_2);
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_7, 2, __pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_4);
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_7, 3, __pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_5);
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_7, 4, __pyx_t_6);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_6);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_4 = 0;
  __pyx_t_5 = 0;
  __pyx_t_6 = 0;
  __pyx_t_6 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_6));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, ((PyObject *)__pyx_t_7));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_t_7));
  __pyx_t_7 = 0;
  __pyx_1 = <span class='py_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_1));
  if (<span class='py_api'>PyDict_SetItem</span>(__pyx_1, __pyx_kp_dtype, ((PyObject *)((PyObject*)&<span class='py_api'>PyFloat_Type</span>))) < 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_t_7 = <span class='py_api'>PyEval_CallObjectWithKeywords</span>(__pyx_t_3, ((PyObject *)__pyx_t_6), ((PyObject *)__pyx_1));<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_7);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_6)); __pyx_t_6 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_1)); __pyx_1 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_m);
  __pyx_v_m = __pyx_t_7;
  __pyx_t_7 = 0;
</pre><pre class='line' style='background-color: #FFFF24' onclick='toggleDiv("line1336")'> 1336:     m.resize((5, 1))</pre>
<pre id='line1336' class='code' style='background-color: #FFFF24'>
    __pyx_t_7 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_m, __pyx_kp_resize);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_7);
  __pyx_t_6 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_6));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_int_5);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 0, __pyx_int_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_int_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_int_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_6, 1, __pyx_int_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_int_1);
  __pyx_t_3 = <span class='py_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_3));
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, ((PyObject *)__pyx_t_6));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(((PyObject *)__pyx_t_6));
  __pyx_t_6 = 0;
  __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_7, ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_7); __pyx_t_7 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class='line' style='background-color: #FFFF29' onclick='toggleDiv("line1337")'> 1337:     frame = s.new_frame("1ABC", 0.0)</pre>
<pre id='line1337' class='code' style='background-color: #FFFF29'>
    __pyx_t_6 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_s, __pyx_kp_new_frame);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1337; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
  __pyx_t_3 = <span class='py_api'>PyFloat_FromDouble</span>(0.0);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1337; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_7 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1337; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_7));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_93);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_kp_93);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_93);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_api'>PyObject_Call</span>(__pyx_t_6, ((PyObject *)__pyx_t_7), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1337; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_7)); __pyx_t_7 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
  __pyx_v_frame = __pyx_t_3;
  __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFF2c' onclick='toggleDiv("line1338")'> 1338:     frame.add_matrix("1MTX", m)</pre>
<pre id='line1338' class='code' style='background-color: #FFFF2c'>
    __pyx_t_3 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame, __pyx_kp_add_matrix);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1338; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_3);
  __pyx_t_7 = <span class='py_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1338; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_7));
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_kp_94);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 0, __pyx_kp_94);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_kp_94);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(__pyx_v_m);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_7, 1, __pyx_v_m);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GIVEREF</span></span>(__pyx_v_m);
  __pyx_t_6 = <span class='py_api'>PyObject_Call</span>(__pyx_t_3, ((PyObject *)__pyx_t_7), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1338; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_3); __pyx_t_3 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(((PyObject *)__pyx_t_7)); __pyx_t_7 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
</pre><pre class='line' style='background-color: #FFFF22' onclick='toggleDiv("line1339")'> 1339:     frame.write()</pre>
<pre id='line1339' class='code' style='background-color: #FFFF22'>
    __pyx_t_6 = <span class='py_api'>PyObject_GetAttr</span>(__pyx_v_frame, __pyx_kp_write);<span class='error_goto'> if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1339; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_6);
  __pyx_t_7 = <span class='py_api'>PyObject_Call</span>(__pyx_t_6, ((PyObject *)__pyx_empty_tuple), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1339; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_GOTREF</span></span>(__pyx_t_7);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_6); __pyx_t_6 = 0;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_t_7); __pyx_t_7 = 0;

  __pyx_r = Py_None; <span class='pyx_api'>__<span class='py_macro_api'>Pyx_INCREF</span></span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_1);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_2);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_3);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_4);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_5);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_6);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XDECREF</span></span>(__pyx_t_7);
  <span class='pyx_api'>__Pyx_AddTraceback</span>("pysdif._pysdif.test_write");
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_s);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_m);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_DECREF</span></span>(__pyx_v_frame);
  <span class='pyx_api'>__<span class='py_macro_api'>Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_api'>__Pyx_FinishRefcountContext</span>();
  return __pyx_r;
}
</pre></body></html>
